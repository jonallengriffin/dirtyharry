/* To download this javascript non-compressed, add allinone=0 to the end of the url. */
/* Example: http://www.wikia.com/wiki/About_Wikia?allinone=0 */

if(typeof YAHOO=="undefined"||!YAHOO){var YAHOO={}}YAHOO.namespace=function(){var A=arguments,E=null,C,B,D;for(C=0;C<A.length;C=C+1){D=A[C].split(".");E=YAHOO;for(B=(D[0]=="YAHOO")?1:0;B<D.length;B=B+1){E[D[B]]=E[D[B]]||{};E=E[D[B]]}}return E};YAHOO.log=function(D,A,C){var B=YAHOO.widget.Logger;if(B&&B.log){return B.log(D,A,C)}else{return false}};YAHOO.register=function(A,E,D){var I=YAHOO.env.modules;if(!I[A]){I[A]={versions:[],builds:[]}}var B=I[A],H=D.version,G=D.build,F=YAHOO.env.listeners;B.name=A;B.version=H;B.build=G;B.versions.push(H);B.builds.push(G);B.mainClass=E;for(var C=0;C<F.length;C=C+1){F[C](B)}if(E){E.VERSION=H;E.BUILD=G}else{YAHOO.log("mainClass is undefined for module "+A,"warn")}};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(A){return YAHOO.env.modules[A]||null};YAHOO.env.ua=function(){var C={ie:0,opera:0,gecko:0,webkit:0,mobile:null};var B=navigator.userAgent,A;if((/KHTML/).test(B)){C.webkit=1}A=B.match(/AppleWebKit\/([^\s]*)/);if(A&&A[1]){C.webkit=parseFloat(A[1]);if(/ Mobile\//.test(B)){C.mobile="Apple"}else{A=B.match(/NokiaN[^\/]*/);if(A){C.mobile=A[0]}}}if(!C.webkit){A=B.match(/Opera[\s\/]([^\s]*)/);if(A&&A[1]){C.opera=parseFloat(A[1]);A=B.match(/Opera Mini[^;]*/);if(A){C.mobile=A[0]}}else{A=B.match(/MSIE\s([^;]*)/);if(A&&A[1]){C.ie=parseFloat(A[1])}else{A=B.match(/Gecko\/([^\s]*)/);if(A){C.gecko=1;A=B.match(/rv:([^\s\)]*)/);if(A&&A[1]){C.gecko=parseFloat(A[1])}}}}}return C}();(function(){YAHOO.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var B=YAHOO_config.listener,A=YAHOO.env.listeners,D=true,C;if(B){for(C=0;C<A.length;C=C+1){if(A[C]==B){D=false;break}}if(D){A.push(B)}}}})();YAHOO.lang=YAHOO.lang||{isArray:function(B){if(B){var A=YAHOO.lang;return A.isNumber(B.length)&&A.isFunction(B.splice)}return false},isBoolean:function(A){return typeof A==="boolean"},isFunction:function(A){return typeof A==="function"},isNull:function(A){return A===null},isNumber:function(A){return typeof A==="number"&&isFinite(A)},isObject:function(A){return(A&&(typeof A==="object"||YAHOO.lang.isFunction(A)))||false},isString:function(A){return typeof A==="string"},isUndefined:function(A){return typeof A==="undefined"},hasOwnProperty:function(A,B){if(Object.prototype.hasOwnProperty){return A.hasOwnProperty(B)}return !YAHOO.lang.isUndefined(A[B])&&A.constructor.prototype[B]!==A[B]},_IEEnumFix:function(C,B){if(YAHOO.env.ua.ie){var E=["toString","valueOf"],A;for(A=0;A<E.length;A=A+1){var F=E[A],D=B[F];if(YAHOO.lang.isFunction(D)&&D!=Object.prototype[F]){C[F]=D}}}},extend:function(D,E,C){if(!E||!D){throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.")}var B=function(){};B.prototype=E.prototype;D.prototype=new B();D.prototype.constructor=D;D.superclass=E.prototype;if(E.prototype.constructor==Object.prototype.constructor){E.prototype.constructor=E}if(C){for(var A in C){D.prototype[A]=C[A]}YAHOO.lang._IEEnumFix(D.prototype,C)}},augmentObject:function(E,D){if(!D||!E){throw new Error("Absorb failed, verify dependencies.")}var A=arguments,C,F,B=A[2];if(B&&B!==true){for(C=2;C<A.length;C=C+1){E[A[C]]=D[A[C]]}}else{for(F in D){if(B||!E[F]){E[F]=D[F]}}YAHOO.lang._IEEnumFix(E,D)}},augmentProto:function(D,C){if(!C||!D){throw new Error("Augment failed, verify dependencies.")}var A=[D.prototype,C.prototype];for(var B=2;B<arguments.length;B=B+1){A.push(arguments[B])}YAHOO.lang.augmentObject.apply(this,A)},dump:function(A,G){var C=YAHOO.lang,D,F,I=[],J="{...}",B="f(){...}",H=", ",E=" => ";if(!C.isObject(A)){return A+""}else{if(A instanceof Date||("nodeType" in A&&"tagName" in A)){return A}else{if(C.isFunction(A)){return B}}}G=(C.isNumber(G))?G:3;if(C.isArray(A)){I.push("[");for(D=0,F=A.length;D<F;D=D+1){if(C.isObject(A[D])){I.push((G>0)?C.dump(A[D],G-1):J)}else{I.push(A[D])}I.push(H)}if(I.length>1){I.pop()}I.push("]")}else{I.push("{");for(D in A){if(C.hasOwnProperty(A,D)){I.push(D+E);if(C.isObject(A[D])){I.push((G>0)?C.dump(A[D],G-1):J)}else{I.push(A[D])}I.push(H)}}if(I.length>1){I.pop()}I.push("}")}return I.join("")},substitute:function(Q,B,J){var G,F,E,M,N,P,D=YAHOO.lang,L=[],C,H="dump",K=" ",A="{",O="}";for(;;){G=Q.lastIndexOf(A);if(G<0){break}F=Q.indexOf(O,G);if(G+1>=F){break}C=Q.substring(G+1,F);M=C;P=null;E=M.indexOf(K);if(E>-1){P=M.substring(E+1);M=M.substring(0,E)}N=B[M];if(J){N=J(M,N,P)}if(D.isObject(N)){if(D.isArray(N)){N=D.dump(N,parseInt(P,10))}else{P=P||"";var I=P.indexOf(H);if(I>-1){P=P.substring(4)}if(N.toString===Object.prototype.toString||I>-1){N=D.dump(N,parseInt(P,10))}else{N=N.toString()}}}else{if(!D.isString(N)&&!D.isNumber(N)){N="~-"+L.length+"-~";L[L.length]=C}}Q=Q.substring(0,G)+N+Q.substring(F+1)}for(G=L.length-1;G>=0;G=G-1){Q=Q.replace(new RegExp("~-"+G+"-~"),"{"+L[G]+"}","g")}return Q},trim:function(A){try{return A.replace(/^\s+|\s+$/g,"")}catch(B){return A}},merge:function(){var D={},B=arguments;for(var C=0,A=B.length;C<A;C=C+1){YAHOO.lang.augmentObject(D,B[C],true)}return D},later:function(H,B,I,D,E){H=H||0;B=B||{};var C=I,G=D,F,A;if(YAHOO.lang.isString(I)){C=B[I]}if(!C){throw new TypeError("method undefined")}if(!YAHOO.lang.isArray(G)){G=[D]}F=function(){C.apply(B,G)};A=(E)?setInterval(F,H):setTimeout(F,H);return{interval:E,cancel:function(){if(this.interval){clearInterval(A)}else{clearTimeout(A)}}}},isValue:function(B){var A=YAHOO.lang;return(A.isObject(B)||A.isString(B)||A.isNumber(B)||A.isBoolean(B))}};YAHOO.util.Lang=YAHOO.lang;YAHOO.lang.augment=YAHOO.lang.augmentProto;YAHOO.augment=YAHOO.lang.augmentProto;YAHOO.extend=YAHOO.lang.extend;YAHOO.register("yahoo",YAHOO,{version:"2.4.0",build:"733"});(function(){var B=YAHOO.util,L,J,H=0,K={},F={},N=window.document;var C=YAHOO.env.ua.opera,M=YAHOO.env.ua.webkit,A=YAHOO.env.ua.gecko,G=YAHOO.env.ua.ie;var E={HYPHEN:/(-[a-z])/i,ROOT_TAG:/^body|html$/i};var O=function(Q){if(!E.HYPHEN.test(Q)){return Q}if(K[Q]){return K[Q]}var R=Q;while(E.HYPHEN.exec(R)){R=R.replace(RegExp.$1,RegExp.$1.substr(1).toUpperCase())}K[Q]=R;return R};var P=function(R){var Q=F[R];if(!Q){Q=new RegExp("(?:^|\\s+)"+R+"(?:\\s+|$)");F[R]=Q}return Q};if(N.defaultView&&N.defaultView.getComputedStyle){L=function(Q,T){var S=null;if(T=="float"){T="cssFloat"}var R=N.defaultView.getComputedStyle(Q,"");if(R){S=R[O(T)]}return Q.style[T]||S}}else{if(N.documentElement.currentStyle&&G){L=function(Q,S){switch(O(S)){case"opacity":var U=100;try{U=Q.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(T){try{U=Q.filters("alpha").opacity}catch(T){}}return U/100;case"float":S="styleFloat";default:var R=Q.currentStyle?Q.currentStyle[S]:null;return(Q.style[S]||R)}}}else{L=function(Q,R){return Q.style[R]}}}if(G){J=function(Q,R,S){switch(R){case"opacity":if(YAHOO.lang.isString(Q.style.filter)){Q.style.filter="alpha(opacity="+S*100+")";if(!Q.currentStyle||!Q.currentStyle.hasLayout){Q.style.zoom=1}}break;case"float":R="styleFloat";default:Q.style[R]=S}}}else{J=function(Q,R,S){if(R=="float"){R="cssFloat"}Q.style[R]=S}}var D=function(Q,R){return Q&&Q.nodeType==1&&(!R||R(Q))};YAHOO.util.Dom={get:function(S){if(S&&(S.tagName||S.item)){return S}if(YAHOO.lang.isString(S)||!S){return N.getElementById(S)}if(S.length!==undefined){var T=[];for(var R=0,Q=S.length;R<Q;++R){T[T.length]=B.Dom.get(S[R])}return T}return S},getStyle:function(Q,S){S=O(S);var R=function(T){return L(T,S)};return B.Dom.batch(Q,R,B.Dom,true)},setStyle:function(Q,S,T){S=O(S);var R=function(U){J(U,S,T)};B.Dom.batch(Q,R,B.Dom,true)},getXY:function(Q){var R=function(S){if((S.parentNode===null||S.offsetParent===null||this.getStyle(S,"display")=="none")&&S!=S.ownerDocument.body){return false}return I(S)};return B.Dom.batch(Q,R,B.Dom,true)},getX:function(Q){var R=function(S){return B.Dom.getXY(S)[0]};return B.Dom.batch(Q,R,B.Dom,true)},getY:function(Q){var R=function(S){return B.Dom.getXY(S)[1]};return B.Dom.batch(Q,R,B.Dom,true)},setXY:function(Q,T,S){var R=function(W){var V=this.getStyle(W,"position");if(V=="static"){this.setStyle(W,"position","relative");V="relative"}var Y=this.getXY(W);if(Y===false){return false}var X=[parseInt(this.getStyle(W,"left"),10),parseInt(this.getStyle(W,"top"),10)];if(isNaN(X[0])){X[0]=(V=="relative")?0:W.offsetLeft}if(isNaN(X[1])){X[1]=(V=="relative")?0:W.offsetTop}if(T[0]!==null){W.style.left=T[0]-Y[0]+X[0]+"px"}if(T[1]!==null){W.style.top=T[1]-Y[1]+X[1]+"px"}if(!S){var U=this.getXY(W);if((T[0]!==null&&U[0]!=T[0])||(T[1]!==null&&U[1]!=T[1])){this.setXY(W,T,true)}}};B.Dom.batch(Q,R,B.Dom,true)},setX:function(R,Q){B.Dom.setXY(R,[Q,null])},setY:function(Q,R){B.Dom.setXY(Q,[null,R])},getRegion:function(Q){var R=function(S){if((S.parentNode===null||S.offsetParent===null||this.getStyle(S,"display")=="none")&&S!=N.body){return false}var T=B.Region.getRegion(S);return T};return B.Dom.batch(Q,R,B.Dom,true)},getClientWidth:function(){return B.Dom.getViewportWidth()},getClientHeight:function(){return B.Dom.getViewportHeight()},getElementsByClassName:function(U,Y,V,W){Y=Y||"*";V=(V)?B.Dom.get(V):null||N;if(!V){return[]}var R=[],Q=V.getElementsByTagName(Y),X=P(U);for(var S=0,T=Q.length;S<T;++S){if(X.test(Q[S].className)){R[R.length]=Q[S];if(W){W.call(Q[S],Q[S])}}}return R},hasClass:function(S,R){var Q=P(R);var T=function(U){return Q.test(U.className)};return B.Dom.batch(S,T,B.Dom,true)},addClass:function(R,Q){var S=function(T){if(this.hasClass(T,Q)){return false}T.className=YAHOO.lang.trim([T.className,Q].join(" "));return true};return B.Dom.batch(R,S,B.Dom,true)},removeClass:function(S,R){var Q=P(R);var T=function(U){if(!this.hasClass(U,R)){return false}var V=U.className;U.className=V.replace(Q," ");if(this.hasClass(U,R)){this.removeClass(U,R)}U.className=YAHOO.lang.trim(U.className);return true};return B.Dom.batch(S,T,B.Dom,true)},replaceClass:function(T,R,Q){if(!Q||R===Q){return false}var S=P(R);var U=function(V){if(!this.hasClass(V,R)){this.addClass(V,Q);return true}V.className=V.className.replace(S," "+Q+" ");if(this.hasClass(V,R)){this.replaceClass(V,R,Q)}V.className=YAHOO.lang.trim(V.className);return true};return B.Dom.batch(T,U,B.Dom,true)},generateId:function(Q,S){S=S||"yui-gen";var R=function(T){if(T&&T.id){return T.id}var U=S+H++;if(T){T.id=U}return U};return B.Dom.batch(Q,R,B.Dom,true)||R.apply(B.Dom,arguments)},isAncestor:function(Q,R){Q=B.Dom.get(Q);R=B.Dom.get(R);if(!Q||!R){return false}if(Q.contains&&R.nodeType&&!M){return Q.contains(R)}else{if(Q.compareDocumentPosition&&R.nodeType){return !!(Q.compareDocumentPosition(R)&16)}else{if(R.nodeType){return !!this.getAncestorBy(R,function(S){return S==Q})}}}return false},inDocument:function(Q){return this.isAncestor(N.documentElement,Q)},getElementsBy:function(X,R,S,U){R=R||"*";S=(S)?B.Dom.get(S):null||N;if(!S){return[]}var T=[],W=S.getElementsByTagName(R);for(var V=0,Q=W.length;V<Q;++V){if(X(W[V])){T[T.length]=W[V];if(U){U(W[V])}}}return T},batch:function(U,X,W,S){U=(U&&(U.tagName||U.item))?U:B.Dom.get(U);if(!U||!X){return false}var T=(S)?W:window;if(U.tagName||U.length===undefined){return X.call(T,U,W)}var V=[];for(var R=0,Q=U.length;R<Q;++R){V[V.length]=X.call(T,U[R],W)}return V},getDocumentHeight:function(){var R=(N.compatMode!="CSS1Compat")?N.body.scrollHeight:N.documentElement.scrollHeight;var Q=Math.max(R,B.Dom.getViewportHeight());return Q},getDocumentWidth:function(){var R=(N.compatMode!="CSS1Compat")?N.body.scrollWidth:N.documentElement.scrollWidth;var Q=Math.max(R,B.Dom.getViewportWidth());return Q},getViewportHeight:function(){var Q=self.innerHeight;var R=N.compatMode;if((R||G)&&!C){Q=(R=="CSS1Compat")?N.documentElement.clientHeight:N.body.clientHeight}return Q},getViewportWidth:function(){var Q=self.innerWidth;var R=N.compatMode;if(R||G){Q=(R=="CSS1Compat")?N.documentElement.clientWidth:N.body.clientWidth}return Q},getAncestorBy:function(Q,R){while(Q=Q.parentNode){if(D(Q,R)){return Q}}return null},getAncestorByClassName:function(R,Q){R=B.Dom.get(R);if(!R){return null}var S=function(T){return B.Dom.hasClass(T,Q)};return B.Dom.getAncestorBy(R,S)},getAncestorByTagName:function(R,Q){R=B.Dom.get(R);if(!R){return null}var S=function(T){return T.tagName&&T.tagName.toUpperCase()==Q.toUpperCase()};return B.Dom.getAncestorBy(R,S)},getPreviousSiblingBy:function(Q,R){while(Q){Q=Q.previousSibling;if(D(Q,R)){return Q}}return null},getPreviousSibling:function(Q){Q=B.Dom.get(Q);if(!Q){return null}return B.Dom.getPreviousSiblingBy(Q)},getNextSiblingBy:function(Q,R){while(Q){Q=Q.nextSibling;if(D(Q,R)){return Q}}return null},getNextSibling:function(Q){Q=B.Dom.get(Q);if(!Q){return null}return B.Dom.getNextSiblingBy(Q)},getFirstChildBy:function(Q,S){var R=(D(Q.firstChild,S))?Q.firstChild:null;return R||B.Dom.getNextSiblingBy(Q.firstChild,S)},getFirstChild:function(Q,R){Q=B.Dom.get(Q);if(!Q){return null}return B.Dom.getFirstChildBy(Q)},getLastChildBy:function(Q,S){if(!Q){return null}var R=(D(Q.lastChild,S))?Q.lastChild:null;return R||B.Dom.getPreviousSiblingBy(Q.lastChild,S)},getLastChild:function(Q){Q=B.Dom.get(Q);return B.Dom.getLastChildBy(Q)},getChildrenBy:function(R,T){var S=B.Dom.getFirstChildBy(R,T);var Q=S?[S]:[];B.Dom.getNextSiblingBy(S,function(U){if(!T||T(U)){Q[Q.length]=U}return false});return Q},getChildren:function(Q){Q=B.Dom.get(Q);if(!Q){}return B.Dom.getChildrenBy(Q)},getDocumentScrollLeft:function(Q){Q=Q||N;return Math.max(Q.documentElement.scrollLeft,Q.body.scrollLeft)},getDocumentScrollTop:function(Q){Q=Q||N;return Math.max(Q.documentElement.scrollTop,Q.body.scrollTop)},insertBefore:function(R,Q){R=B.Dom.get(R);Q=B.Dom.get(Q);if(!R||!Q||!Q.parentNode){return null}return Q.parentNode.insertBefore(R,Q)},insertAfter:function(R,Q){R=B.Dom.get(R);Q=B.Dom.get(Q);if(!R||!Q||!Q.parentNode){return null}if(Q.nextSibling){return Q.parentNode.insertBefore(R,Q.nextSibling)}else{return Q.parentNode.appendChild(R)}},getClientRegion:function(){var S=B.Dom.getDocumentScrollTop(),R=B.Dom.getDocumentScrollLeft(),T=B.Dom.getViewportWidth()+R,Q=B.Dom.getViewportHeight()+S;return new B.Region(S,T,Q,R)}};var I=function(){if(N.documentElement.getBoundingClientRect){return function(R){var S=R.getBoundingClientRect();var Q=R.ownerDocument;return[S.left+B.Dom.getDocumentScrollLeft(Q),S.top+B.Dom.getDocumentScrollTop(Q)]}}else{return function(S){var T=[S.offsetLeft,S.offsetTop];var R=S.offsetParent;var Q=(M&&B.Dom.getStyle(S,"position")=="absolute"&&S.offsetParent==S.ownerDocument.body);if(R!=S){while(R){T[0]+=R.offsetLeft;T[1]+=R.offsetTop;if(!Q&&M&&B.Dom.getStyle(R,"position")=="absolute"){Q=true}R=R.offsetParent}}if(Q){T[0]-=S.ownerDocument.body.offsetLeft;T[1]-=S.ownerDocument.body.offsetTop}R=S.parentNode;while(R.tagName&&!E.ROOT_TAG.test(R.tagName)){if(B.Dom.getStyle(R,"display").search(/^inline|table-row.*$/i)){T[0]-=R.scrollLeft;T[1]-=R.scrollTop}R=R.parentNode}return T}}}()})();YAHOO.util.Region=function(C,D,A,B){this.top=C;this[1]=C;this.right=D;this.bottom=A;this.left=B;this[0]=B};YAHOO.util.Region.prototype.contains=function(A){return(A.left>=this.left&&A.right<=this.right&&A.top>=this.top&&A.bottom<=this.bottom)};YAHOO.util.Region.prototype.getArea=function(){return((this.bottom-this.top)*(this.right-this.left))};YAHOO.util.Region.prototype.intersect=function(E){var C=Math.max(this.top,E.top);var D=Math.min(this.right,E.right);var A=Math.min(this.bottom,E.bottom);var B=Math.max(this.left,E.left);if(A>=C&&D>=B){return new YAHOO.util.Region(C,D,A,B)}else{return null}};YAHOO.util.Region.prototype.union=function(E){var C=Math.min(this.top,E.top);var D=Math.max(this.right,E.right);var A=Math.max(this.bottom,E.bottom);var B=Math.min(this.left,E.left);return new YAHOO.util.Region(C,D,A,B)};YAHOO.util.Region.prototype.toString=function(){return("Region {top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+"}")};YAHOO.util.Region.getRegion=function(D){var F=YAHOO.util.Dom.getXY(D);var C=F[1];var E=F[0]+D.offsetWidth;var A=F[1]+D.offsetHeight;var B=F[0];return new YAHOO.util.Region(C,E,A,B)};YAHOO.util.Point=function(A,B){if(YAHOO.lang.isArray(A)){B=A[1];A=A[0]}this.x=this.right=this.left=this[0]=A;this.y=this.top=this.bottom=this[1]=B};YAHOO.util.Point.prototype=new YAHOO.util.Region();YAHOO.register("dom",YAHOO.util.Dom,{version:"2.4.0",build:"733"});YAHOO.util.CustomEvent=function(D,B,C,A){this.type=D;this.scope=B||window;this.silent=C;this.signature=A||YAHOO.util.CustomEvent.LIST;this.subscribers=[];if(!this.silent){}var E="_YUICEOnSubscribe";if(D!==E){this.subscribeEvent=new YAHOO.util.CustomEvent(E,this,true)}this.lastError=null};YAHOO.util.CustomEvent.LIST=0;YAHOO.util.CustomEvent.FLAT=1;YAHOO.util.CustomEvent.prototype={subscribe:function(B,C,A){if(!B){throw new Error("Invalid callback for subscriber to '"+this.type+"'")}if(this.subscribeEvent){this.subscribeEvent.fire(B,C,A)}this.subscribers.push(new YAHOO.util.Subscriber(B,C,A))},unsubscribe:function(D,F){if(!D){return this.unsubscribeAll()}var E=false;for(var B=0,A=this.subscribers.length;B<A;++B){var C=this.subscribers[B];if(C&&C.contains(D,F)){this._delete(B);E=true}}return E},fire:function(){var D=this.subscribers.length;if(!D&&this.silent){return true}var G=[],F=true,C,H=false;for(C=0;C<arguments.length;++C){G.push(arguments[C])}if(!this.silent){}for(C=0;C<D;++C){var K=this.subscribers[C];if(!K){H=true}else{if(!this.silent){}var J=K.getScope(this.scope);if(this.signature==YAHOO.util.CustomEvent.FLAT){var A=null;if(G.length>0){A=G[0]}try{F=K.fn.call(J,A,K.obj)}catch(E){this.lastError=E}}else{try{F=K.fn.call(J,this.type,G,K.obj)}catch(E){this.lastError=E}}if(false===F){if(!this.silent){}return false}}}if(H){var I=[],B=this.subscribers;for(C=0,D=B.length;C<D;C=C+1){I.push(B[C])}this.subscribers=I}return true},unsubscribeAll:function(){for(var B=0,A=this.subscribers.length;B<A;++B){this._delete(A-1-B)}this.subscribers=[];return B},_delete:function(A){var B=this.subscribers[A];if(B){delete B.fn;delete B.obj}this.subscribers[A]=null},toString:function(){return"CustomEvent: '"+this.type+"', scope: "+this.scope}};YAHOO.util.Subscriber=function(B,C,A){this.fn=B;this.obj=YAHOO.lang.isUndefined(C)?null:C;this.override=A};YAHOO.util.Subscriber.prototype.getScope=function(A){if(this.override){if(this.override===true){return this.obj}else{return this.override}}return A};YAHOO.util.Subscriber.prototype.contains=function(A,B){if(B){return(this.fn==A&&this.obj==B)}else{return(this.fn==A)}};YAHOO.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", override: "+(this.override||"no")+" }"};if(!YAHOO.util.Event){YAHOO.util.Event=function(){var H=false;var I=[];var J=[];var G=[];var E=[];var C=0;var F=[];var B=[];var A=0;var D={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9};return{POLL_RETRYS:4000,POLL_INTERVAL:10,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,lastError:null,isSafari:YAHOO.env.ua.webkit,webkit:YAHOO.env.ua.webkit,isIE:YAHOO.env.ua.ie,_interval:null,_dri:null,DOMReady:false,startInterval:function(){if(!this._interval){var K=this;var L=function(){K._tryPreloadAttach()};this._interval=setInterval(L,this.POLL_INTERVAL)}},onAvailable:function(P,M,Q,O,N){var K=(YAHOO.lang.isString(P))?[P]:P;for(var L=0;L<K.length;L=L+1){F.push({id:K[L],fn:M,obj:Q,override:O,checkReady:N})}C=this.POLL_RETRYS;this.startInterval()},onContentReady:function(M,K,N,L){this.onAvailable(M,K,N,L,true)},onDOMReady:function(K,M,L){if(this.DOMReady){setTimeout(function(){var N=window;if(L){if(L===true){N=M}else{N=L}}K.call(N,"DOMReady",[],M)},0)}else{this.DOMReadyEvent.subscribe(K,M,L)}},addListener:function(M,K,V,Q,L){if(!V||!V.call){return false}if(this._isValidCollection(M)){var W=true;for(var R=0,T=M.length;R<T;++R){W=this.on(M[R],K,V,Q,L)&&W}return W}else{if(YAHOO.lang.isString(M)){var P=this.getEl(M);if(P){M=P}else{this.onAvailable(M,function(){YAHOO.util.Event.on(M,K,V,Q,L)});return true}}}if(!M){return false}if("unload"==K&&Q!==this){J[J.length]=[M,K,V,Q,L];return true}var Y=M;if(L){if(L===true){Y=Q}else{Y=L}}var N=function(Z){return V.call(Y,YAHOO.util.Event.getEvent(Z,M),Q)};var X=[M,K,V,N,Y,Q,L];var S=I.length;I[S]=X;if(this.useLegacyEvent(M,K)){var O=this.getLegacyIndex(M,K);if(O==-1||M!=G[O][0]){O=G.length;B[M.id+K]=O;G[O]=[M,K,M["on"+K]];E[O]=[];M["on"+K]=function(Z){YAHOO.util.Event.fireLegacyEvent(YAHOO.util.Event.getEvent(Z),O)}}E[O].push(X)}else{try{this._simpleAdd(M,K,N,false)}catch(U){this.lastError=U;this.removeListener(M,K,V);return false}}return true},fireLegacyEvent:function(O,M){var Q=true,K,S,R,T,P;S=E[M];for(var L=0,N=S.length;L<N;++L){R=S[L];if(R&&R[this.WFN]){T=R[this.ADJ_SCOPE];P=R[this.WFN].call(T,O);Q=(Q&&P)}}K=G[M];if(K&&K[2]){K[2](O)}return Q},getLegacyIndex:function(L,M){var K=this.generateId(L)+M;if(typeof B[K]=="undefined"){return -1}else{return B[K]}},useLegacyEvent:function(L,M){if(this.webkit&&("click"==M||"dblclick"==M)){var K=parseInt(this.webkit,10);if(!isNaN(K)&&K<418){return true}}return false},removeListener:function(L,K,T){var O,R,V;if(typeof L=="string"){L=this.getEl(L)}else{if(this._isValidCollection(L)){var U=true;for(O=0,R=L.length;O<R;++O){U=(this.removeListener(L[O],K,T)&&U)}return U}}if(!T||!T.call){return this.purgeElement(L,false,K)}if("unload"==K){for(O=0,R=J.length;O<R;O++){V=J[O];if(V&&V[0]==L&&V[1]==K&&V[2]==T){J[O]=null;return true}}return false}var P=null;var Q=arguments[3];if("undefined"===typeof Q){Q=this._getCacheIndex(L,K,T)}if(Q>=0){P=I[Q]}if(!L||!P){return false}if(this.useLegacyEvent(L,K)){var N=this.getLegacyIndex(L,K);var M=E[N];if(M){for(O=0,R=M.length;O<R;++O){V=M[O];if(V&&V[this.EL]==L&&V[this.TYPE]==K&&V[this.FN]==T){M[O]=null;break}}}}else{try{this._simpleRemove(L,K,P[this.WFN],false)}catch(S){this.lastError=S;return false}}delete I[Q][this.WFN];delete I[Q][this.FN];I[Q]=null;return true},getTarget:function(M,L){var K=M.target||M.srcElement;return this.resolveTextNode(K)},resolveTextNode:function(K){if(K&&3==K.nodeType){return K.parentNode}else{return K}},getPageX:function(L){var K=L.pageX;if(!K&&0!==K){K=L.clientX||0;if(this.isIE){K+=this._getScrollLeft()}}return K},getPageY:function(K){var L=K.pageY;if(!L&&0!==L){L=K.clientY||0;if(this.isIE){L+=this._getScrollTop()}}return L},getXY:function(K){return[this.getPageX(K),this.getPageY(K)]},getRelatedTarget:function(L){var K=L.relatedTarget;if(!K){if(L.type=="mouseout"){K=L.toElement}else{if(L.type=="mouseover"){K=L.fromElement}}}return this.resolveTextNode(K)},getTime:function(M){if(!M.time){var L=new Date().getTime();try{M.time=L}catch(K){this.lastError=K;return L}}return M.time},stopEvent:function(K){this.stopPropagation(K);this.preventDefault(K)},stopPropagation:function(K){if(K.stopPropagation){K.stopPropagation()}else{K.cancelBubble=true}},preventDefault:function(K){if(K.preventDefault){K.preventDefault()}else{K.returnValue=false}},getEvent:function(M,K){var L=M||window.event;if(!L){var N=this.getEvent.caller;while(N){L=N.arguments[0];if(L&&Event==L.constructor){break}N=N.caller}}return L},getCharCode:function(L){var K=L.keyCode||L.charCode||0;if(YAHOO.env.ua.webkit&&(K in D)){K=D[K]}return K},_getCacheIndex:function(O,P,N){for(var M=0,L=I.length;M<L;++M){var K=I[M];if(K&&K[this.FN]==N&&K[this.EL]==O&&K[this.TYPE]==P){return M}}return -1},generateId:function(K){var L=K.id;if(!L){L="yuievtautoid-"+A;++A;K.id=L}return L},_isValidCollection:function(L){try{return(L&&typeof L!=="string"&&L.length&&!L.tagName&&!L.alert&&typeof L[0]!=="undefined")}catch(K){return false}},elCache:{},getEl:function(K){return(typeof K==="string")?document.getElementById(K):K},clearCache:function(){},DOMReadyEvent:new YAHOO.util.CustomEvent("DOMReady",this),_load:function(L){if(!H){H=true;var K=YAHOO.util.Event;K._ready();K._tryPreloadAttach()}},_ready:function(L){var K=YAHOO.util.Event;if(!K.DOMReady){K.DOMReady=true;K.DOMReadyEvent.fire();K._simpleRemove(document,"DOMContentLoaded",K._ready)}},_tryPreloadAttach:function(){if(this.locked){return false}if(this.isIE){if(!this.DOMReady){this.startInterval();return false}}this.locked=true;var P=!H;if(!P){P=(C>0)}var O=[];var Q=function(S,T){var R=S;if(T.override){if(T.override===true){R=T.obj}else{R=T.override}}T.fn.call(R,T.obj)};var L,K,N,M;for(L=0,K=F.length;L<K;++L){N=F[L];if(N&&!N.checkReady){M=this.getEl(N.id);if(M){Q(M,N);F[L]=null}else{O.push(N)}}}for(L=0,K=F.length;L<K;++L){N=F[L];if(N&&N.checkReady){M=this.getEl(N.id);if(M){if(H||M.nextSibling){Q(M,N);F[L]=null}}else{O.push(N)}}}C=(O.length===0)?0:C-1;if(P){this.startInterval()}else{clearInterval(this._interval);this._interval=null}this.locked=false;return true},purgeElement:function(O,P,R){var M=(YAHOO.lang.isString(O))?this.getEl(O):O;var Q=this.getListeners(M,R),N,K;if(Q){for(N=0,K=Q.length;N<K;++N){var L=Q[N];this.removeListener(M,L.type,L.fn,L.index)}}if(P&&M&&M.childNodes){for(N=0,K=M.childNodes.length;N<K;++N){this.purgeElement(M.childNodes[N],P,R)}}},getListeners:function(M,K){var P=[],L;if(!K){L=[I,J]}else{if(K==="unload"){L=[J]}else{L=[I]}}var R=(YAHOO.lang.isString(M))?this.getEl(M):M;for(var O=0;O<L.length;O=O+1){var T=L[O];if(T&&T.length>0){for(var Q=0,S=T.length;Q<S;++Q){var N=T[Q];if(N&&N[this.EL]===R&&(!K||K===N[this.TYPE])){P.push({type:N[this.TYPE],fn:N[this.FN],obj:N[this.OBJ],adjust:N[this.OVERRIDE],scope:N[this.ADJ_SCOPE],index:Q})}}}}return(P.length)?P:null},_unload:function(R){var Q=YAHOO.util.Event,O,N,L,K,M;for(O=0,K=J.length;O<K;++O){L=J[O];if(L){var P=window;if(L[Q.ADJ_SCOPE]){if(L[Q.ADJ_SCOPE]===true){P=L[Q.UNLOAD_OBJ]}else{P=L[Q.ADJ_SCOPE]}}L[Q.FN].call(P,Q.getEvent(R,L[Q.EL]),L[Q.UNLOAD_OBJ]);J[O]=null;L=null;P=null}}J=null;if(YAHOO.env.ua.IE&&I&&I.length>0){N=I.length;while(N){M=N-1;L=I[M];if(L){L[Q.EL].clearAttributes()}N=N-1}L=null}G=null;Q._simpleRemove(window,"unload",Q._unload)},_getScrollLeft:function(){return this._getScroll()[1]},_getScrollTop:function(){return this._getScroll()[0]},_getScroll:function(){var K=document.documentElement,L=document.body;if(K&&(K.scrollTop||K.scrollLeft)){return[K.scrollTop,K.scrollLeft]}else{if(L){return[L.scrollTop,L.scrollLeft]}else{return[0,0]}}},regCE:function(){},_simpleAdd:function(){if(window.addEventListener){return function(M,N,L,K){M.addEventListener(N,L,(K))}}else{if(window.attachEvent){return function(M,N,L,K){M.attachEvent("on"+N,L)}}else{return function(){}}}}(),_simpleRemove:function(){if(window.removeEventListener){return function(M,N,L,K){M.removeEventListener(N,L,(K))}}else{if(window.detachEvent){return function(L,M,K){L.detachEvent("on"+M,K)}}else{return function(){}}}}()}}();(function(){var A=YAHOO.util.Event;A.on=A.addListener;if(A.isIE){YAHOO.util.Event.onDOMReady(YAHOO.util.Event._tryPreloadAttach,YAHOO.util.Event,true);A._dri=setInterval(function(){var C=document.createElement("p");try{C.doScroll("left");clearInterval(A._dri);A._dri=null;A._ready();C=null}catch(B){C=null}},A.POLL_INTERVAL)}else{if(A.webkit){A._dri=setInterval(function(){var B=document.readyState;if("loaded"==B||"complete"==B){clearInterval(A._dri);A._dri=null;A._ready()}},A.POLL_INTERVAL)}else{A._simpleAdd(document,"DOMContentLoaded",A._ready)}}A._simpleAdd(window,"load",A._load);A._simpleAdd(window,"unload",A._unload);A._tryPreloadAttach()})()}YAHOO.util.EventProvider=function(){};YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(A,C,F,E){this.__yui_events=this.__yui_events||{};var D=this.__yui_events[A];if(D){D.subscribe(C,F,E)}else{this.__yui_subscribers=this.__yui_subscribers||{};var B=this.__yui_subscribers;if(!B[A]){B[A]=[]}B[A].push({fn:C,obj:F,override:E})}},unsubscribe:function(C,E,G){this.__yui_events=this.__yui_events||{};var A=this.__yui_events;if(C){var F=A[C];if(F){return F.unsubscribe(E,G)}}else{var B=true;for(var D in A){if(YAHOO.lang.hasOwnProperty(A,D)){B=B&&A[D].unsubscribe(E,G)}}return B}return false},unsubscribeAll:function(A){return this.unsubscribe(A)},createEvent:function(G,D){this.__yui_events=this.__yui_events||{};var A=D||{};var I=this.__yui_events;if(I[G]){}else{var H=A.scope||this;var E=(A.silent);var B=new YAHOO.util.CustomEvent(G,H,E,YAHOO.util.CustomEvent.FLAT);I[G]=B;if(A.onSubscribeCallback){B.subscribeEvent.subscribe(A.onSubscribeCallback)}this.__yui_subscribers=this.__yui_subscribers||{};var F=this.__yui_subscribers[G];if(F){for(var C=0;C<F.length;++C){B.subscribe(F[C].fn,F[C].obj,F[C].override)}}}return I[G]},fireEvent:function(E,D,A,C){this.__yui_events=this.__yui_events||{};var G=this.__yui_events[E];if(!G){return null}var B=[];for(var F=1;F<arguments.length;++F){B.push(arguments[F])}return G.fire.apply(G,B)},hasEvent:function(A){if(this.__yui_events){if(this.__yui_events[A]){return true}}return false}};YAHOO.util.KeyListener=function(A,F,B,C){if(!A){}else{if(!F){}else{if(!B){}}}if(!C){C=YAHOO.util.KeyListener.KEYDOWN}var D=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled");this.disabledEvent=new YAHOO.util.CustomEvent("disabled");if(typeof A=="string"){A=document.getElementById(A)}if(typeof B=="function"){D.subscribe(B)}else{D.subscribe(B.fn,B.scope,B.correctScope)}function E(J,I){if(!F.shift){F.shift=false}if(!F.alt){F.alt=false}if(!F.ctrl){F.ctrl=false}if(J.shiftKey==F.shift&&J.altKey==F.alt&&J.ctrlKey==F.ctrl){var G;if(F.keys instanceof Array){for(var H=0;H<F.keys.length;H++){G=F.keys[H];if(G==J.charCode){D.fire(J.charCode,J);break}else{if(G==J.keyCode){D.fire(J.keyCode,J);break}}}}else{G=F.keys;if(G==J.charCode){D.fire(J.charCode,J)}else{if(G==J.keyCode){D.fire(J.keyCode,J)}}}}}this.enable=function(){if(!this.enabled){YAHOO.util.Event.addListener(A,C,E);this.enabledEvent.fire(F)}this.enabled=true};this.disable=function(){if(this.enabled){YAHOO.util.Event.removeListener(A,C,E);this.disabledEvent.fire(F)}this.enabled=false};this.toString=function(){return"KeyListener ["+F.keys+"] "+A.tagName+(A.id?"["+A.id+"]":"")}};YAHOO.util.KeyListener.KEYDOWN="keydown";YAHOO.util.KeyListener.KEYUP="keyup";YAHOO.util.KeyListener.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38};YAHOO.register("event",YAHOO.util.Event,{version:"2.4.0",build:"733"});YAHOO.util.Connect={_msxml_progid:["Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP"],_http_headers:{},_has_http_headers:false,_use_default_post_header:true,_default_post_header:"application/x-www-form-urlencoded; charset=UTF-8",_default_form_header:"application/x-www-form-urlencoded",_use_default_xhr_header:true,_default_xhr_header:"XMLHttpRequest",_has_default_headers:true,_default_headers:{},_isFormSubmit:false,_isFileUpload:false,_formNode:null,_sFormData:null,_poll:{},_timeOut:{},_polling_interval:50,_transaction_id:0,_submitElementValue:null,_hasSubmitListener:(function(){if(YAHOO.util.Event){YAHOO.util.Event.addListener(document,"click",function(B){var A=YAHOO.util.Event.getTarget(B);if(A.type&&A.type.toLowerCase()=="submit"){YAHOO.util.Connect._submitElementValue=encodeURIComponent(A.name)+"="+encodeURIComponent(A.value)}});return true}return false})(),startEvent:new YAHOO.util.CustomEvent("start"),completeEvent:new YAHOO.util.CustomEvent("complete"),successEvent:new YAHOO.util.CustomEvent("success"),failureEvent:new YAHOO.util.CustomEvent("failure"),uploadEvent:new YAHOO.util.CustomEvent("upload"),abortEvent:new YAHOO.util.CustomEvent("abort"),_customEvents:{onStart:["startEvent","start"],onComplete:["completeEvent","complete"],onSuccess:["successEvent","success"],onFailure:["failureEvent","failure"],onUpload:["uploadEvent","upload"],onAbort:["abortEvent","abort"]},setProgId:function(A){this._msxml_progid.unshift(A)},setDefaultPostHeader:function(A){if(typeof A=="string"){this._default_post_header=A}else{if(typeof A=="boolean"){this._use_default_post_header=A}}},setDefaultXhrHeader:function(A){if(typeof A=="string"){this._default_xhr_header=A}else{this._use_default_xhr_header=A}},setPollingInterval:function(A){if(typeof A=="number"&&isFinite(A)){this._polling_interval=A}},createXhrObject:function(E){var D,A;try{A=new XMLHttpRequest();D={conn:A,tId:E}}catch(C){for(var B=0;B<this._msxml_progid.length;++B){try{A=new ActiveXObject(this._msxml_progid[B]);D={conn:A,tId:E};break}catch(C){}}}finally{return D}},getConnectionObject:function(A){var C;var D=this._transaction_id;try{if(!A){C=this.createXhrObject(D)}else{C={};C.tId=D;C.isUpload=true}if(C){this._transaction_id++}}catch(B){}finally{return C}},asyncRequest:function(F,C,E,A){var D=(this._isFileUpload)?this.getConnectionObject(true):this.getConnectionObject();var B=(E&&E.argument)?E.argument:null;if(!D){return null}else{if(E&&E.customevents){this.initCustomEvents(D,E)}if(this._isFormSubmit){if(this._isFileUpload){this.uploadFile(D,E,C,A);return D}if(F.toUpperCase()=="GET"){if(this._sFormData.length!==0){C+=((C.indexOf("?")==-1)?"?":"&")+this._sFormData}}else{if(F.toUpperCase()=="POST"){A=A?this._sFormData+"&"+A:this._sFormData}}}if(F.toUpperCase()=="GET"&&(E&&E.cache===false)){C+=((C.indexOf("?")==-1)?"?":"&")+"rnd="+new Date().valueOf().toString()}D.conn.open(F,C,true);if(this._use_default_xhr_header){if(!this._default_headers["X-Requested-With"]){this.initHeader("X-Requested-With",this._default_xhr_header,true)}}if((F.toUpperCase()=="POST"&&this._use_default_post_header)&&this._isFormSubmit===false){this.initHeader("Content-Type",this._default_post_header)}if(this._has_default_headers||this._has_http_headers){this.setHeader(D)}this.handleReadyState(D,E);D.conn.send(A||null);if(this._isFormSubmit===true){this.resetFormState()}this.startEvent.fire(D,B);if(D.startEvent){D.startEvent.fire(D,B)}return D}},initCustomEvents:function(A,C){for(var B in C.customevents){if(this._customEvents[B][0]){A[this._customEvents[B][0]]=new YAHOO.util.CustomEvent(this._customEvents[B][1],(C.scope)?C.scope:null);A[this._customEvents[B][0]].subscribe(C.customevents[B])}}},handleReadyState:function(C,D){var B=this;var A=(D&&D.argument)?D.argument:null;if(D&&D.timeout){this._timeOut[C.tId]=window.setTimeout(function(){B.abort(C,D,true)},D.timeout)}this._poll[C.tId]=window.setInterval(function(){if(C.conn&&C.conn.readyState===4){window.clearInterval(B._poll[C.tId]);delete B._poll[C.tId];if(D&&D.timeout){window.clearTimeout(B._timeOut[C.tId]);delete B._timeOut[C.tId]}B.completeEvent.fire(C,A);if(C.completeEvent){C.completeEvent.fire(C,A)}B.handleTransactionResponse(C,D)}},this._polling_interval)},handleTransactionResponse:function(F,G,A){var D,C;var B=(G&&G.argument)?G.argument:null;try{if(F.conn.status!==undefined&&F.conn.status!==0){D=F.conn.status}else{D=13030}}catch(E){D=13030}if(D>=200&&D<300||D===1223){C=this.createResponseObject(F,B);if(G&&G.success){if(!G.scope){G.success(C)}else{G.success.apply(G.scope,[C])}}this.successEvent.fire(C);if(F.successEvent){F.successEvent.fire(C)}}else{switch(D){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:C=this.createExceptionObject(F.tId,B,(A?A:false));if(G&&G.failure){if(!G.scope){G.failure(C)}else{G.failure.apply(G.scope,[C])}}break;default:C=this.createResponseObject(F,B);if(G&&G.failure){if(!G.scope){G.failure(C)}else{G.failure.apply(G.scope,[C])}}}this.failureEvent.fire(C);if(F.failureEvent){F.failureEvent.fire(C)}}this.releaseObject(F);C=null},createResponseObject:function(A,G){var D={};var I={};try{var C=A.conn.getAllResponseHeaders();var F=C.split("\n");for(var E=0;E<F.length;E++){var B=F[E].indexOf(":");if(B!=-1){I[F[E].substring(0,B)]=F[E].substring(B+2)}}}catch(H){}D.tId=A.tId;D.status=(A.conn.status==1223)?204:A.conn.status;D.statusText=(A.conn.status==1223)?"No Content":A.conn.statusText;D.getResponseHeader=I;D.getAllResponseHeaders=C;D.responseText=A.conn.responseText;D.responseXML=A.conn.responseXML;if(G){D.argument=G}return D},createExceptionObject:function(H,D,A){var F=0;var G="communication failure";var C=-1;var B="transaction aborted";var E={};E.tId=H;if(A){E.status=C;E.statusText=B}else{E.status=F;E.statusText=G}if(D){E.argument=D}return E},initHeader:function(A,D,C){var B=(C)?this._default_headers:this._http_headers;B[A]=D;if(C){this._has_default_headers=true}else{this._has_http_headers=true}},setHeader:function(A){if(this._has_default_headers){for(var B in this._default_headers){if(YAHOO.lang.hasOwnProperty(this._default_headers,B)){A.conn.setRequestHeader(B,this._default_headers[B])}}}if(this._has_http_headers){for(var B in this._http_headers){if(YAHOO.lang.hasOwnProperty(this._http_headers,B)){A.conn.setRequestHeader(B,this._http_headers[B])}}delete this._http_headers;this._http_headers={};this._has_http_headers=false}},resetDefaultHeaders:function(){delete this._default_headers;this._default_headers={};this._has_default_headers=false},setForm:function(K,E,B){this.resetFormState();var J;if(typeof K=="string"){J=(document.getElementById(K)||document.forms[K])}else{if(typeof K=="object"){J=K}else{return }}if(E){var F=this.createFrame(B?B:null);this._isFormSubmit=true;this._isFileUpload=true;this._formNode=J;return }var A,I,G,L;var H=false;for(var D=0;D<J.elements.length;D++){A=J.elements[D];L=A.disabled;I=A.name;G=A.value;if(!L&&I){switch(A.type){case"select-one":case"select-multiple":for(var C=0;C<A.options.length;C++){if(A.options[C].selected){if(window.ActiveXObject){this._sFormData+=encodeURIComponent(I)+"="+encodeURIComponent(A.options[C].attributes["value"].specified?A.options[C].value:A.options[C].text)+"&"}else{this._sFormData+=encodeURIComponent(I)+"="+encodeURIComponent(A.options[C].hasAttribute("value")?A.options[C].value:A.options[C].text)+"&"}}}break;case"radio":case"checkbox":if(A.checked){this._sFormData+=encodeURIComponent(I)+"="+encodeURIComponent(G)+"&"}break;case"file":case undefined:case"reset":case"button":break;case"submit":if(H===false){if(this._hasSubmitListener&&this._submitElementValue){this._sFormData+=this._submitElementValue+"&"}else{this._sFormData+=encodeURIComponent(I)+"="+encodeURIComponent(G)+"&"}H=true}break;default:this._sFormData+=encodeURIComponent(I)+"="+encodeURIComponent(G)+"&"}}}this._isFormSubmit=true;this._sFormData=this._sFormData.substr(0,this._sFormData.length-1);this.initHeader("Content-Type",this._default_form_header);return this._sFormData},resetFormState:function(){this._isFormSubmit=false;this._isFileUpload=false;this._formNode=null;this._sFormData=""},createFrame:function(A){var B="yuiIO"+this._transaction_id;var C;if(window.ActiveXObject){C=document.createElement('<iframe id="'+B+'" name="'+B+'" />');if(typeof A=="boolean"){C.src="javascript:false"}else{if(typeof secureURI=="string"){C.src=A}}}else{C=document.createElement("iframe");C.id=B;C.name=B}C.style.position="absolute";C.style.top="-1000px";C.style.left="-1000px";document.body.appendChild(C)},appendPostData:function(A){var D=[];var B=A.split("&");for(var C=0;C<B.length;C++){var E=B[C].indexOf("=");if(E!=-1){D[C]=document.createElement("input");D[C].type="hidden";D[C].name=B[C].substring(0,E);D[C].value=B[C].substring(E+1);this._formNode.appendChild(D[C])}}return D},uploadFile:function(D,M,E,C){var N=this;var H="yuiIO"+D.tId;var I="multipart/form-data";var K=document.getElementById(H);var J=(M&&M.argument)?M.argument:null;var B={action:this._formNode.getAttribute("action"),method:this._formNode.getAttribute("method"),target:this._formNode.getAttribute("target")};this._formNode.setAttribute("action",E);this._formNode.setAttribute("method","POST");this._formNode.setAttribute("target",H);if(this._formNode.encoding){this._formNode.setAttribute("encoding",I)}else{this._formNode.setAttribute("enctype",I)}if(C){var L=this.appendPostData(C)}this._formNode.submit();this.startEvent.fire(D,J);if(D.startEvent){D.startEvent.fire(D,J)}if(M&&M.timeout){this._timeOut[D.tId]=window.setTimeout(function(){N.abort(D,M,true)},M.timeout)}if(L&&L.length>0){for(var G=0;G<L.length;G++){this._formNode.removeChild(L[G])}}for(var A in B){if(YAHOO.lang.hasOwnProperty(B,A)){if(B[A]){this._formNode.setAttribute(A,B[A])}else{this._formNode.removeAttribute(A)}}}this.resetFormState();var F=function(){if(M&&M.timeout){window.clearTimeout(N._timeOut[D.tId]);delete N._timeOut[D.tId]}N.completeEvent.fire(D,J);if(D.completeEvent){D.completeEvent.fire(D,J)}var P={};P.tId=D.tId;P.argument=M.argument;try{P.responseText=K.contentWindow.document.body?K.contentWindow.document.body.innerHTML:K.contentWindow.document.documentElement.textContent;P.responseXML=K.contentWindow.document.XMLDocument?K.contentWindow.document.XMLDocument:K.contentWindow.document}catch(O){}if(M&&M.upload){if(!M.scope){M.upload(P)}else{M.upload.apply(M.scope,[P])}}N.uploadEvent.fire(P);if(D.uploadEvent){D.uploadEvent.fire(P)}YAHOO.util.Event.removeListener(K,"load",F);setTimeout(function(){document.body.removeChild(K);N.releaseObject(D)},100)};YAHOO.util.Event.addListener(K,"load",F)},abort:function(E,G,A){var D;var B=(G&&G.argument)?G.argument:null;if(E&&E.conn){if(this.isCallInProgress(E)){E.conn.abort();window.clearInterval(this._poll[E.tId]);delete this._poll[E.tId];if(A){window.clearTimeout(this._timeOut[E.tId]);delete this._timeOut[E.tId]}D=true}}else{if(E&&E.isUpload===true){var C="yuiIO"+E.tId;var F=document.getElementById(C);if(F){YAHOO.util.Event.removeListener(F,"load");document.body.removeChild(F);if(A){window.clearTimeout(this._timeOut[E.tId]);delete this._timeOut[E.tId]}D=true}}else{D=false}}if(D===true){this.abortEvent.fire(E,B);if(E.abortEvent){E.abortEvent.fire(E,B)}this.handleTransactionResponse(E,G,true)}return D},isCallInProgress:function(B){if(B&&B.conn){return B.conn.readyState!==4&&B.conn.readyState!==0}else{if(B&&B.isUpload===true){var A="yuiIO"+B.tId;return document.getElementById(A)?true:false}else{return false}}},releaseObject:function(A){if(A&&A.conn){A.conn=null;A=null}}};YAHOO.register("connection",YAHOO.util.Connect,{version:"2.4.0",build:"733"});YAHOO.util.Anim=function(B,A,C,D){if(!B){}this.init(B,A,C,D)};YAHOO.util.Anim.prototype={toString:function(){var A=this.getEl();var B=A.id||A.tagName||A;return("Anim "+B)},patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},doMethod:function(A,C,B){return this.method(this.currentFrame,C,B-C,this.totalFrames)},setAttribute:function(A,C,B){if(this.patterns.noNegatives.test(A)){C=(C>0)?C:0}YAHOO.util.Dom.setStyle(this.getEl(),A,C+B)},getAttribute:function(A){var C=this.getEl();var E=YAHOO.util.Dom.getStyle(C,A);if(E!=="auto"&&!this.patterns.offsetUnit.test(E)){return parseFloat(E)}var B=this.patterns.offsetAttribute.exec(A)||[];var F=!!(B[3]);var D=!!(B[2]);if(D||(YAHOO.util.Dom.getStyle(C,"position")=="absolute"&&F)){E=C["offset"+B[0].charAt(0).toUpperCase()+B[0].substr(1)]}else{E=0}return E},getDefaultUnit:function(A){if(this.patterns.defaultUnit.test(A)){return"px"}return""},setRuntimeAttribute:function(B){var G;var C;var D=this.attributes;this.runtimeAttributes[B]={};var F=function(H){return(typeof H!=="undefined")};if(!F(D[B]["to"])&&!F(D[B]["by"])){return false}G=(F(D[B]["from"]))?D[B]["from"]:this.getAttribute(B);if(F(D[B]["to"])){C=D[B]["to"]}else{if(F(D[B]["by"])){if(G.constructor==Array){C=[];for(var E=0,A=G.length;E<A;++E){C[E]=G[E]+D[B]["by"][E]*1}}else{C=G+D[B]["by"]*1}}}this.runtimeAttributes[B].start=G;this.runtimeAttributes[B].end=C;this.runtimeAttributes[B].unit=(F(D[B].unit))?D[B]["unit"]:this.getDefaultUnit(B);return true},init:function(C,H,G,A){var B=false;var D=null;var F=0;C=YAHOO.util.Dom.get(C);this.attributes=H||{};this.duration=!YAHOO.lang.isUndefined(G)?G:1;this.method=A||YAHOO.util.Easing.easeNone;this.useSeconds=true;this.currentFrame=0;this.totalFrames=YAHOO.util.AnimMgr.fps;this.setEl=function(K){C=YAHOO.util.Dom.get(K)};this.getEl=function(){return C};this.isAnimated=function(){return B};this.getStartTime=function(){return D};this.runtimeAttributes={};this.animate=function(){if(this.isAnimated()){return false}this.currentFrame=0;this.totalFrames=(this.useSeconds)?Math.ceil(YAHOO.util.AnimMgr.fps*this.duration):this.duration;if(this.duration===0&&this.useSeconds){this.totalFrames=1}YAHOO.util.AnimMgr.registerElement(this);return true};this.stop=function(K){if(!this.isAnimated()){return false}if(K){this.currentFrame=this.totalFrames;this._onTween.fire()}YAHOO.util.AnimMgr.stop(this)};var J=function(){this.onStart.fire();this.runtimeAttributes={};for(var K in this.attributes){this.setRuntimeAttribute(K)}B=true;F=0;D=new Date()};var I=function(){var M={duration:new Date()-this.getStartTime(),currentFrame:this.currentFrame};M.toString=function(){return("duration: "+M.duration+", currentFrame: "+M.currentFrame)};this.onTween.fire(M);var L=this.runtimeAttributes;for(var K in L){this.setAttribute(K,this.doMethod(K,L[K].start,L[K].end),L[K].unit)}F+=1};var E=function(){var K=(new Date()-D)/1000;var L={duration:K,frames:F,fps:F/K};L.toString=function(){return("duration: "+L.duration+", frames: "+L.frames+", fps: "+L.fps)};B=false;F=0;this.onComplete.fire(L)};this._onStart=new YAHOO.util.CustomEvent("_start",this,true);this.onStart=new YAHOO.util.CustomEvent("start",this);this.onTween=new YAHOO.util.CustomEvent("tween",this);this._onTween=new YAHOO.util.CustomEvent("_tween",this,true);this.onComplete=new YAHOO.util.CustomEvent("complete",this);this._onComplete=new YAHOO.util.CustomEvent("_complete",this,true);this._onStart.subscribe(J);this._onTween.subscribe(I);this._onComplete.subscribe(E)}};YAHOO.util.AnimMgr=new function(){var C=null;var B=[];var A=0;this.fps=1000;this.delay=1;this.registerElement=function(F){B[B.length]=F;A+=1;F._onStart.fire();this.start()};this.unRegister=function(G,F){F=F||E(G);if(!G.isAnimated()||F==-1){return false}G._onComplete.fire();B.splice(F,1);A-=1;if(A<=0){this.stop()}return true};this.start=function(){if(C===null){C=setInterval(this.run,this.delay)}};this.stop=function(H){if(!H){clearInterval(C);for(var G=0,F=B.length;G<F;++G){this.unRegister(B[0],0)}B=[];C=null;A=0}else{this.unRegister(H)}};this.run=function(){for(var H=0,F=B.length;H<F;++H){var G=B[H];if(!G||!G.isAnimated()){continue}if(G.currentFrame<G.totalFrames||G.totalFrames===null){G.currentFrame+=1;if(G.useSeconds){D(G)}G._onTween.fire()}else{YAHOO.util.AnimMgr.stop(G,H)}}};var E=function(H){for(var G=0,F=B.length;G<F;++G){if(B[G]==H){return G}}return -1};var D=function(G){var J=G.totalFrames;var I=G.currentFrame;var H=(G.currentFrame*G.duration*1000/G.totalFrames);var F=(new Date()-G.getStartTime());var K=0;if(F<G.duration*1000){K=Math.round((F/H-1)*G.currentFrame)}else{K=J-(I+1)}if(K>0&&isFinite(K)){if(G.currentFrame+K>=J){K=J-(I+1)}G.currentFrame+=K}}};YAHOO.util.Bezier=new function(){this.getPosition=function(E,D){var F=E.length;var C=[];for(var B=0;B<F;++B){C[B]=[E[B][0],E[B][1]]}for(var A=1;A<F;++A){for(B=0;B<F-A;++B){C[B][0]=(1-D)*C[B][0]+D*C[parseInt(B+1,10)][0];C[B][1]=(1-D)*C[B][1]+D*C[parseInt(B+1,10)][1]}}return[C[0][0],C[0][1]]}};(function(){YAHOO.util.ColorAnim=function(E,D,F,G){YAHOO.util.ColorAnim.superclass.constructor.call(this,E,D,F,G)};YAHOO.extend(YAHOO.util.ColorAnim,YAHOO.util.Anim);var B=YAHOO.util;var C=B.ColorAnim.superclass;var A=B.ColorAnim.prototype;A.toString=function(){var D=this.getEl();var E=D.id||D.tagName;return("ColorAnim "+E)};A.patterns.color=/color$/i;A.patterns.rgb=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i;A.patterns.hex=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;A.patterns.hex3=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;A.patterns.transparent=/^transparent|rgba\(0, 0, 0, 0\)$/;A.parseColor=function(D){if(D.length==3){return D}var E=this.patterns.hex.exec(D);if(E&&E.length==4){return[parseInt(E[1],16),parseInt(E[2],16),parseInt(E[3],16)]}E=this.patterns.rgb.exec(D);if(E&&E.length==4){return[parseInt(E[1],10),parseInt(E[2],10),parseInt(E[3],10)]}E=this.patterns.hex3.exec(D);if(E&&E.length==4){return[parseInt(E[1]+E[1],16),parseInt(E[2]+E[2],16),parseInt(E[3]+E[3],16)]}return null};A.getAttribute=function(D){var F=this.getEl();if(this.patterns.color.test(D)){var G=YAHOO.util.Dom.getStyle(F,D);if(this.patterns.transparent.test(G)){var E=F.parentNode;G=B.Dom.getStyle(E,D);while(E&&this.patterns.transparent.test(G)){E=E.parentNode;G=B.Dom.getStyle(E,D);if(E.tagName.toUpperCase()=="HTML"){G="#fff"}}}}else{G=C.getAttribute.call(this,D)}return G};A.doMethod=function(E,I,F){var H;if(this.patterns.color.test(E)){H=[];for(var G=0,D=I.length;G<D;++G){H[G]=C.doMethod.call(this,E,I[G],F[G])}H="rgb("+Math.floor(H[0])+","+Math.floor(H[1])+","+Math.floor(H[2])+")"}else{H=C.doMethod.call(this,E,I,F)}return H};A.setRuntimeAttribute=function(E){C.setRuntimeAttribute.call(this,E);if(this.patterns.color.test(E)){var G=this.attributes;var I=this.parseColor(this.runtimeAttributes[E].start);var F=this.parseColor(this.runtimeAttributes[E].end);if(typeof G[E]["to"]==="undefined"&&typeof G[E]["by"]!=="undefined"){F=this.parseColor(G[E].by);for(var H=0,D=I.length;H<D;++H){F[H]=I[H]+F[H]}}this.runtimeAttributes[E].start=I;this.runtimeAttributes[E].end=F}}})();YAHOO.util.Easing={easeNone:function(B,A,D,C){return D*B/C+A},easeIn:function(B,A,D,C){return D*(B/=C)*B+A},easeOut:function(B,A,D,C){return -D*(B/=C)*(B-2)+A},easeBoth:function(B,A,D,C){if((B/=C/2)<1){return D/2*B*B+A}return -D/2*((--B)*(B-2)-1)+A},easeInStrong:function(B,A,D,C){return D*(B/=C)*B*B*B+A},easeOutStrong:function(B,A,D,C){return -D*((B=B/C-1)*B*B*B-1)+A},easeBothStrong:function(B,A,D,C){if((B/=C/2)<1){return D/2*B*B*B*B+A}return -D/2*((B-=2)*B*B*B-2)+A},elasticIn:function(C,A,G,F,B,E){if(C==0){return A}if((C/=F)==1){return A+G}if(!E){E=F*0.3}if(!B||B<Math.abs(G)){B=G;var D=E/4}else{var D=E/(2*Math.PI)*Math.asin(G/B)}return -(B*Math.pow(2,10*(C-=1))*Math.sin((C*F-D)*(2*Math.PI)/E))+A},elasticOut:function(C,A,G,F,B,E){if(C==0){return A}if((C/=F)==1){return A+G}if(!E){E=F*0.3}if(!B||B<Math.abs(G)){B=G;var D=E/4}else{var D=E/(2*Math.PI)*Math.asin(G/B)}return B*Math.pow(2,-10*C)*Math.sin((C*F-D)*(2*Math.PI)/E)+G+A},elasticBoth:function(C,A,G,F,B,E){if(C==0){return A}if((C/=F/2)==2){return A+G}if(!E){E=F*(0.3*1.5)}if(!B||B<Math.abs(G)){B=G;var D=E/4}else{var D=E/(2*Math.PI)*Math.asin(G/B)}if(C<1){return -0.5*(B*Math.pow(2,10*(C-=1))*Math.sin((C*F-D)*(2*Math.PI)/E))+A}return B*Math.pow(2,-10*(C-=1))*Math.sin((C*F-D)*(2*Math.PI)/E)*0.5+G+A},backIn:function(B,A,E,D,C){if(typeof C=="undefined"){C=1.70158}return E*(B/=D)*B*((C+1)*B-C)+A},backOut:function(B,A,E,D,C){if(typeof C=="undefined"){C=1.70158}return E*((B=B/D-1)*B*((C+1)*B+C)+1)+A},backBoth:function(B,A,E,D,C){if(typeof C=="undefined"){C=1.70158}if((B/=D/2)<1){return E/2*(B*B*(((C*=(1.525))+1)*B-C))+A}return E/2*((B-=2)*B*(((C*=(1.525))+1)*B+C)+2)+A},bounceIn:function(B,A,D,C){return D-YAHOO.util.Easing.bounceOut(C-B,0,D,C)+A},bounceOut:function(B,A,D,C){if((B/=C)<(1/2.75)){return D*(7.5625*B*B)+A}else{if(B<(2/2.75)){return D*(7.5625*(B-=(1.5/2.75))*B+0.75)+A}else{if(B<(2.5/2.75)){return D*(7.5625*(B-=(2.25/2.75))*B+0.9375)+A}}}return D*(7.5625*(B-=(2.625/2.75))*B+0.984375)+A},bounceBoth:function(B,A,D,C){if(B<C/2){return YAHOO.util.Easing.bounceIn(B*2,0,D,C)*0.5+A}return YAHOO.util.Easing.bounceOut(B*2-C,0,D,C)*0.5+D*0.5+A}};(function(){YAHOO.util.Motion=function(G,F,H,I){if(G){YAHOO.util.Motion.superclass.constructor.call(this,G,F,H,I)}};YAHOO.extend(YAHOO.util.Motion,YAHOO.util.ColorAnim);var D=YAHOO.util;var E=D.Motion.superclass;var B=D.Motion.prototype;B.toString=function(){var F=this.getEl();var G=F.id||F.tagName;return("Motion "+G)};B.patterns.points=/^points$/i;B.setAttribute=function(F,H,G){if(this.patterns.points.test(F)){G=G||"px";E.setAttribute.call(this,"left",H[0],G);E.setAttribute.call(this,"top",H[1],G)}else{E.setAttribute.call(this,F,H,G)}};B.getAttribute=function(F){if(this.patterns.points.test(F)){var G=[E.getAttribute.call(this,"left"),E.getAttribute.call(this,"top")]}else{G=E.getAttribute.call(this,F)}return G};B.doMethod=function(F,J,G){var I=null;if(this.patterns.points.test(F)){var H=this.method(this.currentFrame,0,100,this.totalFrames)/100;I=D.Bezier.getPosition(this.runtimeAttributes[F],H)}else{I=E.doMethod.call(this,F,J,G)}return I};B.setRuntimeAttribute=function(O){if(this.patterns.points.test(O)){var G=this.getEl();var I=this.attributes;var F;var K=I["points"]["control"]||[];var H;var L,N;if(K.length>0&&!(K[0] instanceof Array)){K=[K]}else{var J=[];for(L=0,N=K.length;L<N;++L){J[L]=K[L]}K=J}if(D.Dom.getStyle(G,"position")=="static"){D.Dom.setStyle(G,"position","relative")}if(C(I["points"]["from"])){D.Dom.setXY(G,I["points"]["from"])}else{D.Dom.setXY(G,D.Dom.getXY(G))}F=this.getAttribute("points");if(C(I["points"]["to"])){H=A.call(this,I["points"]["to"],F);var M=D.Dom.getXY(this.getEl());for(L=0,N=K.length;L<N;++L){K[L]=A.call(this,K[L],F)}}else{if(C(I["points"]["by"])){H=[F[0]+I["points"]["by"][0],F[1]+I["points"]["by"][1]];for(L=0,N=K.length;L<N;++L){K[L]=[F[0]+K[L][0],F[1]+K[L][1]]}}}this.runtimeAttributes[O]=[F];if(K.length>0){this.runtimeAttributes[O]=this.runtimeAttributes[O].concat(K)}this.runtimeAttributes[O][this.runtimeAttributes[O].length]=H}else{E.setRuntimeAttribute.call(this,O)}};var A=function(F,H){var G=D.Dom.getXY(this.getEl());F=[F[0]-G[0]+H[0],F[1]-G[1]+H[1]];return F};var C=function(F){return(typeof F!=="undefined")}})();(function(){YAHOO.util.Scroll=function(E,D,F,G){if(E){YAHOO.util.Scroll.superclass.constructor.call(this,E,D,F,G)}};YAHOO.extend(YAHOO.util.Scroll,YAHOO.util.ColorAnim);var B=YAHOO.util;var C=B.Scroll.superclass;var A=B.Scroll.prototype;A.toString=function(){var D=this.getEl();var E=D.id||D.tagName;return("Scroll "+E)};A.doMethod=function(D,G,E){var F=null;if(D=="scroll"){F=[this.method(this.currentFrame,G[0],E[0]-G[0],this.totalFrames),this.method(this.currentFrame,G[1],E[1]-G[1],this.totalFrames)]}else{F=C.doMethod.call(this,D,G,E)}return F};A.getAttribute=function(D){var F=null;var E=this.getEl();if(D=="scroll"){F=[E.scrollLeft,E.scrollTop]}else{F=C.getAttribute.call(this,D)}return F};A.setAttribute=function(D,G,F){var E=this.getEl();if(D=="scroll"){E.scrollLeft=G[0];E.scrollTop=G[1]}else{C.setAttribute.call(this,D,G,F)}}})();YAHOO.register("animation",YAHOO.util.Anim,{version:"2.4.0",build:"733"});if(!YAHOO.util.DragDropMgr){YAHOO.util.DragDropMgr=function(){var A=YAHOO.util.Event;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,interactionInfo:null,init:function(){this.initialized=true},POINT:0,INTERSECT:1,STRICT_INTERSECT:2,mode:0,_execOnAll:function(D,C){for(var E in this.ids){for(var B in this.ids[E]){var F=this.ids[E][B];if(!this.isTypeOfDD(F)){continue}F[D].apply(F,C)}}},_onLoad:function(){this.init();A.on(document,"mouseup",this.handleMouseUp,this,true);A.on(document,"mousemove",this.handleMouseMove,this,true);A.on(window,"unload",this._onUnload,this,true);A.on(window,"resize",this._onResize,this,true)},_onResize:function(B){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:1000,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,fromTimeout:false,regDragDrop:function(C,B){if(!this.initialized){this.init()}if(!this.ids[B]){this.ids[B]={}}this.ids[B][C.id]=C},removeDDFromGroup:function(D,B){if(!this.ids[B]){this.ids[B]={}}var C=this.ids[B];if(C&&C[D.id]){delete C[D.id]}},_remove:function(C){for(var B in C.groups){if(B&&this.ids[B][C.id]){delete this.ids[B][C.id]}}delete this.handleIds[C.id]},regHandle:function(C,B){if(!this.handleIds[C]){this.handleIds[C]={}}this.handleIds[C][B]=B},isDragDrop:function(B){return(this.getDDById(B))?true:false},getRelated:function(G,C){var F=[];for(var E in G.groups){for(var D in this.ids[E]){var B=this.ids[E][D];if(!this.isTypeOfDD(B)){continue}if(!C||B.isTarget){F[F.length]=B}}}return F},isLegalTarget:function(F,E){var C=this.getRelated(F,true);for(var D=0,B=C.length;D<B;++D){if(C[D].id==E.id){return true}}return false},isTypeOfDD:function(B){return(B&&B.__ygDragDrop)},isHandle:function(C,B){return(this.handleIds[C]&&this.handleIds[C][B])},getDDById:function(C){for(var B in this.ids){if(this.ids[B][C]){return this.ids[B][C]}}return null},handleMouseDown:function(D,C){this.currentTarget=YAHOO.util.Event.getTarget(D);this.dragCurrent=C;var B=C.getEl();this.startX=YAHOO.util.Event.getPageX(D);this.startY=YAHOO.util.Event.getPageY(D);this.deltaX=this.startX-B.offsetLeft;this.deltaY=this.startY-B.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var E=YAHOO.util.DDM;E.startDrag(E.startX,E.startY);E.fromTimeout=true},this.clickTimeThresh)},startDrag:function(B,D){clearTimeout(this.clickTimeout);var C=this.dragCurrent;if(C){C.b4StartDrag(B,D)}if(C){C.startDrag(B,D)}this.dragThreshMet=true},handleMouseUp:function(B){if(this.dragCurrent){clearTimeout(this.clickTimeout);if(this.dragThreshMet){if(this.fromTimeout){this.handleMouseMove(B)}this.fromTimeout=false;this.fireEvents(B,true)}else{}this.stopDrag(B);this.stopEvent(B)}},stopEvent:function(B){if(this.stopPropagation){YAHOO.util.Event.stopPropagation(B)}if(this.preventDefault){YAHOO.util.Event.preventDefault(B)}},stopDrag:function(C,B){if(this.dragCurrent&&!B){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(C);this.dragCurrent.endDrag(C)}this.dragCurrent.onMouseUp(C)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(E){var B=this.dragCurrent;if(B){if(YAHOO.util.Event.isIE&&!E.button){this.stopEvent(E);return this.handleMouseUp(E)}if(!this.dragThreshMet){var D=Math.abs(this.startX-YAHOO.util.Event.getPageX(E));var C=Math.abs(this.startY-YAHOO.util.Event.getPageY(E));if(D>this.clickPixelThresh||C>this.clickPixelThresh){this.startDrag(this.startX,this.startY)}}if(this.dragThreshMet){B.b4Drag(E);if(B){B.onDrag(E)}if(B){this.fireEvents(E,false)}}this.stopEvent(E)}},fireEvents:function(T,J){var V=this.dragCurrent;if(!V||V.isLocked()||V.dragOnly){return }var L=YAHOO.util.Event.getPageX(T),K=YAHOO.util.Event.getPageY(T),M=new YAHOO.util.Point(L,K),H=V.getTargetCoord(M.x,M.y),E=V.getDragEl(),S=new YAHOO.util.Region(H.y,H.x+E.offsetWidth,H.y+E.offsetHeight,H.x),G=[],I=[],D=[],U=[],R=[],C={},N=[];for(var P in this.dragOvers){var W=this.dragOvers[P];if(!this.isTypeOfDD(W)){continue}if(!this.isOverTarget(M,W,this.mode,S)){I.push(W)}G[P]=true;delete this.dragOvers[P]}for(var O in V.groups){if("string"!=typeof O){continue}for(P in this.ids[O]){var F=this.ids[O][P];if(!this.isTypeOfDD(F)){continue}if(F.isTarget&&!F.isLocked()&&F!=V){if(this.isOverTarget(M,F,this.mode,S)){C[O]=true;if(J){U.push(F)}else{if(!G[F.id]){R.push(F)}else{D.push(F)}this.dragOvers[F.id]=F}}}}}this.interactionInfo={out:I,enter:R,over:D,drop:U,point:M,draggedRegion:S,sourceRegion:this.locationCache[V.id],validDrop:J};for(var B in C){N.push(B)}if(J&&!U.length){this.interactionInfo.validDrop=false;V.onInvalidDrop(T)}if(this.mode){if(I.length){V.b4DragOut(T,I);if(V){V.onDragOut(T,I)}}if(R.length){if(V){V.onDragEnter(T,R,N)}}if(D.length){if(V){V.b4DragOver(T,D,N)}if(V){V.onDragOver(T,D,N)}}if(U.length){if(V){V.b4DragDrop(T,U,N)}if(V){V.onDragDrop(T,U,N)}}}else{var Q=0;for(P=0,Q=I.length;P<Q;++P){if(V){V.b4DragOut(T,I[P].id,N[0])}if(V){V.onDragOut(T,I[P].id,N[0])}}for(P=0,Q=R.length;P<Q;++P){if(V){V.onDragEnter(T,R[P].id,N[0])}}for(P=0,Q=D.length;P<Q;++P){if(V){V.b4DragOver(T,D[P].id,N[0])}if(V){V.onDragOver(T,D[P].id,N[0])}}for(P=0,Q=U.length;P<Q;++P){if(V){V.b4DragDrop(T,U[P].id,N[0])}if(V){V.onDragDrop(T,U[P].id,N[0])}}}},getBestMatch:function(D){var F=null;var C=D.length;if(C==1){F=D[0]}else{for(var E=0;E<C;++E){var B=D[E];if(this.mode==this.INTERSECT&&B.cursorIsOver){F=B;break}else{if(!F||!F.overlap||(B.overlap&&F.overlap.getArea()<B.overlap.getArea())){F=B}}}}return F},refreshCache:function(C){var E=C||this.ids;for(var B in E){if("string"!=typeof B){continue}for(var D in this.ids[B]){var F=this.ids[B][D];if(this.isTypeOfDD(F)){var G=this.getLocation(F);if(G){this.locationCache[F.id]=G}else{delete this.locationCache[F.id]}}}}},verifyEl:function(C){try{if(C){var B=C.offsetParent;if(B){return true}}}catch(D){}return false},getLocation:function(G){if(!this.isTypeOfDD(G)){return null}var E=G.getEl(),J,D,C,L,K,M,B,I,F;try{J=YAHOO.util.Dom.getXY(E)}catch(H){}if(!J){return null}D=J[0];C=D+E.offsetWidth;L=J[1];K=L+E.offsetHeight;M=L-G.padding[0];B=C+G.padding[1];I=K+G.padding[2];F=D-G.padding[3];return new YAHOO.util.Region(M,B,I,F)},isOverTarget:function(J,B,D,E){var F=this.locationCache[B.id];if(!F||!this.useCache){F=this.getLocation(B);this.locationCache[B.id]=F}if(!F){return false}B.cursorIsOver=F.contains(J);var I=this.dragCurrent;if(!I||(!D&&!I.constrainX&&!I.constrainY)){return B.cursorIsOver}B.overlap=null;if(!E){var G=I.getTargetCoord(J.x,J.y);var C=I.getDragEl();E=new YAHOO.util.Region(G.y,G.x+C.offsetWidth,G.y+C.offsetHeight,G.x)}var H=E.intersect(F);if(H){B.overlap=H;return(D)?true:B.cursorIsOver}else{return false}},_onUnload:function(C,B){this.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);this.ids={}},elementCache:{},getElWrapper:function(C){var B=this.elementCache[C];if(!B||!B.el){B=this.elementCache[C]=new this.ElementWrapper(YAHOO.util.Dom.get(C))}return B},getElement:function(B){return YAHOO.util.Dom.get(B)},getCss:function(C){var B=YAHOO.util.Dom.get(C);return(B)?B.style:null},ElementWrapper:function(B){this.el=B||null;this.id=this.el&&B.id;this.css=this.el&&B.style},getPosX:function(B){return YAHOO.util.Dom.getX(B)},getPosY:function(B){return YAHOO.util.Dom.getY(B)},swapNode:function(D,B){if(D.swapNode){D.swapNode(B)}else{var E=B.parentNode;var C=B.nextSibling;if(C==D){E.insertBefore(D,B)}else{if(B==D.nextSibling){E.insertBefore(B,D)}else{D.parentNode.replaceChild(B,D);E.insertBefore(D,C)}}}},getScroll:function(){var D,B,E=document.documentElement,C=document.body;if(E&&(E.scrollTop||E.scrollLeft)){D=E.scrollTop;B=E.scrollLeft}else{if(C){D=C.scrollTop;B=C.scrollLeft}else{}}return{top:D,left:B}},getStyle:function(C,B){return YAHOO.util.Dom.getStyle(C,B)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(B,D){var C=YAHOO.util.Dom.getXY(D);YAHOO.util.Dom.setXY(B,C)},getClientHeight:function(){return YAHOO.util.Dom.getViewportHeight()},getClientWidth:function(){return YAHOO.util.Dom.getViewportWidth()},numericSort:function(C,B){return(C-B)},_timeoutCount:0,_addListeners:function(){var B=YAHOO.util.DDM;if(YAHOO.util.Event&&document){B._onLoad()}else{if(B._timeoutCount>2000){}else{setTimeout(B._addListeners,10);if(document&&document.body){B._timeoutCount+=1}}}},handleWasClicked:function(B,D){if(this.isHandle(D,B.id)){return true}else{var C=B.parentNode;while(C){if(this.isHandle(D,C.id)){return true}else{C=C.parentNode}}}return false}}}();YAHOO.util.DDM=YAHOO.util.DragDropMgr;YAHOO.util.DDM._addListeners()}(function(){var A=YAHOO.util.Event;var B=YAHOO.util.Dom;YAHOO.util.DragDrop=function(E,C,D){if(E){this.init(E,C,D)}};YAHOO.util.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},unlock:function(){this.locked=false},isTarget:true,padding:null,dragOnly:false,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,deltaX:0,deltaY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,cursorIsOver:false,overlap:null,b4StartDrag:function(C,D){},startDrag:function(C,D){},b4Drag:function(C){},onDrag:function(C){},onDragEnter:function(C,D){},b4DragOver:function(C){},onDragOver:function(C,D){},b4DragOut:function(C){},onDragOut:function(C,D){},b4DragDrop:function(C){},onDragDrop:function(C,D){},onInvalidDrop:function(C){},b4EndDrag:function(C){},endDrag:function(C){},b4MouseDown:function(C){},onMouseDown:function(C){},onMouseUp:function(C){},onAvailable:function(){},getEl:function(){if(!this._domRef){this._domRef=B.get(this.id)}return this._domRef},getDragEl:function(){return B.get(this.dragElId)},init:function(E,C,D){this.initTarget(E,C,D);A.on(this._domRef||this.id,"mousedown",this.handleMouseDown,this,true)},initTarget:function(E,C,D){this.config=D||{};this.DDM=YAHOO.util.DDM;this.groups={};if(typeof E!=="string"){this._domRef=E;E=B.generateId(E)}this.id=E;this.addToGroup((C)?C:"default");this.handleElId=E;A.onAvailable(E,this.handleOnAvailable,this,true);this.setDragElId(E);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false);this.dragOnly=((this.config.dragOnly===true)?true:false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(E,C,F,D){if(!C&&0!==C){this.padding=[E,E,E,E]}else{if(!F&&0!==F){this.padding=[E,C,E,C]}else{this.padding=[E,C,F,D]}}},setInitPosition:function(F,E){var G=this.getEl();if(!this.DDM.verifyEl(G)){return }var D=F||0;var C=E||0;var H=B.getXY(G);this.initPageX=H[0]-D;this.initPageY=H[1]-C;this.lastPageX=H[0];this.lastPageY=H[1];this.setStartPosition(H)},setStartPosition:function(D){var C=D||B.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=C[0];this.startPageY=C[1]},addToGroup:function(C){this.groups[C]=true;this.DDM.regDragDrop(this,C)},removeFromGroup:function(C){if(this.groups[C]){delete this.groups[C]}this.DDM.removeDDFromGroup(this,C)},setDragElId:function(C){this.dragElId=C},setHandleElId:function(C){if(typeof C!=="string"){C=B.generateId(C)}this.handleElId=C;this.DDM.regHandle(this.id,C)},setOuterHandleElId:function(C){if(typeof C!=="string"){C=B.generateId(C)}A.on(C,"mousedown",this.handleMouseDown,this,true);this.setHandleElId(C);this.hasOuterHandles=true},unreg:function(){A.removeListener(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this)},isLocked:function(){return(this.DDM.isLocked()||this.locked)},handleMouseDown:function(H,G){var D=H.which||H.button;if(this.primaryButtonOnly&&D>1){return }if(this.isLocked()){return }var C=this.b4MouseDown(H);var E=this.onMouseDown(H);if((C===false)||(E===false)){return }this.DDM.refreshCache(this.groups);var F=new YAHOO.util.Point(A.getPageX(H),A.getPageY(H));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(F,this)){}else{if(this.clickValidator(H)){this.setStartPosition();this.DDM.handleMouseDown(H,this);this.DDM.stopEvent(H)}else{}}},clickValidator:function(D){var C=A.getTarget(D);return(this.isValidHandleChild(C)&&(this.id==this.handleElId||this.DDM.handleWasClicked(C,this.id)))},getTargetCoord:function(E,D){var C=E-this.deltaX;var F=D-this.deltaY;if(this.constrainX){if(C<this.minX){C=this.minX}if(C>this.maxX){C=this.maxX}}if(this.constrainY){if(F<this.minY){F=this.minY}if(F>this.maxY){F=this.maxY}}C=this.getTick(C,this.xTicks);F=this.getTick(F,this.yTicks);return{x:C,y:F}},addInvalidHandleType:function(C){var D=C.toUpperCase();this.invalidHandleTypes[D]=D},addInvalidHandleId:function(C){if(typeof C!=="string"){C=B.generateId(C)}this.invalidHandleIds[C]=C},addInvalidHandleClass:function(C){this.invalidHandleClasses.push(C)},removeInvalidHandleType:function(C){var D=C.toUpperCase();delete this.invalidHandleTypes[D]},removeInvalidHandleId:function(C){if(typeof C!=="string"){C=B.generateId(C)}delete this.invalidHandleIds[C]},removeInvalidHandleClass:function(D){for(var E=0,C=this.invalidHandleClasses.length;E<C;++E){if(this.invalidHandleClasses[E]==D){delete this.invalidHandleClasses[E]}}},isValidHandleChild:function(F){var E=true;var H;try{H=F.nodeName.toUpperCase()}catch(G){H=F.nodeName}E=E&&!this.invalidHandleTypes[H];E=E&&!this.invalidHandleIds[F.id];for(var D=0,C=this.invalidHandleClasses.length;E&&D<C;++D){E=!B.hasClass(F,this.invalidHandleClasses[D])}return E},setXTicks:function(F,C){this.xTicks=[];this.xTickSize=C;var E={};for(var D=this.initPageX;D>=this.minX;D=D-C){if(!E[D]){this.xTicks[this.xTicks.length]=D;E[D]=true}}for(D=this.initPageX;D<=this.maxX;D=D+C){if(!E[D]){this.xTicks[this.xTicks.length]=D;E[D]=true}}this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(F,C){this.yTicks=[];this.yTickSize=C;var E={};for(var D=this.initPageY;D>=this.minY;D=D-C){if(!E[D]){this.yTicks[this.yTicks.length]=D;E[D]=true}}for(D=this.initPageY;D<=this.maxY;D=D+C){if(!E[D]){this.yTicks[this.yTicks.length]=D;E[D]=true}}this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(E,D,C){this.leftConstraint=parseInt(E,10);this.rightConstraint=parseInt(D,10);this.minX=this.initPageX-this.leftConstraint;this.maxX=this.initPageX+this.rightConstraint;if(C){this.setXTicks(this.initPageX,C)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(C,E,D){this.topConstraint=parseInt(C,10);this.bottomConstraint=parseInt(E,10);this.minY=this.initPageY-this.topConstraint;this.maxY=this.initPageY+this.bottomConstraint;if(D){this.setYTicks(this.initPageY,D)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var D=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var C=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(D,C)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(I,F){if(!F){return I}else{if(F[0]>=I){return F[0]}else{for(var D=0,C=F.length;D<C;++D){var E=D+1;if(F[E]&&F[E]>=I){var H=I-F[D];var G=F[E]-I;return(G>H)?F[D]:F[E]}}return F[F.length-1]}}},toString:function(){return("DragDrop "+this.id)}}})();YAHOO.util.DD=function(C,A,B){if(C){this.init(C,A,B)}};YAHOO.extend(YAHOO.util.DD,YAHOO.util.DragDrop,{scroll:true,autoOffset:function(C,B){var A=C-this.startPageX;var D=B-this.startPageY;this.setDelta(A,D)},setDelta:function(B,A){this.deltaX=B;this.deltaY=A},setDragElPos:function(C,B){var A=this.getDragEl();this.alignElWithMouse(A,C,B)},alignElWithMouse:function(C,G,F){var E=this.getTargetCoord(G,F);if(!this.deltaSetXY){var H=[E.x,E.y];YAHOO.util.Dom.setXY(C,H);var D=parseInt(YAHOO.util.Dom.getStyle(C,"left"),10);var B=parseInt(YAHOO.util.Dom.getStyle(C,"top"),10);this.deltaSetXY=[D-E.x,B-E.y]}else{YAHOO.util.Dom.setStyle(C,"left",(E.x+this.deltaSetXY[0])+"px");YAHOO.util.Dom.setStyle(C,"top",(E.y+this.deltaSetXY[1])+"px")}this.cachePosition(E.x,E.y);var A=this;setTimeout(function(){A.autoScroll.call(A,E.x,E.y,C.offsetHeight,C.offsetWidth)},0)},cachePosition:function(B,A){if(B){this.lastPageX=B;this.lastPageY=A}else{var C=YAHOO.util.Dom.getXY(this.getEl());this.lastPageX=C[0];this.lastPageY=C[1]}},autoScroll:function(J,I,E,K){if(this.scroll){var L=this.DDM.getClientHeight();var B=this.DDM.getClientWidth();var N=this.DDM.getScrollTop();var D=this.DDM.getScrollLeft();var H=E+I;var M=K+J;var G=(L+N-I-this.deltaY);var F=(B+D-J-this.deltaX);var C=40;var A=(document.all)?80:30;if(H>L&&G<C){window.scrollTo(D,N+A)}if(I<N&&N>0&&I-N<C){window.scrollTo(D,N-A)}if(M>B&&F<C){window.scrollTo(D+A,N)}if(J<D&&D>0&&J-D<C){window.scrollTo(D-A,N)}}},applyConfig:function(){YAHOO.util.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(A){this.setStartPosition();this.autoOffset(YAHOO.util.Event.getPageX(A),YAHOO.util.Event.getPageY(A))},b4Drag:function(A){this.setDragElPos(YAHOO.util.Event.getPageX(A),YAHOO.util.Event.getPageY(A))},toString:function(){return("DD "+this.id)}});YAHOO.util.DDProxy=function(C,A,B){if(C){this.init(C,A,B);this.initFrame()}};YAHOO.util.DDProxy.dragElId="ygddfdiv";YAHOO.extend(YAHOO.util.DDProxy,YAHOO.util.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var B=this,A=document.body;if(!A||!A.firstChild){setTimeout(function(){B.createFrame()},50);return }var F=this.getDragEl(),E=YAHOO.util.Dom;if(!F){F=document.createElement("div");F.id=this.dragElId;var D=F.style;D.position="absolute";D.visibility="hidden";D.cursor="move";D.border="2px solid #aaa";D.zIndex=999;D.height="25px";D.width="25px";var C=document.createElement("div");E.setStyle(C,"height","100%");E.setStyle(C,"width","100%");E.setStyle(C,"background-color","#ccc");E.setStyle(C,"opacity","0");F.appendChild(C);A.insertBefore(F,A.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){YAHOO.util.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||YAHOO.util.DDProxy.dragElId)},showFrame:function(E,D){var C=this.getEl();var A=this.getDragEl();var B=A.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(B.width,10)/2),Math.round(parseInt(B.height,10)/2))}this.setDragElPos(E,D);YAHOO.util.Dom.setStyle(A,"visibility","visible")},_resizeProxy:function(){if(this.resizeFrame){var H=YAHOO.util.Dom;var B=this.getEl();var C=this.getDragEl();var G=parseInt(H.getStyle(C,"borderTopWidth"),10);var I=parseInt(H.getStyle(C,"borderRightWidth"),10);var F=parseInt(H.getStyle(C,"borderBottomWidth"),10);var D=parseInt(H.getStyle(C,"borderLeftWidth"),10);if(isNaN(G)){G=0}if(isNaN(I)){I=0}if(isNaN(F)){F=0}if(isNaN(D)){D=0}var E=Math.max(0,B.offsetWidth-I-D);var A=Math.max(0,B.offsetHeight-G-F);H.setStyle(C,"width",E+"px");H.setStyle(C,"height",A+"px")}},b4MouseDown:function(B){this.setStartPosition();var A=YAHOO.util.Event.getPageX(B);var C=YAHOO.util.Event.getPageY(B);this.autoOffset(A,C)},b4StartDrag:function(A,B){this.showFrame(A,B)},b4EndDrag:function(A){YAHOO.util.Dom.setStyle(this.getDragEl(),"visibility","hidden")},endDrag:function(D){var C=YAHOO.util.Dom;var B=this.getEl();var A=this.getDragEl();C.setStyle(A,"visibility","");C.setStyle(B,"visibility","hidden");YAHOO.util.DDM.moveToEl(B,A);C.setStyle(A,"visibility","hidden");C.setStyle(B,"visibility","")},toString:function(){return("DDProxy "+this.id)}});YAHOO.util.DDTarget=function(C,A,B){if(C){this.initTarget(C,A,B)}};YAHOO.extend(YAHOO.util.DDTarget,YAHOO.util.DragDrop,{toString:function(){return("DDTarget "+this.id)}});YAHOO.register("dragdrop",YAHOO.util.DragDropMgr,{version:"2.4.0",build:"733"});YAHOO.util.Attribute=function(B,A){if(A){this.owner=A;this.configure(B,true)}};YAHOO.util.Attribute.prototype={name:undefined,value:null,owner:null,readOnly:false,writeOnce:false,_initialConfig:null,_written:false,method:null,validator:null,getValue:function(){return this.value},setValue:function(F,B){var E;var A=this.owner;var C=this.name;var D={type:C,prevValue:this.getValue(),newValue:F};if(this.readOnly||(this.writeOnce&&this._written)){return false}if(this.validator&&!this.validator.call(A,F)){return false}if(!B){E=A.fireBeforeChangeEvent(D);if(E===false){return false}}if(this.method){this.method.call(A,F)}this.value=F;this._written=true;D.type=C;if(!B){this.owner.fireChangeEvent(D)}return true},configure:function(B,C){B=B||{};this._written=false;this._initialConfig=this._initialConfig||{};for(var A in B){if(A&&YAHOO.lang.hasOwnProperty(B,A)){this[A]=B[A];if(C){this._initialConfig[A]=B[A]}}}},resetValue:function(){return this.setValue(this._initialConfig.value)},resetConfig:function(){this.configure(this._initialConfig)},refresh:function(A){this.setValue(this.value,A)}};(function(){var A=YAHOO.util.Lang;YAHOO.util.AttributeProvider=function(){};YAHOO.util.AttributeProvider.prototype={_configs:null,get:function(C){this._configs=this._configs||{};var B=this._configs[C];if(!B){return undefined}return B.value},set:function(D,E,B){this._configs=this._configs||{};var C=this._configs[D];if(!C){return false}return C.setValue(E,B)},getAttributeKeys:function(){this._configs=this._configs;var D=[];var B;for(var C in this._configs){B=this._configs[C];if(A.hasOwnProperty(this._configs,C)&&!A.isUndefined(B)){D[D.length]=C}}return D},setAttributes:function(D,B){for(var C in D){if(A.hasOwnProperty(D,C)){this.set(C,D[C],B)}}},resetValue:function(C,B){this._configs=this._configs||{};if(this._configs[C]){this.set(C,this._configs[C]._initialConfig.value,B);return true}return false},refresh:function(E,C){this._configs=this._configs;E=((A.isString(E))?[E]:E)||this.getAttributeKeys();for(var D=0,B=E.length;D<B;++D){if(this._configs[E[D]]&&!A.isUndefined(this._configs[E[D]].value)&&!A.isNull(this._configs[E[D]].value)){this._configs[E[D]].refresh(C)}}},register:function(B,C){this.setAttributeConfig(B,C)},getAttributeConfig:function(C){this._configs=this._configs||{};var B=this._configs[C]||{};var D={};for(C in B){if(A.hasOwnProperty(B,C)){D[C]=B[C]}}return D},setAttributeConfig:function(B,C,D){this._configs=this._configs||{};C=C||{};if(!this._configs[B]){C.name=B;this._configs[B]=this.createAttribute(C)}else{this._configs[B].configure(C,D)}},configureAttribute:function(B,C,D){this.setAttributeConfig(B,C,D)},resetAttributeConfig:function(B){this._configs=this._configs||{};this._configs[B].resetConfig()},subscribe:function(B,C){this._events=this._events||{};if(!(B in this._events)){this._events[B]=this.createEvent(B)}YAHOO.util.EventProvider.prototype.subscribe.apply(this,arguments)},on:function(){this.subscribe.apply(this,arguments)},addListener:function(){this.subscribe.apply(this,arguments)},fireBeforeChangeEvent:function(C){var B="before";B+=C.type.charAt(0).toUpperCase()+C.type.substr(1)+"Change";C.type=B;return this.fireEvent(C.type,C)},fireChangeEvent:function(B){B.type+="Change";return this.fireEvent(B.type,B)},createAttribute:function(B){return new YAHOO.util.Attribute(B,this)}};YAHOO.augment(YAHOO.util.AttributeProvider,YAHOO.util.EventProvider)})();(function(){var D=YAHOO.util.Dom,F=YAHOO.util.AttributeProvider;YAHOO.util.Element=function(G,H){if(arguments.length){this.init(G,H)}};YAHOO.util.Element.prototype={DOM_EVENTS:null,appendChild:function(G){G=G.get?G.get("element"):G;this.get("element").appendChild(G)},getElementsByTagName:function(G){return this.get("element").getElementsByTagName(G)},hasChildNodes:function(){return this.get("element").hasChildNodes()},insertBefore:function(G,H){G=G.get?G.get("element"):G;H=(H&&H.get)?H.get("element"):H;this.get("element").insertBefore(G,H)},removeChild:function(G){G=G.get?G.get("element"):G;this.get("element").removeChild(G);return true},replaceChild:function(G,H){G=G.get?G.get("element"):G;H=H.get?H.get("element"):H;return this.get("element").replaceChild(G,H)},initAttributes:function(G){},addListener:function(K,J,L,I){var H=this.get("element");I=I||this;H=this.get("id")||H;var G=this;if(!this._events[K]){if(this.DOM_EVENTS[K]){YAHOO.util.Event.addListener(H,K,function(M){if(M.srcElement&&!M.target){M.target=M.srcElement}G.fireEvent(K,M)},L,I)}this.createEvent(K,this)}YAHOO.util.EventProvider.prototype.subscribe.apply(this,arguments)},on:function(){this.addListener.apply(this,arguments)},subscribe:function(){this.addListener.apply(this,arguments)},removeListener:function(H,G){this.unsubscribe.apply(this,arguments)},addClass:function(G){D.addClass(this.get("element"),G)},getElementsByClassName:function(H,G){return D.getElementsByClassName(H,G,this.get("element"))},hasClass:function(G){return D.hasClass(this.get("element"),G)},removeClass:function(G){return D.removeClass(this.get("element"),G)},replaceClass:function(H,G){return D.replaceClass(this.get("element"),H,G)},setStyle:function(I,H){var G=this.get("element");if(!G){return this._queue[this._queue.length]=["setStyle",arguments]}return D.setStyle(G,I,H)},getStyle:function(G){return D.getStyle(this.get("element"),G)},fireQueue:function(){var H=this._queue;for(var I=0,G=H.length;I<G;++I){this[H[I][0]].apply(this,H[I][1])}},appendTo:function(H,I){H=(H.get)?H.get("element"):D.get(H);this.fireEvent("beforeAppendTo",{type:"beforeAppendTo",target:H});I=(I&&I.get)?I.get("element"):D.get(I);var G=this.get("element");if(!G){return false}if(!H){return false}if(G.parent!=H){if(I){H.insertBefore(G,I)}else{H.appendChild(G)}}this.fireEvent("appendTo",{type:"appendTo",target:H})},get:function(G){var I=this._configs||{};var H=I.element;if(H&&!I[G]&&!YAHOO.lang.isUndefined(H.value[G])){return H.value[G]}return F.prototype.get.call(this,G)},setAttributes:function(L,H){var K=this.get("element");for(var J in L){if(!this._configs[J]&&!YAHOO.lang.isUndefined(K[J])){this.setAttributeConfig(J)}}for(var I=0,G=this._configOrder.length;I<G;++I){if(L[this._configOrder[I]]){this.set(this._configOrder[I],L[this._configOrder[I]],H)}}},set:function(H,J,G){var I=this.get("element");if(!I){this._queue[this._queue.length]=["set",arguments];if(this._configs[H]){this._configs[H].value=J}return }if(!this._configs[H]&&!YAHOO.lang.isUndefined(I[H])){C.call(this,H)}return F.prototype.set.apply(this,arguments)},setAttributeConfig:function(G,I,J){var H=this.get("element");if(H&&!this._configs[G]&&!YAHOO.lang.isUndefined(H[G])){C.call(this,G,I)}else{F.prototype.setAttributeConfig.apply(this,arguments)}this._configOrder.push(G)},getAttributeKeys:function(){var H=this.get("element");var I=F.prototype.getAttributeKeys.call(this);for(var G in H){if(!this._configs[G]){I[G]=I[G]||H[G]}}return I},createEvent:function(H,G){this._events[H]=true;F.prototype.createEvent.apply(this,arguments)},init:function(H,G){A.apply(this,arguments)}};var A=function(H,G){this._queue=this._queue||[];this._events=this._events||{};this._configs=this._configs||{};this._configOrder=[];G=G||{};G.element=G.element||H||null;this.DOM_EVENTS={"click":true,"dblclick":true,"keydown":true,"keypress":true,"keyup":true,"mousedown":true,"mousemove":true,"mouseout":true,"mouseover":true,"mouseup":true,"focus":true,"blur":true,"submit":true};var I=false;if(YAHOO.lang.isString(H)){C.call(this,"id",{value:G.element})}if(D.get(H)){I=true;E.call(this,G);B.call(this,G)}YAHOO.util.Event.onAvailable(G.element,function(){if(!I){E.call(this,G)}this.fireEvent("available",{type:"available",target:G.element})},this,true);YAHOO.util.Event.onContentReady(G.element,function(){if(!I){B.call(this,G)}this.fireEvent("contentReady",{type:"contentReady",target:G.element})},this,true)};var E=function(G){this.setAttributeConfig("element",{value:D.get(G.element),readOnly:true})};var B=function(G){this.initAttributes(G);this.setAttributes(G,true);this.fireQueue()};var C=function(G,I){var H=this.get("element");I=I||{};I.name=G;I.method=I.method||function(J){H[G]=J};I.value=I.value||H[G];this._configs[G]=new YAHOO.util.Attribute(I,this)};YAHOO.augment(YAHOO.util.Element,F)})();YAHOO.register("element",YAHOO.util.Element,{version:"2.4.0",build:"733"});YAHOO.register("utilities",YAHOO,{version:"2.4.0",build:"733"});(function(){YAHOO.util.Config=function(owner){if(owner){this.init(owner)}};var Lang=YAHOO.lang,CustomEvent=YAHOO.util.CustomEvent,Config=YAHOO.util.Config;Config.CONFIG_CHANGED_EVENT="configChanged";Config.BOOLEAN_TYPE="boolean";Config.prototype={owner:null,queueInProgress:false,config:null,initialConfig:null,eventQueue:null,configChangedEvent:null,init:function(owner){this.owner=owner;this.configChangedEvent=this.createEvent(Config.CONFIG_CHANGED_EVENT);this.configChangedEvent.signature=CustomEvent.LIST;this.queueInProgress=false;this.config={};this.initialConfig={};this.eventQueue=[]},checkBoolean:function(val){return(typeof val==Config.BOOLEAN_TYPE)},checkNumber:function(val){return(!isNaN(val))},fireEvent:function(key,value){var property=this.config[key];if(property&&property.event){property.event.fire(value)}},addProperty:function(key,propertyObject){key=key.toLowerCase();this.config[key]=propertyObject;propertyObject.event=this.createEvent(key,{scope:this.owner});propertyObject.event.signature=CustomEvent.LIST;propertyObject.key=key;if(propertyObject.handler){propertyObject.event.subscribe(propertyObject.handler,this.owner)}this.setProperty(key,propertyObject.value,true);if(!propertyObject.suppressEvent){this.queueProperty(key,propertyObject.value)}},getConfig:function(){var cfg={},prop,property;for(prop in this.config){property=this.config[prop];if(property&&property.event){cfg[prop]=property.value}}return cfg},getProperty:function(key){var property=this.config[key.toLowerCase()];if(property&&property.event){return property.value}else{return undefined}},resetProperty:function(key){key=key.toLowerCase();var property=this.config[key];if(property&&property.event){if(this.initialConfig[key]&&!Lang.isUndefined(this.initialConfig[key])){this.setProperty(key,this.initialConfig[key]);return true}}else{return false}},setProperty:function(key,value,silent){var property;key=key.toLowerCase();if(this.queueInProgress&&!silent){this.queueProperty(key,value);return true}else{property=this.config[key];if(property&&property.event){if(property.validator&&!property.validator(value)){return false}else{property.value=value;if(!silent){this.fireEvent(key,value);this.configChangedEvent.fire([key,value])}return true}}else{return false}}},queueProperty:function(key,value){key=key.toLowerCase();var property=this.config[key],foundDuplicate=false,iLen,queueItem,queueItemKey,queueItemValue,sLen,supercedesCheck,qLen,queueItemCheck,queueItemCheckKey,queueItemCheckValue,i,s,q;if(property&&property.event){if(!Lang.isUndefined(value)&&property.validator&&!property.validator(value)){return false}else{if(!Lang.isUndefined(value)){property.value=value}else{value=property.value}foundDuplicate=false;iLen=this.eventQueue.length;for(i=0;i<iLen;i++){queueItem=this.eventQueue[i];if(queueItem){queueItemKey=queueItem[0];queueItemValue=queueItem[1];if(queueItemKey==key){this.eventQueue[i]=null;this.eventQueue.push([key,(!Lang.isUndefined(value)?value:queueItemValue)]);foundDuplicate=true;break}}}if(!foundDuplicate&&!Lang.isUndefined(value)){this.eventQueue.push([key,value])}}if(property.supercedes){sLen=property.supercedes.length;for(s=0;s<sLen;s++){supercedesCheck=property.supercedes[s];qLen=this.eventQueue.length;for(q=0;q<qLen;q++){queueItemCheck=this.eventQueue[q];if(queueItemCheck){queueItemCheckKey=queueItemCheck[0];queueItemCheckValue=queueItemCheck[1];if(queueItemCheckKey==supercedesCheck.toLowerCase()){this.eventQueue.push([queueItemCheckKey,queueItemCheckValue]);this.eventQueue[q]=null;break}}}}}return true}else{return false}},refireEvent:function(key){key=key.toLowerCase();var property=this.config[key];if(property&&property.event&&!Lang.isUndefined(property.value)){if(this.queueInProgress){this.queueProperty(key)}else{this.fireEvent(key,property.value)}}},applyConfig:function(userConfig,init){var sKey,oConfig;if(init){oConfig={};for(sKey in userConfig){if(Lang.hasOwnProperty(userConfig,sKey)){oConfig[sKey.toLowerCase()]=userConfig[sKey]}}this.initialConfig=oConfig}for(sKey in userConfig){if(Lang.hasOwnProperty(userConfig,sKey)){this.queueProperty(sKey,userConfig[sKey])}}},refresh:function(){var prop;for(prop in this.config){this.refireEvent(prop)}},fireQueue:function(){var i,queueItem,key,value,property;this.queueInProgress=true;for(i=0;i<this.eventQueue.length;i++){queueItem=this.eventQueue[i];if(queueItem){key=queueItem[0];value=queueItem[1];property=this.config[key];property.value=value;this.fireEvent(key,value)}}this.queueInProgress=false;this.eventQueue=[]},subscribeToConfigEvent:function(key,handler,obj,override){var property=this.config[key.toLowerCase()];if(property&&property.event){if(!Config.alreadySubscribed(property.event,handler,obj)){property.event.subscribe(handler,obj,override)}return true}else{return false}},unsubscribeFromConfigEvent:function(key,handler,obj){var property=this.config[key.toLowerCase()];if(property&&property.event){return property.event.unsubscribe(handler,obj)}else{return false}},toString:function(){var output="Config";if(this.owner){output+=" ["+this.owner.toString()+"]"}return output},outputEventQueue:function(){var output="",queueItem,q,nQueue=this.eventQueue.length;for(q=0;q<nQueue;q++){queueItem=this.eventQueue[q];if(queueItem){output+=queueItem[0]+"="+queueItem[1]+", "}}return output},destroy:function(){var oConfig=this.config,sProperty,oProperty;for(sProperty in oConfig){if(Lang.hasOwnProperty(oConfig,sProperty)){oProperty=oConfig[sProperty];oProperty.event.unsubscribeAll();oProperty.event=null}}this.configChangedEvent.unsubscribeAll();this.configChangedEvent=null;this.owner=null;this.config=null;this.initialConfig=null;this.eventQueue=null}};Config.alreadySubscribed=function(evt,fn,obj){var nSubscribers=evt.subscribers.length,subsc,i;if(nSubscribers>0){i=nSubscribers-1;do{subsc=evt.subscribers[i];if(subsc&&subsc.obj==obj&&subsc.fn==fn){return true}}while(i--)}return false};YAHOO.lang.augmentProto(Config,YAHOO.util.EventProvider)}());(function(){YAHOO.widget.Module=function(el,userConfig){if(el){this.init(el,userConfig)}else{}};var Dom=YAHOO.util.Dom,Config=YAHOO.util.Config,Event=YAHOO.util.Event,CustomEvent=YAHOO.util.CustomEvent,Module=YAHOO.widget.Module,m_oModuleTemplate,m_oHeaderTemplate,m_oBodyTemplate,m_oFooterTemplate,EVENT_TYPES={"BEFORE_INIT":"beforeInit","INIT":"init","APPEND":"append","BEFORE_RENDER":"beforeRender","RENDER":"render","CHANGE_HEADER":"changeHeader","CHANGE_BODY":"changeBody","CHANGE_FOOTER":"changeFooter","CHANGE_CONTENT":"changeContent","DESTORY":"destroy","BEFORE_SHOW":"beforeShow","SHOW":"show","BEFORE_HIDE":"beforeHide","HIDE":"hide"},DEFAULT_CONFIG={"VISIBLE":{key:"visible",value:true,validator:YAHOO.lang.isBoolean},"EFFECT":{key:"effect",suppressEvent:true,supercedes:["visible"]},"MONITOR_RESIZE":{key:"monitorresize",value:true},"APPEND_TO_DOCUMENT_BODY":{key:"appendtodocumentbody",value:false}};Module.IMG_ROOT=null;Module.IMG_ROOT_SSL=null;Module.CSS_MODULE="yui-module";Module.CSS_HEADER="hd";Module.CSS_BODY="bd";Module.CSS_FOOTER="ft";Module.RESIZE_MONITOR_SECURE_URL="javascript:false;";Module.textResizeEvent=new CustomEvent("textResize");function createModuleTemplate(){if(!m_oModuleTemplate){m_oModuleTemplate=document.createElement("div");m_oModuleTemplate.innerHTML=('<div class="'+Module.CSS_HEADER+'"></div><div class="'+Module.CSS_BODY+'"></div><div class="'+Module.CSS_FOOTER+'"></div>');m_oHeaderTemplate=m_oModuleTemplate.firstChild;m_oBodyTemplate=m_oHeaderTemplate.nextSibling;m_oFooterTemplate=m_oBodyTemplate.nextSibling}return m_oModuleTemplate}function createHeader(){if(!m_oHeaderTemplate){createModuleTemplate()}return(m_oHeaderTemplate.cloneNode(false))}function createBody(){if(!m_oBodyTemplate){createModuleTemplate()}return(m_oBodyTemplate.cloneNode(false))}function createFooter(){if(!m_oFooterTemplate){createModuleTemplate()}return(m_oFooterTemplate.cloneNode(false))}Module.prototype={constructor:Module,element:null,header:null,body:null,footer:null,id:null,imageRoot:Module.IMG_ROOT,initEvents:function(){var SIGNATURE=CustomEvent.LIST;this.beforeInitEvent=this.createEvent(EVENT_TYPES.BEFORE_INIT);this.beforeInitEvent.signature=SIGNATURE;this.initEvent=this.createEvent(EVENT_TYPES.INIT);this.initEvent.signature=SIGNATURE;this.appendEvent=this.createEvent(EVENT_TYPES.APPEND);this.appendEvent.signature=SIGNATURE;this.beforeRenderEvent=this.createEvent(EVENT_TYPES.BEFORE_RENDER);this.beforeRenderEvent.signature=SIGNATURE;this.renderEvent=this.createEvent(EVENT_TYPES.RENDER);this.renderEvent.signature=SIGNATURE;this.changeHeaderEvent=this.createEvent(EVENT_TYPES.CHANGE_HEADER);this.changeHeaderEvent.signature=SIGNATURE;this.changeBodyEvent=this.createEvent(EVENT_TYPES.CHANGE_BODY);this.changeBodyEvent.signature=SIGNATURE;this.changeFooterEvent=this.createEvent(EVENT_TYPES.CHANGE_FOOTER);this.changeFooterEvent.signature=SIGNATURE;this.changeContentEvent=this.createEvent(EVENT_TYPES.CHANGE_CONTENT);this.changeContentEvent.signature=SIGNATURE;this.destroyEvent=this.createEvent(EVENT_TYPES.DESTORY);this.destroyEvent.signature=SIGNATURE;this.beforeShowEvent=this.createEvent(EVENT_TYPES.BEFORE_SHOW);this.beforeShowEvent.signature=SIGNATURE;this.showEvent=this.createEvent(EVENT_TYPES.SHOW);this.showEvent.signature=SIGNATURE;this.beforeHideEvent=this.createEvent(EVENT_TYPES.BEFORE_HIDE);this.beforeHideEvent.signature=SIGNATURE;this.hideEvent=this.createEvent(EVENT_TYPES.HIDE);this.hideEvent.signature=SIGNATURE},platform:function(){var ua=navigator.userAgent.toLowerCase();if(ua.indexOf("windows")!=-1||ua.indexOf("win32")!=-1){return"windows"}else{if(ua.indexOf("macintosh")!=-1){return"mac"}else{return false}}}(),browser:function(){var ua=navigator.userAgent.toLowerCase();if(ua.indexOf("opera")!=-1){return"opera"}else{if(ua.indexOf("msie 7")!=-1){return"ie7"}else{if(ua.indexOf("msie")!=-1){return"ie"}else{if(ua.indexOf("safari")!=-1){return"safari"}else{if(ua.indexOf("gecko")!=-1){return"gecko"}else{return false}}}}}}(),isSecure:function(){if(window.location.href.toLowerCase().indexOf("https")===0){return true}else{return false}}(),initDefaultConfig:function(){this.cfg.addProperty(DEFAULT_CONFIG.VISIBLE.key,{handler:this.configVisible,value:DEFAULT_CONFIG.VISIBLE.value,validator:DEFAULT_CONFIG.VISIBLE.validator});this.cfg.addProperty(DEFAULT_CONFIG.EFFECT.key,{suppressEvent:DEFAULT_CONFIG.EFFECT.suppressEvent,supercedes:DEFAULT_CONFIG.EFFECT.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.MONITOR_RESIZE.key,{handler:this.configMonitorResize,value:DEFAULT_CONFIG.MONITOR_RESIZE.value});this.cfg.addProperty(DEFAULT_CONFIG.APPEND_TO_DOCUMENT_BODY.key,{value:DEFAULT_CONFIG.APPEND_TO_DOCUMENT_BODY.value})},init:function(el,userConfig){var elId,child;this.initEvents();this.beforeInitEvent.fire(Module);this.cfg=new Config(this);if(this.isSecure){this.imageRoot=Module.IMG_ROOT_SSL}if(typeof el=="string"){elId=el;el=document.getElementById(el);if(!el){el=(createModuleTemplate()).cloneNode(false);el.id=elId}}this.element=el;if(el.id){this.id=el.id}child=this.element.firstChild;if(child){var fndHd=false,fndBd=false,fndFt=false;do{if(1==child.nodeType){if(!fndHd&&Dom.hasClass(child,Module.CSS_HEADER)){this.header=child;fndHd=true}else{if(!fndBd&&Dom.hasClass(child,Module.CSS_BODY)){this.body=child;fndBd=true}else{if(!fndFt&&Dom.hasClass(child,Module.CSS_FOOTER)){this.footer=child;fndFt=true}}}}}while((child=child.nextSibling))}this.initDefaultConfig();Dom.addClass(this.element,Module.CSS_MODULE);if(userConfig){this.cfg.applyConfig(userConfig,true)}if(!Config.alreadySubscribed(this.renderEvent,this.cfg.fireQueue,this.cfg)){this.renderEvent.subscribe(this.cfg.fireQueue,this.cfg,true)}this.initEvent.fire(Module)},initResizeMonitor:function(){var oDoc,oIFrame,sHTML;function fireTextResize(){Module.textResizeEvent.fire()}if(!YAHOO.env.ua.opera){oIFrame=Dom.get("_yuiResizeMonitor");if(!oIFrame){oIFrame=document.createElement("iframe");if(this.isSecure&&Module.RESIZE_MONITOR_SECURE_URL&&YAHOO.env.ua.ie){oIFrame.src=Module.RESIZE_MONITOR_SECURE_URL}if(YAHOO.env.ua.gecko){sHTML=["<html><head><script ",'type="text/javascript">',"window.onresize=function(){window.parent.","YAHOO.widget.Module.textResizeEvent.","fire();}","<\/script></head>","<body></body></html>"].join("");oIFrame.src="data:text/html;charset=utf-8,"+encodeURIComponent(sHTML)}oIFrame.id="_yuiResizeMonitor";oIFrame.style.position="absolute";oIFrame.style.visibility="hidden";var fc=document.body.firstChild;if(fc){document.body.insertBefore(oIFrame,fc)}else{document.body.appendChild(oIFrame)}oIFrame.style.width="10em";oIFrame.style.height="10em";oIFrame.style.top=(-1*oIFrame.offsetHeight)+"px";oIFrame.style.left=(-1*oIFrame.offsetWidth)+"px";oIFrame.style.borderWidth="0";oIFrame.style.visibility="visible";if(YAHOO.env.ua.webkit){oDoc=oIFrame.contentWindow.document;oDoc.open();oDoc.close()}}if(oIFrame&&oIFrame.contentWindow){Module.textResizeEvent.subscribe(this.onDomResize,this,true);if(!Module.textResizeInitialized){if(!YAHOO.env.ua.gecko){if(!Event.on(oIFrame.contentWindow,"resize",fireTextResize)){Event.on(oIFrame,"resize",fireTextResize)}}Module.textResizeInitialized=true}this.resizeMonitor=oIFrame}}},onDomResize:function(e,obj){var nLeft=-1*this.resizeMonitor.offsetWidth,nTop=-1*this.resizeMonitor.offsetHeight;this.resizeMonitor.style.top=nTop+"px";this.resizeMonitor.style.left=nLeft+"px"},setHeader:function(headerContent){var oHeader=this.header||(this.header=createHeader());if(typeof headerContent=="string"){oHeader.innerHTML=headerContent}else{oHeader.innerHTML="";oHeader.appendChild(headerContent)}this.changeHeaderEvent.fire(headerContent);this.changeContentEvent.fire()},appendToHeader:function(element){var oHeader=this.header||(this.header=createHeader());oHeader.appendChild(element);this.changeHeaderEvent.fire(element);this.changeContentEvent.fire()},setBody:function(bodyContent){var oBody=this.body||(this.body=createBody());if(typeof bodyContent=="string"){oBody.innerHTML=bodyContent}else{oBody.innerHTML="";oBody.appendChild(bodyContent)}this.changeBodyEvent.fire(bodyContent);this.changeContentEvent.fire()},appendToBody:function(element){var oBody=this.body||(this.body=createBody());oBody.appendChild(element);this.changeBodyEvent.fire(element);this.changeContentEvent.fire()},setFooter:function(footerContent){var oFooter=this.footer||(this.footer=createFooter());if(typeof footerContent=="string"){oFooter.innerHTML=footerContent}else{oFooter.innerHTML="";oFooter.appendChild(footerContent)}this.changeFooterEvent.fire(footerContent);this.changeContentEvent.fire()},appendToFooter:function(element){var oFooter=this.footer||(this.footer=createFooter());oFooter.appendChild(element);this.changeFooterEvent.fire(element);this.changeContentEvent.fire()},render:function(appendToNode,moduleElement){var me=this,firstChild;function appendTo(parentNode){if(typeof parentNode=="string"){parentNode=document.getElementById(parentNode)}if(parentNode){me._addToParent(parentNode,me.element);me.appendEvent.fire()}}this.beforeRenderEvent.fire();if(!moduleElement){moduleElement=this.element}if(appendToNode){appendTo(appendToNode)}else{if(!Dom.inDocument(this.element)){return false}}if(this.header&&!Dom.inDocument(this.header)){firstChild=moduleElement.firstChild;if(firstChild){moduleElement.insertBefore(this.header,firstChild)}else{moduleElement.appendChild(this.header)}}if(this.body&&!Dom.inDocument(this.body)){if(this.footer&&Dom.isAncestor(this.moduleElement,this.footer)){moduleElement.insertBefore(this.body,this.footer)}else{moduleElement.appendChild(this.body)}}if(this.footer&&!Dom.inDocument(this.footer)){moduleElement.appendChild(this.footer)}this.renderEvent.fire();return true},destroy:function(){var parent,e;if(this.element){Event.purgeElement(this.element,true);parent=this.element.parentNode}if(parent){parent.removeChild(this.element)}this.element=null;this.header=null;this.body=null;this.footer=null;Module.textResizeEvent.unsubscribe(this.onDomResize,this);this.cfg.destroy();this.cfg=null;this.destroyEvent.fire();for(e in this){if(e instanceof CustomEvent){e.unsubscribeAll()}}},show:function(){this.cfg.setProperty("visible",true)},hide:function(){this.cfg.setProperty("visible",false)},configVisible:function(type,args,obj){var visible=args[0];if(visible){this.beforeShowEvent.fire();Dom.setStyle(this.element,"display","block");this.showEvent.fire()}else{this.beforeHideEvent.fire();Dom.setStyle(this.element,"display","none");this.hideEvent.fire()}},configMonitorResize:function(type,args,obj){var monitor=args[0];if(monitor){this.initResizeMonitor()}else{Module.textResizeEvent.unsubscribe(this.onDomResize,this,true);this.resizeMonitor=null}},_addToParent:function(parentNode,element){if(!this.cfg.getProperty("appendtodocumentbody")&&parentNode===document.body&&parentNode.firstChild){parentNode.insertBefore(element,parentNode.firstChild)}else{parentNode.appendChild(element)}},toString:function(){return"Module "+this.id}};YAHOO.lang.augmentProto(Module,YAHOO.util.EventProvider)}());(function(){YAHOO.widget.Overlay=function(el,userConfig){YAHOO.widget.Overlay.superclass.constructor.call(this,el,userConfig)};var Lang=YAHOO.lang,CustomEvent=YAHOO.util.CustomEvent,Module=YAHOO.widget.Module,Event=YAHOO.util.Event,Dom=YAHOO.util.Dom,Config=YAHOO.util.Config,Overlay=YAHOO.widget.Overlay,m_oIFrameTemplate,EVENT_TYPES={"BEFORE_MOVE":"beforeMove","MOVE":"move"},DEFAULT_CONFIG={"X":{key:"x",validator:Lang.isNumber,suppressEvent:true,supercedes:["iframe"]},"Y":{key:"y",validator:Lang.isNumber,suppressEvent:true,supercedes:["iframe"]},"XY":{key:"xy",suppressEvent:true,supercedes:["iframe"]},"CONTEXT":{key:"context",suppressEvent:true,supercedes:["iframe"]},"FIXED_CENTER":{key:"fixedcenter",value:false,validator:Lang.isBoolean,supercedes:["iframe","visible"]},"WIDTH":{key:"width",suppressEvent:true,supercedes:["context","fixedcenter","iframe"]},"HEIGHT":{key:"height",suppressEvent:true,supercedes:["context","fixedcenter","iframe"]},"ZINDEX":{key:"zindex",value:null},"CONSTRAIN_TO_VIEWPORT":{key:"constraintoviewport",value:false,validator:Lang.isBoolean,supercedes:["iframe","x","y","xy"]},"IFRAME":{key:"iframe",value:(YAHOO.env.ua.ie==6?true:false),validator:Lang.isBoolean,supercedes:["zindex"]}};Overlay.IFRAME_SRC="javascript:false;";Overlay.IFRAME_OFFSET=3;Overlay.VIEWPORT_OFFSET=10;Overlay.TOP_LEFT="tl";Overlay.TOP_RIGHT="tr";Overlay.BOTTOM_LEFT="bl";Overlay.BOTTOM_RIGHT="br";Overlay.CSS_OVERLAY="yui-overlay";Overlay.windowScrollEvent=new CustomEvent("windowScroll");Overlay.windowResizeEvent=new CustomEvent("windowResize");Overlay.windowScrollHandler=function(e){if(YAHOO.env.ua.ie){if(!window.scrollEnd){window.scrollEnd=-1}clearTimeout(window.scrollEnd);window.scrollEnd=setTimeout(function(){Overlay.windowScrollEvent.fire()},1)}else{Overlay.windowScrollEvent.fire()}};Overlay.windowResizeHandler=function(e){if(YAHOO.env.ua.ie){if(!window.resizeEnd){window.resizeEnd=-1}clearTimeout(window.resizeEnd);window.resizeEnd=setTimeout(function(){Overlay.windowResizeEvent.fire()},100)}else{Overlay.windowResizeEvent.fire()}};Overlay._initialized=null;if(Overlay._initialized===null){Event.on(window,"scroll",Overlay.windowScrollHandler);Event.on(window,"resize",Overlay.windowResizeHandler);Overlay._initialized=true}YAHOO.extend(Overlay,Module,{init:function(el,userConfig){Overlay.superclass.init.call(this,el);this.beforeInitEvent.fire(Overlay);Dom.addClass(this.element,Overlay.CSS_OVERLAY);if(userConfig){this.cfg.applyConfig(userConfig,true)}if(this.platform=="mac"&&YAHOO.env.ua.gecko){if(!Config.alreadySubscribed(this.showEvent,this.showMacGeckoScrollbars,this)){this.showEvent.subscribe(this.showMacGeckoScrollbars,this,true)}if(!Config.alreadySubscribed(this.hideEvent,this.hideMacGeckoScrollbars,this)){this.hideEvent.subscribe(this.hideMacGeckoScrollbars,this,true)}}this.initEvent.fire(Overlay)},initEvents:function(){Overlay.superclass.initEvents.call(this);var SIGNATURE=CustomEvent.LIST;this.beforeMoveEvent=this.createEvent(EVENT_TYPES.BEFORE_MOVE);this.beforeMoveEvent.signature=SIGNATURE;this.moveEvent=this.createEvent(EVENT_TYPES.MOVE);this.moveEvent.signature=SIGNATURE},initDefaultConfig:function(){Overlay.superclass.initDefaultConfig.call(this);this.cfg.addProperty(DEFAULT_CONFIG.X.key,{handler:this.configX,validator:DEFAULT_CONFIG.X.validator,suppressEvent:DEFAULT_CONFIG.X.suppressEvent,supercedes:DEFAULT_CONFIG.X.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.Y.key,{handler:this.configY,validator:DEFAULT_CONFIG.Y.validator,suppressEvent:DEFAULT_CONFIG.Y.suppressEvent,supercedes:DEFAULT_CONFIG.Y.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.XY.key,{handler:this.configXY,suppressEvent:DEFAULT_CONFIG.XY.suppressEvent,supercedes:DEFAULT_CONFIG.XY.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.CONTEXT.key,{handler:this.configContext,suppressEvent:DEFAULT_CONFIG.CONTEXT.suppressEvent,supercedes:DEFAULT_CONFIG.CONTEXT.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.FIXED_CENTER.key,{handler:this.configFixedCenter,value:DEFAULT_CONFIG.FIXED_CENTER.value,validator:DEFAULT_CONFIG.FIXED_CENTER.validator,supercedes:DEFAULT_CONFIG.FIXED_CENTER.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.WIDTH.key,{handler:this.configWidth,suppressEvent:DEFAULT_CONFIG.WIDTH.suppressEvent,supercedes:DEFAULT_CONFIG.WIDTH.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.HEIGHT.key,{handler:this.configHeight,suppressEvent:DEFAULT_CONFIG.HEIGHT.suppressEvent,supercedes:DEFAULT_CONFIG.HEIGHT.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.ZINDEX.key,{handler:this.configzIndex,value:DEFAULT_CONFIG.ZINDEX.value});this.cfg.addProperty(DEFAULT_CONFIG.CONSTRAIN_TO_VIEWPORT.key,{handler:this.configConstrainToViewport,value:DEFAULT_CONFIG.CONSTRAIN_TO_VIEWPORT.value,validator:DEFAULT_CONFIG.CONSTRAIN_TO_VIEWPORT.validator,supercedes:DEFAULT_CONFIG.CONSTRAIN_TO_VIEWPORT.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.IFRAME.key,{handler:this.configIframe,value:DEFAULT_CONFIG.IFRAME.value,validator:DEFAULT_CONFIG.IFRAME.validator,supercedes:DEFAULT_CONFIG.IFRAME.supercedes})},moveTo:function(x,y){this.cfg.setProperty("xy",[x,y])},hideMacGeckoScrollbars:function(){Dom.removeClass(this.element,"show-scrollbars");Dom.addClass(this.element,"hide-scrollbars")},showMacGeckoScrollbars:function(){Dom.removeClass(this.element,"hide-scrollbars");Dom.addClass(this.element,"show-scrollbars")},configVisible:function(type,args,obj){var visible=args[0],currentVis=Dom.getStyle(this.element,"visibility"),effect=this.cfg.getProperty("effect"),effectInstances=[],isMacGecko=(this.platform=="mac"&&YAHOO.env.ua.gecko),alreadySubscribed=Config.alreadySubscribed,eff,ei,e,i,j,k,h,nEffects,nEffectInstances;if(currentVis=="inherit"){e=this.element.parentNode;while(e.nodeType!=9&&e.nodeType!=11){currentVis=Dom.getStyle(e,"visibility");if(currentVis!="inherit"){break}e=e.parentNode}if(currentVis=="inherit"){currentVis="visible"}}if(effect){if(effect instanceof Array){nEffects=effect.length;for(i=0;i<nEffects;i++){eff=effect[i];effectInstances[effectInstances.length]=eff.effect(this,eff.duration)}}else{effectInstances[effectInstances.length]=effect.effect(this,effect.duration)}}if(visible){if(isMacGecko){this.showMacGeckoScrollbars()}if(effect){if(visible){if(currentVis!="visible"||currentVis===""){this.beforeShowEvent.fire();nEffectInstances=effectInstances.length;for(j=0;j<nEffectInstances;j++){ei=effectInstances[j];if(j===0&&!alreadySubscribed(ei.animateInCompleteEvent,this.showEvent.fire,this.showEvent)){ei.animateInCompleteEvent.subscribe(this.showEvent.fire,this.showEvent,true)}ei.animateIn()}}}}else{if(currentVis!="visible"||currentVis===""){this.beforeShowEvent.fire();Dom.setStyle(this.element,"visibility","visible");this.cfg.refireEvent("iframe");this.showEvent.fire()}}}else{if(isMacGecko){this.hideMacGeckoScrollbars()}if(effect){if(currentVis=="visible"){this.beforeHideEvent.fire();nEffectInstances=effectInstances.length;for(k=0;k<nEffectInstances;k++){h=effectInstances[k];if(k===0&&!alreadySubscribed(h.animateOutCompleteEvent,this.hideEvent.fire,this.hideEvent)){h.animateOutCompleteEvent.subscribe(this.hideEvent.fire,this.hideEvent,true)}h.animateOut()}}else{if(currentVis===""){Dom.setStyle(this.element,"visibility","hidden")}}}else{if(currentVis=="visible"||currentVis===""){this.beforeHideEvent.fire();Dom.setStyle(this.element,"visibility","hidden");this.hideEvent.fire()}}}},doCenterOnDOMEvent:function(){if(this.cfg.getProperty("visible")){this.center()}},configFixedCenter:function(type,args,obj){var val=args[0],alreadySubscribed=Config.alreadySubscribed,windowResizeEvent=Overlay.windowResizeEvent,windowScrollEvent=Overlay.windowScrollEvent;if(val){this.center();if(!alreadySubscribed(this.beforeShowEvent,this.center,this)){this.beforeShowEvent.subscribe(this.center)}if(!alreadySubscribed(windowResizeEvent,this.doCenterOnDOMEvent,this)){windowResizeEvent.subscribe(this.doCenterOnDOMEvent,this,true)}if(!alreadySubscribed(windowScrollEvent,this.doCenterOnDOMEvent,this)){windowScrollEvent.subscribe(this.doCenterOnDOMEvent,this,true)}}else{this.beforeShowEvent.unsubscribe(this.center);windowResizeEvent.unsubscribe(this.doCenterOnDOMEvent,this);windowScrollEvent.unsubscribe(this.doCenterOnDOMEvent,this)}},configHeight:function(type,args,obj){var height=args[0],el=this.element;Dom.setStyle(el,"height",height);this.cfg.refireEvent("iframe")},configWidth:function(type,args,obj){var width=args[0],el=this.element;Dom.setStyle(el,"width",width);this.cfg.refireEvent("iframe")},configzIndex:function(type,args,obj){var zIndex=args[0],el=this.element;if(!zIndex){zIndex=Dom.getStyle(el,"zIndex");if(!zIndex||isNaN(zIndex)){zIndex=0}}if(this.iframe||this.cfg.getProperty("iframe")===true){if(zIndex<=0){zIndex=1}}Dom.setStyle(el,"zIndex",zIndex);this.cfg.setProperty("zIndex",zIndex,true);if(this.iframe){this.stackIframe()}},configXY:function(type,args,obj){var pos=args[0],x=pos[0],y=pos[1];this.cfg.setProperty("x",x);this.cfg.setProperty("y",y);this.beforeMoveEvent.fire([x,y]);x=this.cfg.getProperty("x");y=this.cfg.getProperty("y");this.cfg.refireEvent("iframe");this.moveEvent.fire([x,y])},configX:function(type,args,obj){var x=args[0],y=this.cfg.getProperty("y");this.cfg.setProperty("x",x,true);this.cfg.setProperty("y",y,true);this.beforeMoveEvent.fire([x,y]);x=this.cfg.getProperty("x");y=this.cfg.getProperty("y");Dom.setX(this.element,x,true);this.cfg.setProperty("xy",[x,y],true);this.cfg.refireEvent("iframe");this.moveEvent.fire([x,y])},configY:function(type,args,obj){var x=this.cfg.getProperty("x"),y=args[0];this.cfg.setProperty("x",x,true);this.cfg.setProperty("y",y,true);this.beforeMoveEvent.fire([x,y]);x=this.cfg.getProperty("x");y=this.cfg.getProperty("y");Dom.setY(this.element,y,true);this.cfg.setProperty("xy",[x,y],true);this.cfg.refireEvent("iframe");this.moveEvent.fire([x,y])},showIframe:function(){var oIFrame=this.iframe,oParentNode;if(oIFrame){oParentNode=this.element.parentNode;if(oParentNode!=oIFrame.parentNode){this._addToParent(oParentNode,oIFrame)}oIFrame.style.display="block"}},hideIframe:function(){if(this.iframe){this.iframe.style.display="none"}},syncIframe:function(){var oIFrame=this.iframe,oElement=this.element,nOffset=Overlay.IFRAME_OFFSET,nDimensionOffset=(nOffset*2),aXY;if(oIFrame){oIFrame.style.width=(oElement.offsetWidth+nDimensionOffset+"px");oIFrame.style.height=(oElement.offsetHeight+nDimensionOffset+"px");aXY=this.cfg.getProperty("xy");if(!Lang.isArray(aXY)||(isNaN(aXY[0])||isNaN(aXY[1]))){this.syncPosition();aXY=this.cfg.getProperty("xy")}Dom.setXY(oIFrame,[(aXY[0]-nOffset),(aXY[1]-nOffset)])}},stackIframe:function(){if(this.iframe){var overlayZ=Dom.getStyle(this.element,"zIndex");if(!YAHOO.lang.isUndefined(overlayZ)&&!isNaN(overlayZ)){Dom.setStyle(this.iframe,"zIndex",(overlayZ-1))}}},configIframe:function(type,args,obj){var bIFrame=args[0];function createIFrame(){var oIFrame=this.iframe,oElement=this.element,oParent;if(!oIFrame){if(!m_oIFrameTemplate){m_oIFrameTemplate=document.createElement("iframe");if(this.isSecure){m_oIFrameTemplate.src=Overlay.IFRAME_SRC}if(YAHOO.env.ua.ie){m_oIFrameTemplate.style.filter="alpha(opacity=0)";m_oIFrameTemplate.frameBorder=0}else{m_oIFrameTemplate.style.opacity="0"}m_oIFrameTemplate.style.position="absolute";m_oIFrameTemplate.style.border="none";m_oIFrameTemplate.style.margin="0";m_oIFrameTemplate.style.padding="0";m_oIFrameTemplate.style.display="none"}oIFrame=m_oIFrameTemplate.cloneNode(false);oParent=oElement.parentNode;var parentNode=oParent||document.body;this._addToParent(parentNode,oIFrame);this.iframe=oIFrame}this.showIframe();this.syncIframe();this.stackIframe();if(!this._hasIframeEventListeners){this.showEvent.subscribe(this.showIframe);this.hideEvent.subscribe(this.hideIframe);this.changeContentEvent.subscribe(this.syncIframe);this._hasIframeEventListeners=true}}function onBeforeShow(){createIFrame.call(this);this.beforeShowEvent.unsubscribe(onBeforeShow);this._iframeDeferred=false}if(bIFrame){if(this.cfg.getProperty("visible")){createIFrame.call(this)}else{if(!this._iframeDeferred){this.beforeShowEvent.subscribe(onBeforeShow);this._iframeDeferred=true}}}else{this.hideIframe();if(this._hasIframeEventListeners){this.showEvent.unsubscribe(this.showIframe);this.hideEvent.unsubscribe(this.hideIframe);this.changeContentEvent.unsubscribe(this.syncIframe);this._hasIframeEventListeners=false}}},configConstrainToViewport:function(type,args,obj){function constrainBeforeShow(){if(YAHOO.lang.isUndefined(this.cfg.getProperty("xy"))){this.syncPosition()}var x=this.cfg.getProperty("x");var y=this.cfg.getProperty("y");var cXY=this.getConstrainedXY(x,y);if(cXY[0]!==x||cXY[1]!==y){this.moveTo(cXY[0],cXY[1])}}var val=args[0];if(val){if(!Config.alreadySubscribed(this.beforeMoveEvent,this.enforceConstraints,this)){this.beforeMoveEvent.subscribe(this.enforceConstraints,this,true)}if(!Config.alreadySubscribed(this.beforeShowEvent,constrainBeforeShow)){this.beforeShowEvent.subscribe(constrainBeforeShow)}}else{this.beforeShowEvent.unsubscribe(constrainBeforeShow);this.beforeMoveEvent.unsubscribe(this.enforceConstraints,this)}},configContext:function(type,args,obj){var contextArgs=args[0],contextEl,elementMagnetCorner,contextMagnetCorner;if(contextArgs){contextEl=contextArgs[0];elementMagnetCorner=contextArgs[1];contextMagnetCorner=contextArgs[2];if(contextEl){if(typeof contextEl=="string"){this.cfg.setProperty("context",[document.getElementById(contextEl),elementMagnetCorner,contextMagnetCorner],true)}if(elementMagnetCorner&&contextMagnetCorner){this.align(elementMagnetCorner,contextMagnetCorner)}}}},align:function(elementAlign,contextAlign){var contextArgs=this.cfg.getProperty("context"),me=this,context,element,contextRegion;function doAlign(v,h){switch(elementAlign){case Overlay.TOP_LEFT:me.moveTo(h,v);break;case Overlay.TOP_RIGHT:me.moveTo((h-element.offsetWidth),v);break;case Overlay.BOTTOM_LEFT:me.moveTo(h,(v-element.offsetHeight));break;case Overlay.BOTTOM_RIGHT:me.moveTo((h-element.offsetWidth),(v-element.offsetHeight));break}}if(contextArgs){context=contextArgs[0];element=this.element;me=this;if(!elementAlign){elementAlign=contextArgs[1]}if(!contextAlign){contextAlign=contextArgs[2]}if(element&&context){contextRegion=Dom.getRegion(context);switch(contextAlign){case Overlay.TOP_LEFT:doAlign(contextRegion.top,contextRegion.left);break;case Overlay.TOP_RIGHT:doAlign(contextRegion.top,contextRegion.right);break;case Overlay.BOTTOM_LEFT:doAlign(contextRegion.bottom,contextRegion.left);break;case Overlay.BOTTOM_RIGHT:doAlign(contextRegion.bottom,contextRegion.right);break}}}},enforceConstraints:function(type,args,obj){var pos=args[0];var cXY=this.getConstrainedXY(pos[0],pos[1]);this.cfg.setProperty("x",cXY[0],true);this.cfg.setProperty("y",cXY[1],true);this.cfg.setProperty("xy",cXY,true)},getConstrainedXY:function(x,y){var nViewportOffset=Overlay.VIEWPORT_OFFSET,viewPortWidth=Dom.getViewportWidth(),viewPortHeight=Dom.getViewportHeight(),offsetHeight=this.element.offsetHeight,offsetWidth=this.element.offsetWidth,scrollX=Dom.getDocumentScrollLeft(),scrollY=Dom.getDocumentScrollTop();var xNew=x;var yNew=y;if(offsetWidth+nViewportOffset<viewPortWidth){var leftConstraint=scrollX+nViewportOffset;var rightConstraint=scrollX+viewPortWidth-offsetWidth-nViewportOffset;if(x<leftConstraint){xNew=leftConstraint}else{if(x>rightConstraint){xNew=rightConstraint}}}else{xNew=nViewportOffset+scrollX}if(offsetHeight+nViewportOffset<viewPortHeight){var topConstraint=scrollY+nViewportOffset;var bottomConstraint=scrollY+viewPortHeight-offsetHeight-nViewportOffset;if(y<topConstraint){yNew=topConstraint}else{if(y>bottomConstraint){yNew=bottomConstraint}}}else{yNew=nViewportOffset+scrollY}return[xNew,yNew]},center:function(){var nViewportOffset=Overlay.VIEWPORT_OFFSET,elementWidth=this.element.offsetWidth,elementHeight=this.element.offsetHeight,viewPortWidth=Dom.getViewportWidth(),viewPortHeight=Dom.getViewportHeight(),x,y;if(elementWidth<viewPortWidth){x=(viewPortWidth/2)-(elementWidth/2)+Dom.getDocumentScrollLeft()}else{x=nViewportOffset+Dom.getDocumentScrollLeft()}if(elementHeight<viewPortHeight){y=(viewPortHeight/2)-(elementHeight/2)+Dom.getDocumentScrollTop()}else{y=nViewportOffset+Dom.getDocumentScrollTop()}this.cfg.setProperty("xy",[parseInt(x,10),parseInt(y,10)]);this.cfg.refireEvent("iframe")},syncPosition:function(){var pos=Dom.getXY(this.element);this.cfg.setProperty("x",pos[0],true);this.cfg.setProperty("y",pos[1],true);this.cfg.setProperty("xy",pos,true)},onDomResize:function(e,obj){var me=this;Overlay.superclass.onDomResize.call(this,e,obj);setTimeout(function(){me.syncPosition();me.cfg.refireEvent("iframe");me.cfg.refireEvent("context")},0)},bringToTop:function(){var aOverlays=[],oElement=this.element;function compareZIndexDesc(p_oOverlay1,p_oOverlay2){var sZIndex1=Dom.getStyle(p_oOverlay1,"zIndex"),sZIndex2=Dom.getStyle(p_oOverlay2,"zIndex"),nZIndex1=(!sZIndex1||isNaN(sZIndex1))?0:parseInt(sZIndex1,10),nZIndex2=(!sZIndex2||isNaN(sZIndex2))?0:parseInt(sZIndex2,10);if(nZIndex1>nZIndex2){return -1}else{if(nZIndex1<nZIndex2){return 1}else{return 0}}}function isOverlayElement(p_oElement){var oOverlay=Dom.hasClass(p_oElement,Overlay.CSS_OVERLAY),Panel=YAHOO.widget.Panel;if(oOverlay&&!Dom.isAncestor(oElement,oOverlay)){if(Panel&&Dom.hasClass(p_oElement,Panel.CSS_PANEL)){aOverlays[aOverlays.length]=p_oElement.parentNode}else{aOverlays[aOverlays.length]=p_oElement}}}Dom.getElementsBy(isOverlayElement,"DIV",document.body);aOverlays.sort(compareZIndexDesc);var oTopOverlay=aOverlays[0],nTopZIndex;if(oTopOverlay){nTopZIndex=Dom.getStyle(oTopOverlay,"zIndex");if(!isNaN(nTopZIndex)){var bRequiresBump=false;if(oTopOverlay!=oElement){bRequiresBump=true}else{if(aOverlays.length>1){var nNextZIndex=Dom.getStyle(aOverlays[1],"zIndex");if(!isNaN(nNextZIndex)&&(nTopZIndex==nNextZIndex)){bRequiresBump=true}}}if(bRequiresBump){this.cfg.setProperty("zindex",(parseInt(nTopZIndex,10)+2))}}}},destroy:function(){if(this.iframe){this.iframe.parentNode.removeChild(this.iframe)}this.iframe=null;Overlay.windowResizeEvent.unsubscribe(this.doCenterOnDOMEvent,this);Overlay.windowScrollEvent.unsubscribe(this.doCenterOnDOMEvent,this);Overlay.superclass.destroy.call(this)},toString:function(){return"Overlay "+this.id}})}());(function(){YAHOO.widget.OverlayManager=function(userConfig){this.init(userConfig)};var Overlay=YAHOO.widget.Overlay,Event=YAHOO.util.Event,Dom=YAHOO.util.Dom,Config=YAHOO.util.Config,CustomEvent=YAHOO.util.CustomEvent,OverlayManager=YAHOO.widget.OverlayManager;OverlayManager.CSS_FOCUSED="focused";OverlayManager.prototype={constructor:OverlayManager,overlays:null,initDefaultConfig:function(){this.cfg.addProperty("overlays",{suppressEvent:true});this.cfg.addProperty("focusevent",{value:"mousedown"})},init:function(userConfig){this.cfg=new Config(this);this.initDefaultConfig();if(userConfig){this.cfg.applyConfig(userConfig,true)}this.cfg.fireQueue();var activeOverlay=null;this.getActive=function(){return activeOverlay};this.focus=function(overlay){var o=this.find(overlay);if(o){if(activeOverlay!=o){if(activeOverlay){activeOverlay.blur()}this.bringToTop(o);activeOverlay=o;Dom.addClass(activeOverlay.element,OverlayManager.CSS_FOCUSED);o.focusEvent.fire()}}};this.remove=function(overlay){var o=this.find(overlay),originalZ;if(o){if(activeOverlay==o){activeOverlay=null}var bDestroyed=(o.element===null&&o.cfg===null)?true:false;if(!bDestroyed){originalZ=Dom.getStyle(o.element,"zIndex");o.cfg.setProperty("zIndex",-1000,true)}this.overlays.sort(this.compareZIndexDesc);this.overlays=this.overlays.slice(0,(this.overlays.length-1));o.hideEvent.unsubscribe(o.blur);o.destroyEvent.unsubscribe(this._onOverlayDestroy,o);if(!bDestroyed){Event.removeListener(o.element,this.cfg.getProperty("focusevent"),this._onOverlayElementFocus);o.cfg.setProperty("zIndex",originalZ,true);o.cfg.setProperty("manager",null)}o.focusEvent.unsubscribeAll();o.blurEvent.unsubscribeAll();o.focusEvent=null;o.blurEvent=null;o.focus=null;o.blur=null}};this.blurAll=function(){var nOverlays=this.overlays.length,i;if(nOverlays>0){i=nOverlays-1;do{this.overlays[i].blur()}while(i--)}};this._onOverlayBlur=function(p_sType,p_aArgs){activeOverlay=null};var overlays=this.cfg.getProperty("overlays");if(!this.overlays){this.overlays=[]}if(overlays){this.register(overlays);this.overlays.sort(this.compareZIndexDesc)}},_onOverlayElementFocus:function(p_oEvent){var oTarget=Event.getTarget(p_oEvent),oClose=this.close;if(oClose&&(oTarget==oClose||Dom.isAncestor(oClose,oTarget))){this.blur()}else{this.focus()}},_onOverlayDestroy:function(p_sType,p_aArgs,p_oOverlay){this.remove(p_oOverlay)},register:function(overlay){var mgr=this,zIndex,regcount,i,nOverlays;if(overlay instanceof Overlay){overlay.cfg.addProperty("manager",{value:this});overlay.focusEvent=overlay.createEvent("focus");overlay.focusEvent.signature=CustomEvent.LIST;overlay.blurEvent=overlay.createEvent("blur");overlay.blurEvent.signature=CustomEvent.LIST;overlay.focus=function(){mgr.focus(this)};overlay.blur=function(){if(mgr.getActive()==this){Dom.removeClass(this.element,OverlayManager.CSS_FOCUSED);this.blurEvent.fire()}};overlay.blurEvent.subscribe(mgr._onOverlayBlur);overlay.hideEvent.subscribe(overlay.blur);overlay.destroyEvent.subscribe(this._onOverlayDestroy,overlay,this);Event.on(overlay.element,this.cfg.getProperty("focusevent"),this._onOverlayElementFocus,null,overlay);zIndex=Dom.getStyle(overlay.element,"zIndex");if(!isNaN(zIndex)){overlay.cfg.setProperty("zIndex",parseInt(zIndex,10))}else{overlay.cfg.setProperty("zIndex",0)}this.overlays.push(overlay);this.bringToTop(overlay);return true}else{if(overlay instanceof Array){regcount=0;nOverlays=overlay.length;for(i=0;i<nOverlays;i++){if(this.register(overlay[i])){regcount++}}if(regcount>0){return true}}else{return false}}},bringToTop:function(p_oOverlay){var oOverlay=this.find(p_oOverlay),nTopZIndex,oTopOverlay,aOverlays;if(oOverlay){aOverlays=this.overlays;aOverlays.sort(this.compareZIndexDesc);oTopOverlay=aOverlays[0];if(oTopOverlay){nTopZIndex=Dom.getStyle(oTopOverlay.element,"zIndex");if(!isNaN(nTopZIndex)){var bRequiresBump=false;if(oTopOverlay!==oOverlay){bRequiresBump=true}else{if(aOverlays.length>1){var nNextZIndex=Dom.getStyle(aOverlays[1].element,"zIndex");if(!isNaN(nNextZIndex)&&(nTopZIndex==nNextZIndex)){bRequiresBump=true}}}if(bRequiresBump){oOverlay.cfg.setProperty("zindex",(parseInt(nTopZIndex,10)+2))}}aOverlays.sort(this.compareZIndexDesc)}}},find:function(overlay){var aOverlays=this.overlays,nOverlays=aOverlays.length,i;if(nOverlays>0){i=nOverlays-1;if(overlay instanceof Overlay){do{if(aOverlays[i]==overlay){return aOverlays[i]}}while(i--)}else{if(typeof overlay=="string"){do{if(aOverlays[i].id==overlay){return aOverlays[i]}}while(i--)}}return null}},compareZIndexDesc:function(o1,o2){var zIndex1=(o1.cfg)?o1.cfg.getProperty("zIndex"):null,zIndex2=(o2.cfg)?o2.cfg.getProperty("zIndex"):null;if(zIndex1===null&&zIndex2===null){return 0}else{if(zIndex1===null){return 1}else{if(zIndex2===null){return -1}else{if(zIndex1>zIndex2){return -1}else{if(zIndex1<zIndex2){return 1}else{return 0}}}}}},showAll:function(){var aOverlays=this.overlays,nOverlays=aOverlays.length,i;if(nOverlays>0){i=nOverlays-1;do{aOverlays[i].show()}while(i--)}},hideAll:function(){var aOverlays=this.overlays,nOverlays=aOverlays.length,i;if(nOverlays>0){i=nOverlays-1;do{aOverlays[i].hide()}while(i--)}},toString:function(){return"OverlayManager"}}}());(function(){YAHOO.widget.Tooltip=function(el,userConfig){YAHOO.widget.Tooltip.superclass.constructor.call(this,el,userConfig)};var Lang=YAHOO.lang,Event=YAHOO.util.Event,Dom=YAHOO.util.Dom,Tooltip=YAHOO.widget.Tooltip,m_oShadowTemplate,DEFAULT_CONFIG={"PREVENT_OVERLAP":{key:"preventoverlap",value:true,validator:Lang.isBoolean,supercedes:["x","y","xy"]},"SHOW_DELAY":{key:"showdelay",value:200,validator:Lang.isNumber},"AUTO_DISMISS_DELAY":{key:"autodismissdelay",value:5000,validator:Lang.isNumber},"HIDE_DELAY":{key:"hidedelay",value:250,validator:Lang.isNumber},"TEXT":{key:"text",suppressEvent:true},"CONTAINER":{key:"container"}};Tooltip.CSS_TOOLTIP="yui-tt";function restoreOriginalWidth(p_sType,p_aArgs,p_oObject){var sOriginalWidth=p_oObject[0],sNewWidth=p_oObject[1],oConfig=this.cfg,sCurrentWidth=oConfig.getProperty("width");if(sCurrentWidth==sNewWidth){oConfig.setProperty("width",sOriginalWidth)}this.unsubscribe("hide",this._onHide,p_oObject)}function setWidthToOffsetWidth(p_sType,p_aArgs){var oBody=document.body,oConfig=this.cfg,sOriginalWidth=oConfig.getProperty("width"),sNewWidth,oClone;if((!sOriginalWidth||sOriginalWidth=="auto")&&(oConfig.getProperty("container")!=oBody||oConfig.getProperty("x")>=Dom.getViewportWidth()||oConfig.getProperty("y")>=Dom.getViewportHeight())){oClone=this.element.cloneNode(true);oClone.style.visibility="hidden";oClone.style.top="0px";oClone.style.left="0px";oBody.appendChild(oClone);sNewWidth=(oClone.offsetWidth+"px");oBody.removeChild(oClone);oClone=null;oConfig.setProperty("width",sNewWidth);oConfig.refireEvent("xy");this.subscribe("hide",restoreOriginalWidth,[(sOriginalWidth||""),sNewWidth])}}function onDOMReady(p_sType,p_aArgs,p_oObject){this.render(p_oObject)}function onInit(){Event.onDOMReady(onDOMReady,this.cfg.getProperty("container"),this)}YAHOO.extend(Tooltip,YAHOO.widget.Overlay,{init:function(el,userConfig){Tooltip.superclass.init.call(this,el);this.beforeInitEvent.fire(Tooltip);Dom.addClass(this.element,Tooltip.CSS_TOOLTIP);if(userConfig){this.cfg.applyConfig(userConfig,true)}this.cfg.queueProperty("visible",false);this.cfg.queueProperty("constraintoviewport",true);this.setBody("");this.subscribe("beforeShow",setWidthToOffsetWidth);this.subscribe("init",onInit);this.subscribe("render",this.onRender);this.initEvent.fire(Tooltip)},initDefaultConfig:function(){Tooltip.superclass.initDefaultConfig.call(this);this.cfg.addProperty(DEFAULT_CONFIG.PREVENT_OVERLAP.key,{value:DEFAULT_CONFIG.PREVENT_OVERLAP.value,validator:DEFAULT_CONFIG.PREVENT_OVERLAP.validator,supercedes:DEFAULT_CONFIG.PREVENT_OVERLAP.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.SHOW_DELAY.key,{handler:this.configShowDelay,value:200,validator:DEFAULT_CONFIG.SHOW_DELAY.validator});this.cfg.addProperty(DEFAULT_CONFIG.AUTO_DISMISS_DELAY.key,{handler:this.configAutoDismissDelay,value:DEFAULT_CONFIG.AUTO_DISMISS_DELAY.value,validator:DEFAULT_CONFIG.AUTO_DISMISS_DELAY.validator});this.cfg.addProperty(DEFAULT_CONFIG.HIDE_DELAY.key,{handler:this.configHideDelay,value:DEFAULT_CONFIG.HIDE_DELAY.value,validator:DEFAULT_CONFIG.HIDE_DELAY.validator});this.cfg.addProperty(DEFAULT_CONFIG.TEXT.key,{handler:this.configText,suppressEvent:DEFAULT_CONFIG.TEXT.suppressEvent});this.cfg.addProperty(DEFAULT_CONFIG.CONTAINER.key,{handler:this.configContainer,value:document.body})},configText:function(type,args,obj){var text=args[0];if(text){this.setBody(text)}},configContainer:function(type,args,obj){var container=args[0];if(typeof container=="string"){this.cfg.setProperty("container",document.getElementById(container),true)}},_removeEventListeners:function(){var aElements=this._context,nElements,oElement,i;if(aElements){nElements=aElements.length;if(nElements>0){i=nElements-1;do{oElement=aElements[i];Event.removeListener(oElement,"mouseover",this.onContextMouseOver);Event.removeListener(oElement,"mousemove",this.onContextMouseMove);Event.removeListener(oElement,"mouseout",this.onContextMouseOut)}while(i--)}}},configContext:function(type,args,obj){var context=args[0],aElements,nElements,oElement,i;if(context){if(!(context instanceof Array)){if(typeof context=="string"){this.cfg.setProperty("context",[document.getElementById(context)],true)}else{this.cfg.setProperty("context",[context],true)}context=this.cfg.getProperty("context")}this._removeEventListeners();this._context=context;aElements=this._context;if(aElements){nElements=aElements.length;if(nElements>0){i=nElements-1;do{oElement=aElements[i];Event.on(oElement,"mouseover",this.onContextMouseOver,this);Event.on(oElement,"mousemove",this.onContextMouseMove,this);Event.on(oElement,"mouseout",this.onContextMouseOut,this)}while(i--)}}}},onContextMouseMove:function(e,obj){obj.pageX=Event.getPageX(e);obj.pageY=Event.getPageY(e)},onContextMouseOver:function(e,obj){var context=this;if(obj.hideProcId){clearTimeout(obj.hideProcId);obj.hideProcId=null}Event.on(context,"mousemove",obj.onContextMouseMove,obj);if(context.title){obj._tempTitle=context.title;context.title=""}obj.showProcId=obj.doShow(e,context)},onContextMouseOut:function(e,obj){var el=this;if(obj._tempTitle){el.title=obj._tempTitle;obj._tempTitle=null}if(obj.showProcId){clearTimeout(obj.showProcId);obj.showProcId=null}if(obj.hideProcId){clearTimeout(obj.hideProcId);obj.hideProcId=null}obj.hideProcId=setTimeout(function(){obj.hide()},obj.cfg.getProperty("hidedelay"))},doShow:function(e,context){var yOffset=25,me=this;if(YAHOO.env.ua.opera&&context.tagName&&context.tagName.toUpperCase()=="A"){yOffset+=12}return setTimeout(function(){var txt=me.cfg.getProperty("text");if(me._tempTitle&&(txt===""||YAHOO.lang.isUndefined(txt)||YAHOO.lang.isNull(txt))){me.setBody(me._tempTitle)}else{me.cfg.refireEvent("text")}me.moveTo(me.pageX,me.pageY+yOffset);if(me.cfg.getProperty("preventoverlap")){me.preventOverlap(me.pageX,me.pageY)}Event.removeListener(context,"mousemove",me.onContextMouseMove);me.show();me.hideProcId=me.doHide()},this.cfg.getProperty("showdelay"))},doHide:function(){var me=this;return setTimeout(function(){me.hide()},this.cfg.getProperty("autodismissdelay"))},preventOverlap:function(pageX,pageY){var height=this.element.offsetHeight,mousePoint=new YAHOO.util.Point(pageX,pageY),elementRegion=Dom.getRegion(this.element);elementRegion.top-=5;elementRegion.left-=5;elementRegion.right+=5;elementRegion.bottom+=5;if(elementRegion.contains(mousePoint)){this.cfg.setProperty("y",(pageY-height-5))}},onRender:function(p_sType,p_aArgs){function sizeShadow(){var oElement=this.element,oShadow=this._shadow;if(oShadow){oShadow.style.width=(oElement.offsetWidth+6)+"px";oShadow.style.height=(oElement.offsetHeight+1)+"px"}}function addShadowVisibleClass(){Dom.addClass(this._shadow,"yui-tt-shadow-visible")}function removeShadowVisibleClass(){Dom.removeClass(this._shadow,"yui-tt-shadow-visible")}function createShadow(){var oShadow=this._shadow,oElement,Module,nIE,me;if(!oShadow){oElement=this.element;Module=YAHOO.widget.Module;nIE=YAHOO.env.ua.ie;me=this;if(!m_oShadowTemplate){m_oShadowTemplate=document.createElement("div");m_oShadowTemplate.className="yui-tt-shadow"}oShadow=m_oShadowTemplate.cloneNode(false);oElement.appendChild(oShadow);this._shadow=oShadow;addShadowVisibleClass.call(this);this.subscribe("beforeShow",addShadowVisibleClass);this.subscribe("beforeHide",removeShadowVisibleClass);if(nIE==6||(nIE==7&&document.compatMode=="BackCompat")){window.setTimeout(function(){sizeShadow.call(me)},0);this.cfg.subscribeToConfigEvent("width",sizeShadow);this.cfg.subscribeToConfigEvent("height",sizeShadow);this.subscribe("changeContent",sizeShadow);Module.textResizeEvent.subscribe(sizeShadow,this,true);this.subscribe("destroy",function(){Module.textResizeEvent.unsubscribe(sizeShadow,this)})}}}function onBeforeShow(){createShadow.call(this);this.unsubscribe("beforeShow",onBeforeShow)}if(this.cfg.getProperty("visible")){createShadow.call(this)}else{this.subscribe("beforeShow",onBeforeShow)}},destroy:function(){this._removeEventListeners();Tooltip.superclass.destroy.call(this)},toString:function(){return"Tooltip "+this.id}})}());(function(){YAHOO.widget.Panel=function(el,userConfig){YAHOO.widget.Panel.superclass.constructor.call(this,el,userConfig)};var Lang=YAHOO.lang,DD=YAHOO.util.DD,Dom=YAHOO.util.Dom,Event=YAHOO.util.Event,Overlay=YAHOO.widget.Overlay,CustomEvent=YAHOO.util.CustomEvent,Config=YAHOO.util.Config,Panel=YAHOO.widget.Panel,m_oMaskTemplate,m_oUnderlayTemplate,m_oCloseIconTemplate,EVENT_TYPES={"SHOW_MASK":"showMask","HIDE_MASK":"hideMask","DRAG":"drag"},DEFAULT_CONFIG={"CLOSE":{key:"close",value:true,validator:Lang.isBoolean,supercedes:["visible"]},"DRAGGABLE":{key:"draggable",value:(DD?true:false),validator:Lang.isBoolean,supercedes:["visible"]},"DRAG_ONLY":{key:"dragonly",value:false,validator:Lang.isBoolean,supercedes:["draggable"]},"UNDERLAY":{key:"underlay",value:"shadow",supercedes:["visible"]},"MODAL":{key:"modal",value:false,validator:Lang.isBoolean,supercedes:["visible","zindex"]},"KEY_LISTENERS":{key:"keylisteners",suppressEvent:true,supercedes:["visible"]}};Panel.CSS_PANEL="yui-panel";Panel.CSS_PANEL_CONTAINER="yui-panel-container";function createHeader(p_sType,p_aArgs){if(!this.header&&this.cfg.getProperty("draggable")){this.setHeader("&#160;")}}function restoreOriginalWidth(p_sType,p_aArgs,p_oObject){var sOriginalWidth=p_oObject[0],sNewWidth=p_oObject[1],oConfig=this.cfg,sCurrentWidth=oConfig.getProperty("width");if(sCurrentWidth==sNewWidth){oConfig.setProperty("width",sOriginalWidth)}this.unsubscribe("hide",restoreOriginalWidth,p_oObject)}function setWidthToOffsetWidth(p_sType,p_aArgs){var nIE=YAHOO.env.ua.ie,oConfig,sOriginalWidth,sNewWidth;if(nIE==6||(nIE==7&&document.compatMode=="BackCompat")){oConfig=this.cfg;sOriginalWidth=oConfig.getProperty("width");if(!sOriginalWidth||sOriginalWidth=="auto"){sNewWidth=(this.element.offsetWidth+"px");oConfig.setProperty("width",sNewWidth);this.subscribe("hide",restoreOriginalWidth,[(sOriginalWidth||""),sNewWidth])}}}function onElementFocus(){this.blur()}function addFocusEventHandlers(p_sType,p_aArgs){var me=this;function isFocusable(el){var sTagName=el.tagName.toUpperCase(),bFocusable=false;switch(sTagName){case"A":case"BUTTON":case"SELECT":case"TEXTAREA":if(!Dom.isAncestor(me.element,el)){Event.on(el,"focus",onElementFocus,el,true);bFocusable=true}break;case"INPUT":if(el.type!="hidden"&&!Dom.isAncestor(me.element,el)){Event.on(el,"focus",onElementFocus,el,true);bFocusable=true}break}return bFocusable}this.focusableElements=Dom.getElementsBy(isFocusable)}function removeFocusEventHandlers(p_sType,p_aArgs){var aElements=this.focusableElements,nElements=aElements.length,el2,i;for(i=0;i<nElements;i++){el2=aElements[i];Event.removeListener(el2,"focus",onElementFocus)}}YAHOO.extend(Panel,Overlay,{init:function(el,userConfig){Panel.superclass.init.call(this,el);this.beforeInitEvent.fire(Panel);Dom.addClass(this.element,Panel.CSS_PANEL);this.buildWrapper();if(userConfig){this.cfg.applyConfig(userConfig,true)}this.subscribe("showMask",addFocusEventHandlers);this.subscribe("hideMask",removeFocusEventHandlers);this.subscribe("beforeRender",createHeader);this.initEvent.fire(Panel)},initEvents:function(){Panel.superclass.initEvents.call(this);var SIGNATURE=CustomEvent.LIST;this.showMaskEvent=this.createEvent(EVENT_TYPES.SHOW_MASK);this.showMaskEvent.signature=SIGNATURE;this.hideMaskEvent=this.createEvent(EVENT_TYPES.HIDE_MASK);this.hideMaskEvent.signature=SIGNATURE;this.dragEvent=this.createEvent(EVENT_TYPES.DRAG);this.dragEvent.signature=SIGNATURE},initDefaultConfig:function(){Panel.superclass.initDefaultConfig.call(this);this.cfg.addProperty(DEFAULT_CONFIG.CLOSE.key,{handler:this.configClose,value:DEFAULT_CONFIG.CLOSE.value,validator:DEFAULT_CONFIG.CLOSE.validator,supercedes:DEFAULT_CONFIG.CLOSE.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.DRAGGABLE.key,{handler:this.configDraggable,value:DEFAULT_CONFIG.DRAGGABLE.value,validator:DEFAULT_CONFIG.DRAGGABLE.validator,supercedes:DEFAULT_CONFIG.DRAGGABLE.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.DRAG_ONLY.key,{value:DEFAULT_CONFIG.DRAG_ONLY.value,validator:DEFAULT_CONFIG.DRAG_ONLY.validator,supercedes:DEFAULT_CONFIG.DRAG_ONLY.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.UNDERLAY.key,{handler:this.configUnderlay,value:DEFAULT_CONFIG.UNDERLAY.value,supercedes:DEFAULT_CONFIG.UNDERLAY.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.MODAL.key,{handler:this.configModal,value:DEFAULT_CONFIG.MODAL.value,validator:DEFAULT_CONFIG.MODAL.validator,supercedes:DEFAULT_CONFIG.MODAL.supercedes});this.cfg.addProperty(DEFAULT_CONFIG.KEY_LISTENERS.key,{handler:this.configKeyListeners,suppressEvent:DEFAULT_CONFIG.KEY_LISTENERS.suppressEvent,supercedes:DEFAULT_CONFIG.KEY_LISTENERS.supercedes})},configClose:function(type,args,obj){var val=args[0],oClose=this.close;function doHide(e,obj){obj.hide()}if(val){if(!oClose){if(!m_oCloseIconTemplate){m_oCloseIconTemplate=document.createElement("span");m_oCloseIconTemplate.innerHTML="&#160;";m_oCloseIconTemplate.className="container-close"}oClose=m_oCloseIconTemplate.cloneNode(true);this.innerElement.appendChild(oClose);Event.on(oClose,"click",doHide,this);this.close=oClose}else{oClose.style.display="block"}}else{if(oClose){oClose.style.display="none"}}},configDraggable:function(type,args,obj){var val=args[0];if(val){if(!DD){this.cfg.setProperty("draggable",false);return }if(this.header){Dom.setStyle(this.header,"cursor","move");this.registerDragDrop()}this.subscribe("beforeShow",setWidthToOffsetWidth)}else{if(this.dd){this.dd.unreg()}if(this.header){Dom.setStyle(this.header,"cursor","auto")}this.unsubscribe("beforeShow",setWidthToOffsetWidth)}},configUnderlay:function(type,args,obj){var UA=YAHOO.env.ua,bMacGecko=(this.platform=="mac"&&UA.gecko),sUnderlay=args[0].toLowerCase(),oUnderlay=this.underlay,oElement=this.element;function fixWebkitUnderlay(){var u=this.underlay;Dom.addClass(u,"yui-force-redraw");window.setTimeout(function(){Dom.removeClass(u,"yui-force-redraw")},0)}function createUnderlay(){var nIE;if(!oUnderlay){if(!m_oUnderlayTemplate){m_oUnderlayTemplate=document.createElement("div");m_oUnderlayTemplate.className="underlay"}oUnderlay=m_oUnderlayTemplate.cloneNode(false);this.element.appendChild(oUnderlay);this.underlay=oUnderlay;nIE=UA.ie;if(nIE==6||(nIE==7&&document.compatMode=="BackCompat")){this.sizeUnderlay();this.cfg.subscribeToConfigEvent("width",this.sizeUnderlay);this.cfg.subscribeToConfigEvent("height",this.sizeUnderlay);this.changeContentEvent.subscribe(this.sizeUnderlay);YAHOO.widget.Module.textResizeEvent.subscribe(this.sizeUnderlay,this,true)}if(UA.webkit&&UA.webkit<420){this.changeContentEvent.subscribe(fixWebkitUnderlay)}}}function onBeforeShow(){createUnderlay.call(this);this._underlayDeferred=false;this.beforeShowEvent.unsubscribe(onBeforeShow)}function destroyUnderlay(){if(this._underlayDeferred){this.beforeShowEvent.unsubscribe(onBeforeShow);this._underlayDeferred=false}if(oUnderlay){this.cfg.unsubscribeFromConfigEvent("width",this.sizeUnderlay);this.cfg.unsubscribeFromConfigEvent("height",this.sizeUnderlay);this.changeContentEvent.unsubscribe(this.sizeUnderlay);this.changeContentEvent.unsubscribe(fixWebkitUnderlay);YAHOO.widget.Module.textResizeEvent.unsubscribe(this.sizeUnderlay,this,true);this.element.removeChild(oUnderlay);this.underlay=null}}switch(sUnderlay){case"shadow":Dom.removeClass(oElement,"matte");Dom.addClass(oElement,"shadow");break;case"matte":if(!bMacGecko){destroyUnderlay.call(this)}Dom.removeClass(oElement,"shadow");Dom.addClass(oElement,"matte");break;default:if(!bMacGecko){destroyUnderlay.call(this)}Dom.removeClass(oElement,"shadow");Dom.removeClass(oElement,"matte");break}if((sUnderlay=="shadow")||(bMacGecko&&!oUnderlay)){if(this.cfg.getProperty("visible")){createUnderlay.call(this)}else{if(!this._underlayDeferred){this.beforeShowEvent.subscribe(onBeforeShow);this._underlayDeferred=true}}}},configModal:function(type,args,obj){var modal=args[0];if(modal){if(!this._hasModalityEventListeners){this.subscribe("beforeShow",this.buildMask);this.subscribe("beforeShow",this.bringToTop);this.subscribe("beforeShow",this.showMask);this.subscribe("hide",this.hideMask);Overlay.windowResizeEvent.subscribe(this.sizeMask,this,true);this._hasModalityEventListeners=true}}else{if(this._hasModalityEventListeners){if(this.cfg.getProperty("visible")){this.hideMask();this.removeMask()}this.unsubscribe("beforeShow",this.buildMask);this.unsubscribe("beforeShow",this.bringToTop);this.unsubscribe("beforeShow",this.showMask);this.unsubscribe("hide",this.hideMask);Overlay.windowResizeEvent.unsubscribe(this.sizeMask,this);this._hasModalityEventListeners=false}}},removeMask:function(){var oMask=this.mask,oParentNode;if(oMask){this.hideMask();oParentNode=oMask.parentNode;if(oParentNode){oParentNode.removeChild(oMask)}this.mask=null}},configKeyListeners:function(type,args,obj){var listeners=args[0],listener,nListeners,i;if(listeners){if(listeners instanceof Array){nListeners=listeners.length;for(i=0;i<nListeners;i++){listener=listeners[i];if(!Config.alreadySubscribed(this.showEvent,listener.enable,listener)){this.showEvent.subscribe(listener.enable,listener,true)}if(!Config.alreadySubscribed(this.hideEvent,listener.disable,listener)){this.hideEvent.subscribe(listener.disable,listener,true);this.destroyEvent.subscribe(listener.disable,listener,true)}}}else{if(!Config.alreadySubscribed(this.showEvent,listeners.enable,listeners)){this.showEvent.subscribe(listeners.enable,listeners,true)}if(!Config.alreadySubscribed(this.hideEvent,listeners.disable,listeners)){this.hideEvent.subscribe(listeners.disable,listeners,true);this.destroyEvent.subscribe(listeners.disable,listeners,true)}}}},configHeight:function(type,args,obj){var height=args[0],el=this.innerElement;Dom.setStyle(el,"height",height);this.cfg.refireEvent("iframe")},configWidth:function(type,args,obj){var width=args[0],el=this.innerElement;Dom.setStyle(el,"width",width);this.cfg.refireEvent("iframe")},configzIndex:function(type,args,obj){Panel.superclass.configzIndex.call(this,type,args,obj);if(this.mask||this.cfg.getProperty("modal")===true){var panelZ=Dom.getStyle(this.element,"zIndex");if(!panelZ||isNaN(panelZ)){panelZ=0}if(panelZ===0){this.cfg.setProperty("zIndex",1)}else{this.stackMask()}}},buildWrapper:function(){var elementParent=this.element.parentNode,originalElement=this.element,wrapper=document.createElement("div");wrapper.className=Panel.CSS_PANEL_CONTAINER;wrapper.id=originalElement.id+"_c";if(elementParent){elementParent.insertBefore(wrapper,originalElement)}wrapper.appendChild(originalElement);this.element=wrapper;this.innerElement=originalElement;Dom.setStyle(this.innerElement,"visibility","inherit")},sizeUnderlay:function(){var oUnderlay=this.underlay,oElement;if(oUnderlay){oElement=this.element;oUnderlay.style.width=oElement.offsetWidth+"px";oUnderlay.style.height=oElement.offsetHeight+"px"}},registerDragDrop:function(){var me=this;if(this.header){if(!DD){return }var bDragOnly=(this.cfg.getProperty("dragonly")===true);this.dd=new DD(this.element.id,this.id,{dragOnly:bDragOnly});if(!this.header.id){this.header.id=this.id+"_h"}this.dd.startDrag=function(){var offsetHeight,offsetWidth,viewPortWidth,viewPortHeight,scrollX,scrollY;if(YAHOO.env.ua.ie==6){Dom.addClass(me.element,"drag")}if(me.cfg.getProperty("constraintoviewport")){var nViewportOffset=Overlay.VIEWPORT_OFFSET;offsetHeight=me.element.offsetHeight;offsetWidth=me.element.offsetWidth;viewPortWidth=Dom.getViewportWidth();viewPortHeight=Dom.getViewportHeight();scrollX=Dom.getDocumentScrollLeft();scrollY=Dom.getDocumentScrollTop();if(offsetHeight+nViewportOffset<viewPortHeight){this.minY=scrollY+nViewportOffset;this.maxY=scrollY+viewPortHeight-offsetHeight-nViewportOffset}else{this.minY=scrollY+nViewportOffset;this.maxY=scrollY+nViewportOffset}if(offsetWidth+nViewportOffset<viewPortWidth){this.minX=scrollX+nViewportOffset;this.maxX=scrollX+viewPortWidth-offsetWidth-nViewportOffset}else{this.minX=scrollX+nViewportOffset;this.maxX=scrollX+nViewportOffset}this.constrainX=true;this.constrainY=true}else{this.constrainX=false;this.constrainY=false}me.dragEvent.fire("startDrag",arguments)};this.dd.onDrag=function(){me.syncPosition();me.cfg.refireEvent("iframe");if(this.platform=="mac"&&YAHOO.env.ua.gecko){this.showMacGeckoScrollbars()}me.dragEvent.fire("onDrag",arguments)};this.dd.endDrag=function(){if(YAHOO.env.ua.ie==6){Dom.removeClass(me.element,"drag")}me.dragEvent.fire("endDrag",arguments);me.moveEvent.fire(me.cfg.getProperty("xy"))};this.dd.setHandleElId(this.header.id);this.dd.addInvalidHandleType("INPUT");this.dd.addInvalidHandleType("SELECT");this.dd.addInvalidHandleType("TEXTAREA")}},buildMask:function(){var oMask=this.mask;if(!oMask){if(!m_oMaskTemplate){m_oMaskTemplate=document.createElement("div");m_oMaskTemplate.className="mask";m_oMaskTemplate.innerHTML="&#160;"}oMask=m_oMaskTemplate.cloneNode(true);oMask.id=this.id+"_mask";document.body.insertBefore(oMask,document.body.firstChild);this.mask=oMask;this.stackMask()}},hideMask:function(){if(this.cfg.getProperty("modal")&&this.mask){this.mask.style.display="none";this.hideMaskEvent.fire();Dom.removeClass(document.body,"masked")}},showMask:function(){if(this.cfg.getProperty("modal")&&this.mask){Dom.addClass(document.body,"masked");this.sizeMask();this.mask.style.display="block";this.showMaskEvent.fire()}},sizeMask:function(){if(this.mask){this.mask.style.height=Dom.getDocumentHeight()+"px";this.mask.style.width=Dom.getDocumentWidth()+"px"}},stackMask:function(){if(this.mask){var panelZ=Dom.getStyle(this.element,"zIndex");if(!YAHOO.lang.isUndefined(panelZ)&&!isNaN(panelZ)){Dom.setStyle(this.mask,"zIndex",panelZ-1)}}},render:function(appendToNode){return Panel.superclass.render.call(this,appendToNode,this.innerElement)},destroy:function(){Overlay.windowResizeEvent.unsubscribe(this.sizeMask,this);this.removeMask();if(this.close){Event.purgeElement(this.close)}Panel.superclass.destroy.call(this)},toString:function(){return"Panel "+this.id}})}());(function(){YAHOO.widget.Dialog=function(el,userConfig){YAHOO.widget.Dialog.superclass.constructor.call(this,el,userConfig)};var Event=YAHOO.util.Event,CustomEvent=YAHOO.util.CustomEvent,Dom=YAHOO.util.Dom,KeyListener=YAHOO.util.KeyListener,Connect=YAHOO.util.Connect,Dialog=YAHOO.widget.Dialog,Lang=YAHOO.lang,EVENT_TYPES={"BEFORE_SUBMIT":"beforeSubmit","SUBMIT":"submit","MANUAL_SUBMIT":"manualSubmit","ASYNC_SUBMIT":"asyncSubmit","FORM_SUBMIT":"formSubmit","CANCEL":"cancel"},DEFAULT_CONFIG={"POST_METHOD":{key:"postmethod",value:"async"},"BUTTONS":{key:"buttons",value:"none"}};Dialog.CSS_DIALOG="yui-dialog";function removeButtonEventHandlers(){var aButtons=this._aButtons,nButtons,oButton,i;if(Lang.isArray(aButtons)){nButtons=aButtons.length;if(nButtons>0){i=nButtons-1;do{oButton=aButtons[i];if(YAHOO.widget.Button&&oButton instanceof YAHOO.widget.Button){oButton.destroy()}else{if(oButton.tagName.toUpperCase()=="BUTTON"){Event.purgeElement(oButton);Event.purgeElement(oButton,false)}}}while(i--)}}}YAHOO.extend(Dialog,YAHOO.widget.Panel,{form:null,initDefaultConfig:function(){Dialog.superclass.initDefaultConfig.call(this);this.callback={success:null,failure:null,argument:null};this.cfg.addProperty(DEFAULT_CONFIG.POST_METHOD.key,{handler:this.configPostMethod,value:DEFAULT_CONFIG.POST_METHOD.value,validator:function(val){if(val!="form"&&val!="async"&&val!="none"&&val!="manual"){return false}else{return true}}});this.cfg.addProperty(DEFAULT_CONFIG.BUTTONS.key,{handler:this.configButtons,value:DEFAULT_CONFIG.BUTTONS.value})},initEvents:function(){Dialog.superclass.initEvents.call(this);var SIGNATURE=CustomEvent.LIST;this.beforeSubmitEvent=this.createEvent(EVENT_TYPES.BEFORE_SUBMIT);this.beforeSubmitEvent.signature=SIGNATURE;this.submitEvent=this.createEvent(EVENT_TYPES.SUBMIT);this.submitEvent.signature=SIGNATURE;this.manualSubmitEvent=this.createEvent(EVENT_TYPES.MANUAL_SUBMIT);this.manualSubmitEvent.signature=SIGNATURE;this.asyncSubmitEvent=this.createEvent(EVENT_TYPES.ASYNC_SUBMIT);this.asyncSubmitEvent.signature=SIGNATURE;this.formSubmitEvent=this.createEvent(EVENT_TYPES.FORM_SUBMIT);this.formSubmitEvent.signature=SIGNATURE;this.cancelEvent=this.createEvent(EVENT_TYPES.CANCEL);this.cancelEvent.signature=SIGNATURE},init:function(el,userConfig){Dialog.superclass.init.call(this,el);this.beforeInitEvent.fire(Dialog);Dom.addClass(this.element,Dialog.CSS_DIALOG);this.cfg.setProperty("visible",false);if(userConfig){this.cfg.applyConfig(userConfig,true)}this.showEvent.subscribe(this.focusFirst,this,true);this.beforeHideEvent.subscribe(this.blurButtons,this,true);this.subscribe("changeBody",this.registerForm);this.initEvent.fire(Dialog)},doSubmit:function(){var oForm=this.form,bUseFileUpload=false,bUseSecureFileUpload=false,aElements,nElements,i,sMethod;switch(this.cfg.getProperty("postmethod")){case"async":aElements=oForm.elements;nElements=aElements.length;if(nElements>0){i=nElements-1;do{if(aElements[i].type=="file"){bUseFileUpload=true;break}}while(i--)}if(bUseFileUpload&&YAHOO.env.ua.ie&&this.isSecure){bUseSecureFileUpload=true}sMethod=(oForm.getAttribute("method")||"POST").toUpperCase();Connect.setForm(oForm,bUseFileUpload,bUseSecureFileUpload);Connect.asyncRequest(sMethod,oForm.getAttribute("action"),this.callback);this.asyncSubmitEvent.fire();break;case"form":oForm.submit();this.formSubmitEvent.fire();break;case"none":case"manual":this.manualSubmitEvent.fire();break}},registerForm:function(){var form=this.element.getElementsByTagName("form")[0],me=this,firstElement,lastElement;if(this.form){if(this.form==form&&Dom.isAncestor(this.element,this.form)){return }else{Event.purgeElement(this.form);this.form=null}}if(!form){form=document.createElement("form");form.name="frm_"+this.id;this.body.appendChild(form)}if(form){this.form=form;Event.on(form,"submit",function(e){Event.stopEvent(e);this.submit();this.form.blur()},this,true);this.firstFormElement=function(){var f,el,nElements=form.elements.length;for(f=0;f<nElements;f++){el=form.elements[f];if(el.focus&&!el.disabled&&el.type!="hidden"){return el}}return null}();this.lastFormElement=function(){var f,el,nElements=form.elements.length;for(f=nElements-1;f>=0;f--){el=form.elements[f];if(el.focus&&!el.disabled&&el.type!="hidden"){return el}}return null}();if(this.cfg.getProperty("modal")){firstElement=this.firstFormElement||this.firstButton;if(firstElement){this.preventBackTab=new KeyListener(firstElement,{shift:true,keys:9},{fn:me.focusLast,scope:me,correctScope:true});this.showEvent.subscribe(this.preventBackTab.enable,this.preventBackTab,true);this.hideEvent.subscribe(this.preventBackTab.disable,this.preventBackTab,true)}lastElement=this.lastButton||this.lastFormElement;if(lastElement){this.preventTabOut=new KeyListener(lastElement,{shift:false,keys:9},{fn:me.focusFirst,scope:me,correctScope:true});this.showEvent.subscribe(this.preventTabOut.enable,this.preventTabOut,true);this.hideEvent.subscribe(this.preventTabOut.disable,this.preventTabOut,true)}}}},configClose:function(type,args,obj){var val=args[0];function doCancel(e,obj){obj.cancel()}if(val){if(!this.close){this.close=document.createElement("div");Dom.addClass(this.close,"container-close");this.close.innerHTML="&#160;";this.innerElement.appendChild(this.close);Event.on(this.close,"click",doCancel,this)}else{this.close.style.display="block"}}else{if(this.close){this.close.style.display="none"}}},configButtons:function(type,args,obj){var Button=YAHOO.widget.Button,aButtons=args[0],oInnerElement=this.innerElement,oButton,oButtonEl,oYUIButton,nButtons,oSpan,oFooter,i;removeButtonEventHandlers.call(this);this._aButtons=null;if(Lang.isArray(aButtons)){oSpan=document.createElement("span");oSpan.className="button-group";nButtons=aButtons.length;this._aButtons=[];for(i=0;i<nButtons;i++){oButton=aButtons[i];if(Button){oYUIButton=new Button({label:oButton.text,container:oSpan});oButtonEl=oYUIButton.get("element");if(oButton.isDefault){oYUIButton.addClass("default");this.defaultHtmlButton=oButtonEl}if(Lang.isFunction(oButton.handler)){oYUIButton.set("onclick",{fn:oButton.handler,obj:this,scope:this})}else{if(Lang.isObject(oButton.handler)&&Lang.isFunction(oButton.handler.fn)){oYUIButton.set("onclick",{fn:oButton.handler.fn,obj:((!Lang.isUndefined(oButton.handler.obj))?oButton.handler.obj:this),scope:(oButton.handler.scope||this)})}}this._aButtons[this._aButtons.length]=oYUIButton}else{oButtonEl=document.createElement("button");oButtonEl.setAttribute("type","button");if(oButton.isDefault){oButtonEl.className="default";this.defaultHtmlButton=oButtonEl}oButtonEl.innerHTML=oButton.text;if(Lang.isFunction(oButton.handler)){Event.on(oButtonEl,"click",oButton.handler,this,true)}else{if(Lang.isObject(oButton.handler)&&Lang.isFunction(oButton.handler.fn)){Event.on(oButtonEl,"click",oButton.handler.fn,((!Lang.isUndefined(oButton.handler.obj))?oButton.handler.obj:this),(oButton.handler.scope||this))}}oSpan.appendChild(oButtonEl);this._aButtons[this._aButtons.length]=oButtonEl}oButton.htmlButton=oButtonEl;if(i===0){this.firstButton=oButtonEl}if(i==(nButtons-1)){this.lastButton=oButtonEl}}this.setFooter(oSpan);oFooter=this.footer;if(Dom.inDocument(this.element)&&!Dom.isAncestor(oInnerElement,oFooter)){oInnerElement.appendChild(oFooter)}this.buttonSpan=oSpan}else{oSpan=this.buttonSpan;oFooter=this.footer;if(oSpan&&oFooter){oFooter.removeChild(oSpan);this.buttonSpan=null;this.firstButton=null;this.lastButton=null;this.defaultHtmlButton=null}}this.cfg.refireEvent("iframe");this.cfg.refireEvent("underlay")},getButtons:function(){var aButtons=this._aButtons;if(aButtons){return aButtons}},focusFirst:function(type,args,obj){var oElement=this.firstFormElement,oEvent;if(args){oEvent=args[1];if(oEvent){Event.stopEvent(oEvent)}}if(oElement){try{oElement.focus()}catch(oException){}}else{this.focusDefaultButton()}},focusLast:function(type,args,obj){var aButtons=this.cfg.getProperty("buttons"),oElement=this.lastFormElement,oEvent;if(args){oEvent=args[1];if(oEvent){Event.stopEvent(oEvent)}}if(aButtons&&Lang.isArray(aButtons)){this.focusLastButton()}else{if(oElement){try{oElement.focus()}catch(oException){}}}},focusDefaultButton:function(){var oElement=this.defaultHtmlButton;if(oElement){try{oElement.focus()}catch(oException){}}},blurButtons:function(){var aButtons=this.cfg.getProperty("buttons"),nButtons,oButton,oElement,i;if(aButtons&&Lang.isArray(aButtons)){nButtons=aButtons.length;if(nButtons>0){i=(nButtons-1);do{oButton=aButtons[i];if(oButton){oElement=oButton.htmlButton;if(oElement){try{oElement.blur()}catch(oException){}}}}while(i--)}}},focusFirstButton:function(){var aButtons=this.cfg.getProperty("buttons"),oButton,oElement;if(aButtons&&Lang.isArray(aButtons)){oButton=aButtons[0];if(oButton){oElement=oButton.htmlButton;if(oElement){try{oElement.focus()}catch(oException){}}}}},focusLastButton:function(){var aButtons=this.cfg.getProperty("buttons"),nButtons,oButton,oElement;if(aButtons&&Lang.isArray(aButtons)){nButtons=aButtons.length;if(nButtons>0){oButton=aButtons[(nButtons-1)];if(oButton){oElement=oButton.htmlButton;if(oElement){try{oElement.focus()}catch(oException){}}}}}},configPostMethod:function(type,args,obj){this.registerForm()},validate:function(){return true},submit:function(){if(this.validate()){this.beforeSubmitEvent.fire();this.doSubmit();this.submitEvent.fire();this.hide();return true}else{return false}},cancel:function(){this.cancelEvent.fire();this.hide()},getData:function(){var oForm=this.form,aElements,nTotalElements,oData,sName,oElement,nElements,sType,sTagName,aOptions,nOptions,aValues,oOption,sValue,oRadio,oCheckbox,i,n;function isFormElement(p_oElement){var sTag=p_oElement.tagName.toUpperCase();return((sTag=="INPUT"||sTag=="TEXTAREA"||sTag=="SELECT")&&p_oElement.name==sName)}if(oForm){aElements=oForm.elements;nTotalElements=aElements.length;oData={};for(i=0;i<nTotalElements;i++){sName=aElements[i].name;oElement=Dom.getElementsBy(isFormElement,"*",oForm);nElements=oElement.length;if(nElements>0){if(nElements==1){oElement=oElement[0];sType=oElement.type;sTagName=oElement.tagName.toUpperCase();switch(sTagName){case"INPUT":if(sType=="checkbox"){oData[sName]=oElement.checked}else{if(sType!="radio"){oData[sName]=oElement.value}}break;case"TEXTAREA":oData[sName]=oElement.value;break;case"SELECT":aOptions=oElement.options;nOptions=aOptions.length;aValues=[];for(n=0;n<nOptions;n++){oOption=aOptions[n];if(oOption.selected){sValue=oOption.value;if(!sValue||sValue===""){sValue=oOption.text}aValues[aValues.length]=sValue}}oData[sName]=aValues;break}}else{sType=oElement[0].type;switch(sType){case"radio":for(n=0;n<nElements;n++){oRadio=oElement[n];if(oRadio.checked){oData[sName]=oRadio.value;break}}break;case"checkbox":aValues=[];for(n=0;n<nElements;n++){oCheckbox=oElement[n];if(oCheckbox.checked){aValues[aValues.length]=oCheckbox.value}}oData[sName]=aValues;break}}}}}return oData},destroy:function(){removeButtonEventHandlers.call(this);this._aButtons=null;var aForms=this.element.getElementsByTagName("form"),oForm;if(aForms.length>0){oForm=aForms[0];if(oForm){Event.purgeElement(oForm);if(oForm.parentNode){oForm.parentNode.removeChild(oForm)}this.form=null}}Dialog.superclass.destroy.call(this)},toString:function(){return"Dialog "+this.id}})}());(function(){YAHOO.widget.SimpleDialog=function(el,userConfig){YAHOO.widget.SimpleDialog.superclass.constructor.call(this,el,userConfig)};var Dom=YAHOO.util.Dom,SimpleDialog=YAHOO.widget.SimpleDialog,DEFAULT_CONFIG={"ICON":{key:"icon",value:"none",suppressEvent:true},"TEXT":{key:"text",value:"",suppressEvent:true,supercedes:["icon"]}};SimpleDialog.ICON_BLOCK="blckicon";SimpleDialog.ICON_ALARM="alrticon";SimpleDialog.ICON_HELP="hlpicon";SimpleDialog.ICON_INFO="infoicon";SimpleDialog.ICON_WARN="warnicon";SimpleDialog.ICON_TIP="tipicon";SimpleDialog.ICON_CSS_CLASSNAME="yui-icon";SimpleDialog.CSS_SIMPLEDIALOG="yui-simple-dialog";YAHOO.extend(SimpleDialog,YAHOO.widget.Dialog,{initDefaultConfig:function(){SimpleDialog.superclass.initDefaultConfig.call(this);this.cfg.addProperty(DEFAULT_CONFIG.ICON.key,{handler:this.configIcon,value:DEFAULT_CONFIG.ICON.value,suppressEvent:DEFAULT_CONFIG.ICON.suppressEvent});this.cfg.addProperty(DEFAULT_CONFIG.TEXT.key,{handler:this.configText,value:DEFAULT_CONFIG.TEXT.value,suppressEvent:DEFAULT_CONFIG.TEXT.suppressEvent,supercedes:DEFAULT_CONFIG.TEXT.supercedes})},init:function(el,userConfig){SimpleDialog.superclass.init.call(this,el);this.beforeInitEvent.fire(SimpleDialog);Dom.addClass(this.element,SimpleDialog.CSS_SIMPLEDIALOG);this.cfg.queueProperty("postmethod","manual");if(userConfig){this.cfg.applyConfig(userConfig,true)}this.beforeRenderEvent.subscribe(function(){if(!this.body){this.setBody("")}},this,true);this.initEvent.fire(SimpleDialog)},registerForm:function(){SimpleDialog.superclass.registerForm.call(this);this.form.innerHTML+='<input type="hidden" name="'+this.id+'" value=""/>'},configIcon:function(type,args,obj){var sIcon=args[0],oBody=this.body,sCSSClass=SimpleDialog.ICON_CSS_CLASSNAME,oIcon,oIconParent;if(sIcon&&sIcon!="none"){oIcon=Dom.getElementsByClassName(sCSSClass,"*",oBody);if(oIcon){oIconParent=oIcon.parentNode;if(oIconParent){oIconParent.removeChild(oIcon);oIcon=null}}if(sIcon.indexOf(".")==-1){oIcon=document.createElement("span");oIcon.className=(sCSSClass+" "+sIcon);oIcon.innerHTML="&#160;"}else{oIcon=document.createElement("img");oIcon.src=(this.imageRoot+sIcon);oIcon.className=sCSSClass}if(oIcon){oBody.insertBefore(oIcon,oBody.firstChild)}}},configText:function(type,args,obj){var text=args[0];if(text){this.setBody(text);this.cfg.refireEvent("icon")}},toString:function(){return"SimpleDialog "+this.id}})}());(function(){YAHOO.widget.ContainerEffect=function(overlay,attrIn,attrOut,targetElement,animClass){if(!animClass){animClass=YAHOO.util.Anim}this.overlay=overlay;this.attrIn=attrIn;this.attrOut=attrOut;this.targetElement=targetElement||overlay.element;this.animClass=animClass};var Dom=YAHOO.util.Dom,CustomEvent=YAHOO.util.CustomEvent,Easing=YAHOO.util.Easing,ContainerEffect=YAHOO.widget.ContainerEffect;ContainerEffect.FADE=function(overlay,dur){var fin={attributes:{opacity:{from:0,to:1}},duration:dur,method:Easing.easeIn};var fout={attributes:{opacity:{to:0}},duration:dur,method:Easing.easeOut};var fade=new ContainerEffect(overlay,fin,fout,overlay.element);fade.handleUnderlayStart=function(){var underlay=this.overlay.underlay;if(underlay&&YAHOO.env.ua.ie){var hasFilters=(underlay.filters&&underlay.filters.length>0);if(hasFilters){Dom.addClass(overlay.element,"yui-effect-fade")}}};fade.handleUnderlayComplete=function(){var underlay=this.overlay.underlay;if(underlay&&YAHOO.env.ua.ie){Dom.removeClass(overlay.element,"yui-effect-fade")}};fade.handleStartAnimateIn=function(type,args,obj){Dom.addClass(obj.overlay.element,"hide-select");if(!obj.overlay.underlay){obj.overlay.cfg.refireEvent("underlay")}obj.handleUnderlayStart();Dom.setStyle(obj.overlay.element,"visibility","visible");Dom.setStyle(obj.overlay.element,"opacity",0)};fade.handleCompleteAnimateIn=function(type,args,obj){Dom.removeClass(obj.overlay.element,"hide-select");if(obj.overlay.element.style.filter){obj.overlay.element.style.filter=null}obj.handleUnderlayComplete();obj.overlay.cfg.refireEvent("iframe");obj.animateInCompleteEvent.fire()};fade.handleStartAnimateOut=function(type,args,obj){Dom.addClass(obj.overlay.element,"hide-select");obj.handleUnderlayStart()};fade.handleCompleteAnimateOut=function(type,args,obj){Dom.removeClass(obj.overlay.element,"hide-select");if(obj.overlay.element.style.filter){obj.overlay.element.style.filter=null}Dom.setStyle(obj.overlay.element,"visibility","hidden");Dom.setStyle(obj.overlay.element,"opacity",1);obj.handleUnderlayComplete();obj.overlay.cfg.refireEvent("iframe");obj.animateOutCompleteEvent.fire()};fade.init();return fade};ContainerEffect.SLIDE=function(overlay,dur){var x=overlay.cfg.getProperty("x")||Dom.getX(overlay.element),y=overlay.cfg.getProperty("y")||Dom.getY(overlay.element),clientWidth=Dom.getClientWidth(),offsetWidth=overlay.element.offsetWidth,slide=new ContainerEffect(overlay,{attributes:{points:{to:[x,y]}},duration:dur,method:Easing.easeIn},{attributes:{points:{to:[(clientWidth+25),y]}},duration:dur,method:Easing.easeOut},overlay.element,YAHOO.util.Motion);slide.handleStartAnimateIn=function(type,args,obj){obj.overlay.element.style.left=((-25)-offsetWidth)+"px";obj.overlay.element.style.top=y+"px"};slide.handleTweenAnimateIn=function(type,args,obj){var pos=Dom.getXY(obj.overlay.element),currentX=pos[0],currentY=pos[1];if(Dom.getStyle(obj.overlay.element,"visibility")=="hidden"&&currentX<x){Dom.setStyle(obj.overlay.element,"visibility","visible")}obj.overlay.cfg.setProperty("xy",[currentX,currentY],true);obj.overlay.cfg.refireEvent("iframe")};slide.handleCompleteAnimateIn=function(type,args,obj){obj.overlay.cfg.setProperty("xy",[x,y],true);obj.startX=x;obj.startY=y;obj.overlay.cfg.refireEvent("iframe");obj.animateInCompleteEvent.fire()};slide.handleStartAnimateOut=function(type,args,obj){var vw=Dom.getViewportWidth(),pos=Dom.getXY(obj.overlay.element),yso=pos[1];obj.animOut.attributes.points.to=[(vw+25),yso]};slide.handleTweenAnimateOut=function(type,args,obj){var pos=Dom.getXY(obj.overlay.element),xto=pos[0],yto=pos[1];obj.overlay.cfg.setProperty("xy",[xto,yto],true);obj.overlay.cfg.refireEvent("iframe")};slide.handleCompleteAnimateOut=function(type,args,obj){Dom.setStyle(obj.overlay.element,"visibility","hidden");obj.overlay.cfg.setProperty("xy",[x,y]);obj.animateOutCompleteEvent.fire()};slide.init();return slide};ContainerEffect.prototype={init:function(){this.beforeAnimateInEvent=this.createEvent("beforeAnimateIn");this.beforeAnimateInEvent.signature=CustomEvent.LIST;this.beforeAnimateOutEvent=this.createEvent("beforeAnimateOut");this.beforeAnimateOutEvent.signature=CustomEvent.LIST;this.animateInCompleteEvent=this.createEvent("animateInComplete");this.animateInCompleteEvent.signature=CustomEvent.LIST;this.animateOutCompleteEvent=this.createEvent("animateOutComplete");this.animateOutCompleteEvent.signature=CustomEvent.LIST;this.animIn=new this.animClass(this.targetElement,this.attrIn.attributes,this.attrIn.duration,this.attrIn.method);this.animIn.onStart.subscribe(this.handleStartAnimateIn,this);this.animIn.onTween.subscribe(this.handleTweenAnimateIn,this);this.animIn.onComplete.subscribe(this.handleCompleteAnimateIn,this);this.animOut=new this.animClass(this.targetElement,this.attrOut.attributes,this.attrOut.duration,this.attrOut.method);this.animOut.onStart.subscribe(this.handleStartAnimateOut,this);this.animOut.onTween.subscribe(this.handleTweenAnimateOut,this);this.animOut.onComplete.subscribe(this.handleCompleteAnimateOut,this)},animateIn:function(){this.beforeAnimateInEvent.fire();this.animIn.animate()},animateOut:function(){this.beforeAnimateOutEvent.fire();this.animOut.animate()},handleStartAnimateIn:function(type,args,obj){},handleTweenAnimateIn:function(type,args,obj){},handleCompleteAnimateIn:function(type,args,obj){},handleStartAnimateOut:function(type,args,obj){},handleTweenAnimateOut:function(type,args,obj){},handleCompleteAnimateOut:function(type,args,obj){},toString:function(){var output="ContainerEffect";if(this.overlay){output+=" ["+this.overlay.toString()+"]"}return output}};YAHOO.lang.augmentProto(ContainerEffect,YAHOO.util.EventProvider)})();YAHOO.register("container",YAHOO.widget.Module,{version:"2.4.0",build:"733"});YAHOO.widget.AutoComplete=function(elInput,elContainer,oDataSource,oConfigs){if(elInput&&elContainer&&oDataSource){if(oDataSource instanceof YAHOO.widget.DataSource){this.dataSource=oDataSource}else{return }if(YAHOO.util.Dom.inDocument(elInput)){if(YAHOO.lang.isString(elInput)){this._sName="instance"+YAHOO.widget.AutoComplete._nIndex+" "+elInput;this._oTextbox=document.getElementById(elInput)}else{this._sName=(elInput.id)?"instance"+YAHOO.widget.AutoComplete._nIndex+" "+elInput.id:"instance"+YAHOO.widget.AutoComplete._nIndex;this._oTextbox=elInput}YAHOO.util.Dom.addClass(this._oTextbox,"yui-ac-input")}else{return }if(YAHOO.util.Dom.inDocument(elContainer)){if(YAHOO.lang.isString(elContainer)){this._oContainer=document.getElementById(elContainer)}else{this._oContainer=elContainer}if(this._oContainer.style.display=="none"){}var elParent=this._oContainer.parentNode;var elTag=elParent.tagName.toLowerCase();if(elTag=="div"){YAHOO.util.Dom.addClass(elParent,"yui-ac")}else{}}else{return }if(oConfigs&&(oConfigs.constructor==Object)){for(var sConfig in oConfigs){if(sConfig){this[sConfig]=oConfigs[sConfig]}}}this._initContainer();this._initProps();this._initList();this._initContainerHelpers();var oSelf=this;var oTextbox=this._oTextbox;var oContent=this._oContainer._oContent;YAHOO.util.Event.addListener(oTextbox,"keyup",oSelf._onTextboxKeyUp,oSelf);YAHOO.util.Event.addListener(oTextbox,"keydown",oSelf._onTextboxKeyDown,oSelf);YAHOO.util.Event.addListener(oTextbox,"focus",oSelf._onTextboxFocus,oSelf);YAHOO.util.Event.addListener(oTextbox,"blur",oSelf._onTextboxBlur,oSelf);YAHOO.util.Event.addListener(oContent,"mouseover",oSelf._onContainerMouseover,oSelf);YAHOO.util.Event.addListener(oContent,"mouseout",oSelf._onContainerMouseout,oSelf);YAHOO.util.Event.addListener(oContent,"scroll",oSelf._onContainerScroll,oSelf);YAHOO.util.Event.addListener(oContent,"resize",oSelf._onContainerResize,oSelf);YAHOO.util.Event.addListener(oTextbox,"keypress",oSelf._onTextboxKeyPress,oSelf);YAHOO.util.Event.addListener(window,"unload",oSelf._onWindowUnload,oSelf);this.textboxFocusEvent=new YAHOO.util.CustomEvent("textboxFocus",this);this.textboxKeyEvent=new YAHOO.util.CustomEvent("textboxKey",this);this.dataRequestEvent=new YAHOO.util.CustomEvent("dataRequest",this);this.dataReturnEvent=new YAHOO.util.CustomEvent("dataReturn",this);this.dataErrorEvent=new YAHOO.util.CustomEvent("dataError",this);this.containerExpandEvent=new YAHOO.util.CustomEvent("containerExpand",this);this.typeAheadEvent=new YAHOO.util.CustomEvent("typeAhead",this);this.itemMouseOverEvent=new YAHOO.util.CustomEvent("itemMouseOver",this);this.itemMouseOutEvent=new YAHOO.util.CustomEvent("itemMouseOut",this);this.itemArrowToEvent=new YAHOO.util.CustomEvent("itemArrowTo",this);this.itemArrowFromEvent=new YAHOO.util.CustomEvent("itemArrowFrom",this);this.itemSelectEvent=new YAHOO.util.CustomEvent("itemSelect",this);this.unmatchedItemSelectEvent=new YAHOO.util.CustomEvent("unmatchedItemSelect",this);this.selectionEnforceEvent=new YAHOO.util.CustomEvent("selectionEnforce",this);this.containerCollapseEvent=new YAHOO.util.CustomEvent("containerCollapse",this);this.textboxBlurEvent=new YAHOO.util.CustomEvent("textboxBlur",this);oTextbox.setAttribute("autocomplete","off");YAHOO.widget.AutoComplete._nIndex++}else{}};YAHOO.widget.AutoComplete.prototype.dataSource=null;YAHOO.widget.AutoComplete.prototype.minQueryLength=1;YAHOO.widget.AutoComplete.prototype.maxResultsDisplayed=10;YAHOO.widget.AutoComplete.prototype.queryDelay=0.2;YAHOO.widget.AutoComplete.prototype.highlightClassName="yui-ac-highlight";YAHOO.widget.AutoComplete.prototype.prehighlightClassName=null;YAHOO.widget.AutoComplete.prototype.delimChar=null;YAHOO.widget.AutoComplete.prototype.autoHighlight=true;YAHOO.widget.AutoComplete.prototype.typeAhead=false;YAHOO.widget.AutoComplete.prototype.animHoriz=false;YAHOO.widget.AutoComplete.prototype.animVert=true;YAHOO.widget.AutoComplete.prototype.animSpeed=0.3;YAHOO.widget.AutoComplete.prototype.forceSelection=false;YAHOO.widget.AutoComplete.prototype.allowBrowserAutocomplete=true;YAHOO.widget.AutoComplete.prototype.alwaysShowContainer=false;YAHOO.widget.AutoComplete.prototype.useIFrame=false;YAHOO.widget.AutoComplete.prototype.useShadow=false;YAHOO.widget.AutoComplete.prototype.toString=function(){return"AutoComplete "+this._sName};YAHOO.widget.AutoComplete.prototype.isContainerOpen=function(){return this._bContainerOpen};YAHOO.widget.AutoComplete.prototype.getListItems=function(){return this._aListItems};YAHOO.widget.AutoComplete.prototype.getListItemData=function(oListItem){if(oListItem._oResultData){return oListItem._oResultData}else{return false}};YAHOO.widget.AutoComplete.prototype.setHeader=function(sHeader){if(sHeader){if(this._oContainer._oContent._oHeader){this._oContainer._oContent._oHeader.innerHTML=sHeader;this._oContainer._oContent._oHeader.style.display="block"}}else{this._oContainer._oContent._oHeader.innerHTML="";this._oContainer._oContent._oHeader.style.display="none"}};YAHOO.widget.AutoComplete.prototype.setFooter=function(sFooter){if(sFooter){if(this._oContainer._oContent._oFooter){this._oContainer._oContent._oFooter.innerHTML=sFooter;this._oContainer._oContent._oFooter.style.display="block"}}else{this._oContainer._oContent._oFooter.innerHTML="";this._oContainer._oContent._oFooter.style.display="none"}};YAHOO.widget.AutoComplete.prototype.setBody=function(sBody){if(sBody){if(this._oContainer._oContent._oBody){this._oContainer._oContent._oBody.innerHTML=sBody;this._oContainer._oContent._oBody.style.display="block";this._oContainer._oContent.style.display="block"}}else{this._oContainer._oContent._oBody.innerHTML="";this._oContainer._oContent.style.display="none"}this._maxResultsDisplayed=0};YAHOO.widget.AutoComplete.prototype.formatResult=function(oResultItem,sQuery){var sResult=oResultItem[0];if(sResult){return sResult}else{return""}};YAHOO.widget.AutoComplete.prototype.doBeforeExpandContainer=function(oTextbox,oContainer,sQuery,aResults){return true};YAHOO.widget.AutoComplete.prototype.sendQuery=function(sQuery){this._sendQuery(sQuery)};YAHOO.widget.AutoComplete.prototype.doBeforeSendQuery=function(sQuery){return sQuery};YAHOO.widget.AutoComplete.prototype.destroy=function(){var instanceName=this.toString();var elInput=this._oTextbox;var elContainer=this._oContainer;this.textboxFocusEvent.unsubscribe();this.textboxKeyEvent.unsubscribe();this.dataRequestEvent.unsubscribe();this.dataReturnEvent.unsubscribe();this.dataErrorEvent.unsubscribe();this.containerExpandEvent.unsubscribe();this.typeAheadEvent.unsubscribe();this.itemMouseOverEvent.unsubscribe();this.itemMouseOutEvent.unsubscribe();this.itemArrowToEvent.unsubscribe();this.itemArrowFromEvent.unsubscribe();this.itemSelectEvent.unsubscribe();this.unmatchedItemSelectEvent.unsubscribe();this.selectionEnforceEvent.unsubscribe();this.containerCollapseEvent.unsubscribe();this.textboxBlurEvent.unsubscribe();YAHOO.util.Event.purgeElement(elInput,true);YAHOO.util.Event.purgeElement(elContainer,true);elContainer.innerHTML="";for(var key in this){if(YAHOO.lang.hasOwnProperty(this,key)){this[key]=null}}};YAHOO.widget.AutoComplete.prototype.textboxFocusEvent=null;YAHOO.widget.AutoComplete.prototype.textboxKeyEvent=null;YAHOO.widget.AutoComplete.prototype.dataRequestEvent=null;YAHOO.widget.AutoComplete.prototype.dataReturnEvent=null;YAHOO.widget.AutoComplete.prototype.dataErrorEvent=null;YAHOO.widget.AutoComplete.prototype.containerExpandEvent=null;YAHOO.widget.AutoComplete.prototype.typeAheadEvent=null;YAHOO.widget.AutoComplete.prototype.itemMouseOverEvent=null;YAHOO.widget.AutoComplete.prototype.itemMouseOutEvent=null;YAHOO.widget.AutoComplete.prototype.itemArrowToEvent=null;YAHOO.widget.AutoComplete.prototype.itemArrowFromEvent=null;YAHOO.widget.AutoComplete.prototype.itemSelectEvent=null;YAHOO.widget.AutoComplete.prototype.unmatchedItemSelectEvent=null;YAHOO.widget.AutoComplete.prototype.selectionEnforceEvent=null;YAHOO.widget.AutoComplete.prototype.containerCollapseEvent=null;YAHOO.widget.AutoComplete.prototype.textboxBlurEvent=null;YAHOO.widget.AutoComplete._nIndex=0;YAHOO.widget.AutoComplete.prototype._sName=null;YAHOO.widget.AutoComplete.prototype._oTextbox=null;YAHOO.widget.AutoComplete.prototype._bFocused=true;YAHOO.widget.AutoComplete.prototype._oAnim=null;YAHOO.widget.AutoComplete.prototype._oContainer=null;YAHOO.widget.AutoComplete.prototype._bContainerOpen=false;YAHOO.widget.AutoComplete.prototype._bOverContainer=false;YAHOO.widget.AutoComplete.prototype._aListItems=null;YAHOO.widget.AutoComplete.prototype._nDisplayedItems=0;YAHOO.widget.AutoComplete.prototype._maxResultsDisplayed=0;YAHOO.widget.AutoComplete.prototype._sCurQuery=null;YAHOO.widget.AutoComplete.prototype._sSavedQuery=null;YAHOO.widget.AutoComplete.prototype._oCurItem=null;YAHOO.widget.AutoComplete.prototype._bItemSelected=false;YAHOO.widget.AutoComplete.prototype._nKeyCode=null;YAHOO.widget.AutoComplete.prototype._nDelayID=-1;YAHOO.widget.AutoComplete.prototype._iFrameSrc="javascript:false;";YAHOO.widget.AutoComplete.prototype._queryInterval=null;YAHOO.widget.AutoComplete.prototype._sLastTextboxValue=null;YAHOO.widget.AutoComplete.prototype._initProps=function(){var minQueryLength=this.minQueryLength;if(!YAHOO.lang.isNumber(minQueryLength)){this.minQueryLength=1}var maxResultsDisplayed=this.maxResultsDisplayed;if(!YAHOO.lang.isNumber(maxResultsDisplayed)||(maxResultsDisplayed<1)){this.maxResultsDisplayed=10}var queryDelay=this.queryDelay;if(!YAHOO.lang.isNumber(queryDelay)||(queryDelay<0)){this.queryDelay=0.2}var delimChar=this.delimChar;if(YAHOO.lang.isString(delimChar)&&(delimChar.length>0)){this.delimChar=[delimChar]}else{if(!YAHOO.lang.isArray(delimChar)){this.delimChar=null}}var animSpeed=this.animSpeed;if((this.animHoriz||this.animVert)&&YAHOO.util.Anim){if(!YAHOO.lang.isNumber(animSpeed)||(animSpeed<0)){this.animSpeed=0.3}if(!this._oAnim){this._oAnim=new YAHOO.util.Anim(this._oContainer._oContent,{},this.animSpeed)}else{this._oAnim.duration=this.animSpeed}}if(this.forceSelection&&delimChar){}};YAHOO.widget.AutoComplete.prototype._initContainerHelpers=function(){if(this.useShadow&&!this._oContainer._oShadow){var oShadow=document.createElement("div");oShadow.className="yui-ac-shadow";this._oContainer._oShadow=this._oContainer.appendChild(oShadow)}if(this.useIFrame&&!this._oContainer._oIFrame){var oIFrame=document.createElement("iframe");oIFrame.src=this._iFrameSrc;oIFrame.frameBorder=0;oIFrame.scrolling="no";oIFrame.style.position="absolute";oIFrame.style.width="100%";oIFrame.style.height="100%";oIFrame.tabIndex=-1;this._oContainer._oIFrame=this._oContainer.appendChild(oIFrame)}};YAHOO.widget.AutoComplete.prototype._initContainer=function(){YAHOO.util.Dom.addClass(this._oContainer,"yui-ac-container");if(!this._oContainer._oContent){var oContent=document.createElement("div");oContent.className="yui-ac-content";oContent.style.display="none";this._oContainer._oContent=this._oContainer.appendChild(oContent);var oHeader=document.createElement("div");oHeader.className="yui-ac-hd";oHeader.style.display="none";this._oContainer._oContent._oHeader=this._oContainer._oContent.appendChild(oHeader);var oBody=document.createElement("div");oBody.className="yui-ac-bd";this._oContainer._oContent._oBody=this._oContainer._oContent.appendChild(oBody);var oFooter=document.createElement("div");oFooter.className="yui-ac-ft";oFooter.style.display="none";this._oContainer._oContent._oFooter=this._oContainer._oContent.appendChild(oFooter)}else{}};YAHOO.widget.AutoComplete.prototype._initList=function(){this._aListItems=[];while(this._oContainer._oContent._oBody.hasChildNodes()){var oldListItems=this.getListItems();if(oldListItems){for(var oldi=oldListItems.length-1;oldi>=0;oldi--){oldListItems[oldi]=null}}this._oContainer._oContent._oBody.innerHTML=""}var oList=document.createElement("ul");oList=this._oContainer._oContent._oBody.appendChild(oList);for(var i=0;i<this.maxResultsDisplayed;i++){var oItem=document.createElement("li");oItem=oList.appendChild(oItem);this._aListItems[i]=oItem;this._initListItem(oItem,i)}this._maxResultsDisplayed=this.maxResultsDisplayed};YAHOO.widget.AutoComplete.prototype._initListItem=function(oItem,nItemIndex){var oSelf=this;oItem.style.display="none";oItem._nItemIndex=nItemIndex;oItem.mouseover=oItem.mouseout=oItem.onclick=null;YAHOO.util.Event.addListener(oItem,"mouseover",oSelf._onItemMouseover,oSelf);YAHOO.util.Event.addListener(oItem,"mouseout",oSelf._onItemMouseout,oSelf);YAHOO.util.Event.addListener(oItem,"click",oSelf._onItemMouseclick,oSelf)};YAHOO.widget.AutoComplete.prototype._onIMEDetected=function(oSelf){oSelf._enableIntervalDetection()};YAHOO.widget.AutoComplete.prototype._enableIntervalDetection=function(){var currValue=this._oTextbox.value;var lastValue=this._sLastTextboxValue;if(currValue!=lastValue){this._sLastTextboxValue=currValue;this._sendQuery(currValue)}};YAHOO.widget.AutoComplete.prototype._cancelIntervalDetection=function(oSelf){if(oSelf._queryInterval){clearInterval(oSelf._queryInterval)}};YAHOO.widget.AutoComplete.prototype._isIgnoreKey=function(nKeyCode){if((nKeyCode==9)||(nKeyCode==13)||(nKeyCode==16)||(nKeyCode==17)||(nKeyCode>=18&&nKeyCode<=20)||(nKeyCode==27)||(nKeyCode>=33&&nKeyCode<=35)||(nKeyCode>=36&&nKeyCode<=40)||(nKeyCode>=44&&nKeyCode<=45)){return true}return false};YAHOO.widget.AutoComplete.prototype._sendQuery=function(sQuery){if(this.minQueryLength==-1){this._toggleContainer(false);return }var aDelimChar=(this.delimChar)?this.delimChar:null;if(aDelimChar){var nDelimIndex=-1;for(var i=aDelimChar.length-1;i>=0;i--){var nNewIndex=sQuery.lastIndexOf(aDelimChar[i]);if(nNewIndex>nDelimIndex){nDelimIndex=nNewIndex}}if(aDelimChar[i]==" "){for(var j=aDelimChar.length-1;j>=0;j--){if(sQuery[nDelimIndex-1]==aDelimChar[j]){nDelimIndex--;break}}}if(nDelimIndex>-1){var nQueryStart=nDelimIndex+1;while(sQuery.charAt(nQueryStart)==" "){nQueryStart+=1}this._sSavedQuery=sQuery.substring(0,nQueryStart);sQuery=sQuery.substr(nQueryStart)}else{if(sQuery.indexOf(this._sSavedQuery)<0){this._sSavedQuery=null}}}if((sQuery&&(sQuery.length<this.minQueryLength))||(!sQuery&&this.minQueryLength>0)){if(this._nDelayID!=-1){clearTimeout(this._nDelayID)}this._toggleContainer(false);return }sQuery=encodeURIComponent(sQuery);this._nDelayID=-1;sQuery=this.doBeforeSendQuery(sQuery);this.dataRequestEvent.fire(this,sQuery);this.dataSource.getResults(this._populateList,sQuery,this)};YAHOO.widget.AutoComplete.prototype._populateList=function(sQuery,aResults,oSelf){if(aResults===null){oSelf.dataErrorEvent.fire(oSelf,sQuery)}if(!oSelf._bFocused||!aResults){return }var isOpera=(navigator.userAgent.toLowerCase().indexOf("opera")!=-1);var contentStyle=oSelf._oContainer._oContent.style;contentStyle.width=(!isOpera)?null:"";contentStyle.height=(!isOpera)?null:"";var sCurQuery=decodeURIComponent(sQuery);oSelf._sCurQuery=sCurQuery;oSelf._bItemSelected=false;if(oSelf._maxResultsDisplayed!=oSelf.maxResultsDisplayed){oSelf._initList()}var nItems=Math.min(aResults.length,oSelf.maxResultsDisplayed);oSelf._nDisplayedItems=nItems;if(nItems>0){oSelf._initContainerHelpers();var aItems=oSelf._aListItems;for(var i=nItems-1;i>=0;i--){var oItemi=aItems[i];var oResultItemi=aResults[i];oItemi.innerHTML=oSelf.formatResult(oResultItemi,sCurQuery);oItemi.style.display="list-item";oItemi._sResultKey=oResultItemi[0];oItemi._oResultData=oResultItemi}for(var j=aItems.length-1;j>=nItems;j--){var oItemj=aItems[j];oItemj.innerHTML=null;oItemj.style.display="none";oItemj._sResultKey=null;oItemj._oResultData=null}var ok=oSelf.doBeforeExpandContainer(oSelf._oTextbox,oSelf._oContainer,sQuery,aResults);oSelf._toggleContainer(ok);if(oSelf.autoHighlight){var oFirstItem=aItems[0];oSelf._toggleHighlight(oFirstItem,"to");oSelf.itemArrowToEvent.fire(oSelf,oFirstItem);oSelf._typeAhead(oFirstItem,sQuery)}else{oSelf._oCurItem=null}}else{oSelf._toggleContainer(false)}oSelf.dataReturnEvent.fire(oSelf,sQuery,aResults)};YAHOO.widget.AutoComplete.prototype._clearSelection=function(){var sValue=this._oTextbox.value;var sChar=(this.delimChar)?this.delimChar[0]:null;var nIndex=(sChar)?sValue.lastIndexOf(sChar,sValue.length-2):-1;if(nIndex>-1){this._oTextbox.value=sValue.substring(0,nIndex)}else{this._oTextbox.value=""}this._sSavedQuery=this._oTextbox.value;this.selectionEnforceEvent.fire(this)};YAHOO.widget.AutoComplete.prototype._textMatchesOption=function(){var foundMatch=null;for(var i=this._nDisplayedItems-1;i>=0;i--){var oItem=this._aListItems[i];var sMatch=oItem._sResultKey.toLowerCase();if(sMatch==this._sCurQuery.toLowerCase()){foundMatch=oItem;break}}return(foundMatch)};YAHOO.widget.AutoComplete.prototype._typeAhead=function(oItem,sQuery){if(!this.typeAhead||(this._nKeyCode==8)){return }var oTextbox=this._oTextbox;var sValue=this._oTextbox.value;if(!oTextbox.setSelectionRange&&!oTextbox.createTextRange){return }var nStart=sValue.length;this._updateValue(oItem);var nEnd=oTextbox.value.length;this._selectText(oTextbox,nStart,nEnd);var sPrefill=oTextbox.value.substr(nStart,nEnd);this.typeAheadEvent.fire(this,sQuery,sPrefill)};YAHOO.widget.AutoComplete.prototype._selectText=function(oTextbox,nStart,nEnd){if(oTextbox.setSelectionRange){oTextbox.setSelectionRange(nStart,nEnd)}else{if(oTextbox.createTextRange){var oTextRange=oTextbox.createTextRange();oTextRange.moveStart("character",nStart);oTextRange.moveEnd("character",nEnd-oTextbox.value.length);oTextRange.select()}else{oTextbox.select()}}};YAHOO.widget.AutoComplete.prototype._toggleContainerHelpers=function(bShow){var bFireEvent=false;var width=this._oContainer._oContent.offsetWidth+"px";var height=this._oContainer._oContent.offsetHeight+"px";if(this.useIFrame&&this._oContainer._oIFrame){bFireEvent=true;if(bShow){this._oContainer._oIFrame.style.width=width;this._oContainer._oIFrame.style.height=height}else{this._oContainer._oIFrame.style.width=0;this._oContainer._oIFrame.style.height=0}}if(this.useShadow&&this._oContainer._oShadow){bFireEvent=true;if(bShow){this._oContainer._oShadow.style.width=width;this._oContainer._oShadow.style.height=height}else{this._oContainer._oShadow.style.width=0;this._oContainer._oShadow.style.height=0}}};YAHOO.widget.AutoComplete.prototype._toggleContainer=function(bShow){var oContainer=this._oContainer;if(this.alwaysShowContainer&&this._bContainerOpen){return }if(!bShow){this._oContainer._oContent.scrollTop=0;var aItems=this._aListItems;if(aItems&&(aItems.length>0)){for(var i=aItems.length-1;i>=0;i--){aItems[i].style.display="none"}}if(this._oCurItem){this._toggleHighlight(this._oCurItem,"from")}this._oCurItem=null;this._nDisplayedItems=0;this._sCurQuery=null}if(!bShow&&!this._bContainerOpen){oContainer._oContent.style.display="none";return }var oAnim=this._oAnim;if(oAnim&&oAnim.getEl()&&(this.animHoriz||this.animVert)){if(!bShow){this._toggleContainerHelpers(bShow)}if(oAnim.isAnimated()){oAnim.stop()}var oClone=oContainer._oContent.cloneNode(true);oContainer.appendChild(oClone);oClone.style.top="-9000px";oClone.style.display="block";var wExp=oClone.offsetWidth;var hExp=oClone.offsetHeight;var wColl=(this.animHoriz)?0:wExp;var hColl=(this.animVert)?0:hExp;oAnim.attributes=(bShow)?{width:{to:wExp},height:{to:hExp}}:{width:{to:wColl},height:{to:hColl}};if(bShow&&!this._bContainerOpen){oContainer._oContent.style.width=wColl+"px";oContainer._oContent.style.height=hColl+"px"}else{oContainer._oContent.style.width=wExp+"px";oContainer._oContent.style.height=hExp+"px"}oContainer.removeChild(oClone);oClone=null;var oSelf=this;var onAnimComplete=function(){oAnim.onComplete.unsubscribeAll();if(bShow){oSelf.containerExpandEvent.fire(oSelf)}else{oContainer._oContent.style.display="none";oSelf.containerCollapseEvent.fire(oSelf)}oSelf._toggleContainerHelpers(bShow)};oContainer._oContent.style.display="block";oAnim.onComplete.subscribe(onAnimComplete);oAnim.animate();this._bContainerOpen=bShow}else{if(bShow){oContainer._oContent.style.display="block";this.containerExpandEvent.fire(this)}else{oContainer._oContent.style.display="none";this.containerCollapseEvent.fire(this)}this._toggleContainerHelpers(bShow);this._bContainerOpen=bShow}};YAHOO.widget.AutoComplete.prototype._toggleHighlight=function(oNewItem,sType){var sHighlight=this.highlightClassName;if(this._oCurItem){YAHOO.util.Dom.removeClass(this._oCurItem,sHighlight)}if((sType=="to")&&sHighlight){YAHOO.util.Dom.addClass(oNewItem,sHighlight);this._oCurItem=oNewItem}};YAHOO.widget.AutoComplete.prototype._togglePrehighlight=function(oNewItem,sType){if(oNewItem==this._oCurItem){return }var sPrehighlight=this.prehighlightClassName;if((sType=="mouseover")&&sPrehighlight){YAHOO.util.Dom.addClass(oNewItem,sPrehighlight)}else{YAHOO.util.Dom.removeClass(oNewItem,sPrehighlight)}};YAHOO.widget.AutoComplete.prototype._updateValue=function(oItem){var oTextbox=this._oTextbox;var sDelimChar=(this.delimChar)?(this.delimChar[0]||this.delimChar):null;var sSavedQuery=this._sSavedQuery;var sResultKey=oItem._sResultKey;oTextbox.focus();oTextbox.value="";if(sDelimChar){if(sSavedQuery){oTextbox.value=sSavedQuery}oTextbox.value+=sResultKey+sDelimChar;if(sDelimChar!=" "){oTextbox.value+=" "}}else{oTextbox.value=sResultKey}if(oTextbox.type=="textarea"){oTextbox.scrollTop=oTextbox.scrollHeight}var end=oTextbox.value.length;this._selectText(oTextbox,end,end);this._oCurItem=oItem};YAHOO.widget.AutoComplete.prototype._selectItem=function(oItem){this._bItemSelected=true;this._updateValue(oItem);this._cancelIntervalDetection(this);this.itemSelectEvent.fire(this,oItem,oItem._oResultData);this._toggleContainer(false)};YAHOO.widget.AutoComplete.prototype._jumpSelection=function(){if(this._oCurItem){this._selectItem(this._oCurItem)}else{this._toggleContainer(false)}};YAHOO.widget.AutoComplete.prototype._moveSelection=function(nKeyCode){if(this._bContainerOpen){var oCurItem=this._oCurItem;var nCurItemIndex=-1;if(oCurItem){nCurItemIndex=oCurItem._nItemIndex}var nNewItemIndex=(nKeyCode==40)?(nCurItemIndex+1):(nCurItemIndex-1);if(nNewItemIndex<-2||nNewItemIndex>=this._nDisplayedItems){return }if(oCurItem){this._toggleHighlight(oCurItem,"from");this.itemArrowFromEvent.fire(this,oCurItem)}if(nNewItemIndex==-1){if(this.delimChar&&this._sSavedQuery){if(!this._textMatchesOption()){this._oTextbox.value=this._sSavedQuery}else{this._oTextbox.value=this._sSavedQuery+this._sCurQuery}}else{this._oTextbox.value=this._sCurQuery}this._oCurItem=null;return }if(nNewItemIndex==-2){this._toggleContainer(false);return }var oNewItem=this._aListItems[nNewItemIndex];var oContent=this._oContainer._oContent;var scrollOn=((YAHOO.util.Dom.getStyle(oContent,"overflow")=="auto")||(YAHOO.util.Dom.getStyle(oContent,"overflowY")=="auto"));if(scrollOn&&(nNewItemIndex>-1)&&(nNewItemIndex<this._nDisplayedItems)){if(nKeyCode==40){if((oNewItem.offsetTop+oNewItem.offsetHeight)>(oContent.scrollTop+oContent.offsetHeight)){oContent.scrollTop=(oNewItem.offsetTop+oNewItem.offsetHeight)-oContent.offsetHeight}else{if((oNewItem.offsetTop+oNewItem.offsetHeight)<oContent.scrollTop){oContent.scrollTop=oNewItem.offsetTop}}}else{if(oNewItem.offsetTop<oContent.scrollTop){this._oContainer._oContent.scrollTop=oNewItem.offsetTop}else{if(oNewItem.offsetTop>(oContent.scrollTop+oContent.offsetHeight)){this._oContainer._oContent.scrollTop=(oNewItem.offsetTop+oNewItem.offsetHeight)-oContent.offsetHeight}}}}this._toggleHighlight(oNewItem,"to");this.itemArrowToEvent.fire(this,oNewItem);if(this.typeAhead){this._updateValue(oNewItem)}}};YAHOO.widget.AutoComplete.prototype._onItemMouseover=function(v,oSelf){if(oSelf.prehighlightClassName){oSelf._togglePrehighlight(this,"mouseover")}else{oSelf._toggleHighlight(this,"to")}oSelf.itemMouseOverEvent.fire(oSelf,this)};YAHOO.widget.AutoComplete.prototype._onItemMouseout=function(v,oSelf){if(oSelf.prehighlightClassName){oSelf._togglePrehighlight(this,"mouseout")}else{oSelf._toggleHighlight(this,"from")}oSelf.itemMouseOutEvent.fire(oSelf,this)};YAHOO.widget.AutoComplete.prototype._onItemMouseclick=function(v,oSelf){oSelf._toggleHighlight(this,"to");oSelf._selectItem(this)};YAHOO.widget.AutoComplete.prototype._onContainerMouseover=function(v,oSelf){oSelf._bOverContainer=true};YAHOO.widget.AutoComplete.prototype._onContainerMouseout=function(v,oSelf){oSelf._bOverContainer=false;if(oSelf._oCurItem){oSelf._toggleHighlight(oSelf._oCurItem,"to")}};YAHOO.widget.AutoComplete.prototype._onContainerScroll=function(v,oSelf){oSelf._oTextbox.focus()};YAHOO.widget.AutoComplete.prototype._onContainerResize=function(v,oSelf){oSelf._toggleContainerHelpers(oSelf._bContainerOpen)};YAHOO.widget.AutoComplete.prototype._onTextboxKeyDown=function(v,oSelf){var nKeyCode=v.keyCode;switch(nKeyCode){case 9:if(oSelf._oCurItem){if(oSelf.delimChar&&(oSelf._nKeyCode!=nKeyCode)){if(oSelf._bContainerOpen){YAHOO.util.Event.stopEvent(v)}}oSelf._selectItem(oSelf._oCurItem)}else{oSelf._toggleContainer(false)}break;case 13:var isMac=(navigator.userAgent.toLowerCase().indexOf("mac")!=-1);if(!isMac){if(oSelf._oCurItem){if(oSelf._nKeyCode!=nKeyCode){if(oSelf._bContainerOpen){YAHOO.util.Event.stopEvent(v)}}oSelf._selectItem(oSelf._oCurItem)}else{oSelf._toggleContainer(false)}}break;case 27:oSelf._toggleContainer(false);return ;case 39:oSelf._jumpSelection();break;case 38:YAHOO.util.Event.stopEvent(v);oSelf._moveSelection(nKeyCode);break;case 40:YAHOO.util.Event.stopEvent(v);oSelf._moveSelection(nKeyCode);break;default:break}};YAHOO.widget.AutoComplete.prototype._onTextboxKeyPress=function(v,oSelf){var nKeyCode=v.keyCode;var isMac=(navigator.userAgent.toLowerCase().indexOf("mac")!=-1);if(isMac){switch(nKeyCode){case 9:if(oSelf._oCurItem){if(oSelf.delimChar&&(oSelf._nKeyCode!=nKeyCode)){YAHOO.util.Event.stopEvent(v)}}break;case 13:if(oSelf._oCurItem){if(oSelf._nKeyCode!=nKeyCode){if(oSelf._bContainerOpen){YAHOO.util.Event.stopEvent(v)}}oSelf._selectItem(oSelf._oCurItem)}else{oSelf._toggleContainer(false)}break;case 38:case 40:YAHOO.util.Event.stopEvent(v);break;default:break}}else{if(nKeyCode==229){oSelf._queryInterval=setInterval(function(){oSelf._onIMEDetected(oSelf)},500)}}};YAHOO.widget.AutoComplete.prototype._onTextboxKeyUp=function(v,oSelf){oSelf._initProps();var nKeyCode=v.keyCode;oSelf._nKeyCode=nKeyCode;var sText=this.value;if(oSelf._isIgnoreKey(nKeyCode)||(sText.toLowerCase()==oSelf._sCurQuery)){return }else{oSelf._bItemSelected=false;YAHOO.util.Dom.removeClass(oSelf._oCurItem,oSelf.highlightClassName);oSelf._oCurItem=null;oSelf.textboxKeyEvent.fire(oSelf,nKeyCode)}if(oSelf.queryDelay>0){var nDelayID=setTimeout(function(){oSelf._sendQuery(sText)},(oSelf.queryDelay*1000));if(oSelf._nDelayID!=-1){clearTimeout(oSelf._nDelayID)}oSelf._nDelayID=nDelayID}else{oSelf._sendQuery(sText)}};YAHOO.widget.AutoComplete.prototype._onTextboxFocus=function(v,oSelf){oSelf._oTextbox.setAttribute("autocomplete","off");oSelf._bFocused=true;if(!oSelf._bItemSelected){oSelf.textboxFocusEvent.fire(oSelf)}};YAHOO.widget.AutoComplete.prototype._onTextboxBlur=function(v,oSelf){if(!oSelf._bOverContainer||(oSelf._nKeyCode==9)){if(!oSelf._bItemSelected){var oMatch=oSelf._textMatchesOption();if(!oSelf._bContainerOpen||(oSelf._bContainerOpen&&(oMatch===null))){if(oSelf.forceSelection){oSelf._clearSelection()}else{oSelf.unmatchedItemSelectEvent.fire(oSelf)}}else{if(oSelf.forceSelection){oSelf._selectItem(oMatch)}}}if(oSelf._bContainerOpen){oSelf._toggleContainer(false)}oSelf._cancelIntervalDetection(oSelf);oSelf._bFocused=false;oSelf.textboxBlurEvent.fire(oSelf)}};YAHOO.widget.AutoComplete.prototype._onWindowUnload=function(v,oSelf){if(oSelf&&oSelf._oTextbox&&oSelf.allowBrowserAutocomplete){oSelf._oTextbox.setAttribute("autocomplete","on")}};YAHOO.widget.DataSource=function(){};YAHOO.widget.DataSource.ERROR_DATANULL="Response data was null";YAHOO.widget.DataSource.ERROR_DATAPARSE="Response data could not be parsed";YAHOO.widget.DataSource.prototype.maxCacheEntries=15;YAHOO.widget.DataSource.prototype.queryMatchContains=false;YAHOO.widget.DataSource.prototype.queryMatchSubset=false;YAHOO.widget.DataSource.prototype.queryMatchCase=false;YAHOO.widget.DataSource.prototype.toString=function(){return"DataSource "+this._sName};YAHOO.widget.DataSource.prototype.getResults=function(oCallbackFn,sQuery,oParent){var aResults=this._doQueryCache(oCallbackFn,sQuery,oParent);if(aResults.length===0){this.queryEvent.fire(this,oParent,sQuery);this.doQuery(oCallbackFn,sQuery,oParent)}};YAHOO.widget.DataSource.prototype.doQuery=function(oCallbackFn,sQuery,oParent){};YAHOO.widget.DataSource.prototype.flushCache=function(){if(this._aCache){this._aCache=[]}if(this._aCacheHelper){this._aCacheHelper=[]}this.cacheFlushEvent.fire(this)};YAHOO.widget.DataSource.prototype.queryEvent=null;YAHOO.widget.DataSource.prototype.cacheQueryEvent=null;YAHOO.widget.DataSource.prototype.getResultsEvent=null;YAHOO.widget.DataSource.prototype.getCachedResultsEvent=null;YAHOO.widget.DataSource.prototype.dataErrorEvent=null;YAHOO.widget.DataSource.prototype.cacheFlushEvent=null;YAHOO.widget.DataSource._nIndex=0;YAHOO.widget.DataSource.prototype._sName=null;YAHOO.widget.DataSource.prototype._aCache=null;YAHOO.widget.DataSource.prototype._init=function(){var maxCacheEntries=this.maxCacheEntries;if(!YAHOO.lang.isNumber(maxCacheEntries)||(maxCacheEntries<0)){maxCacheEntries=0}if(maxCacheEntries>0&&!this._aCache){this._aCache=[]}this._sName="instance"+YAHOO.widget.DataSource._nIndex;YAHOO.widget.DataSource._nIndex++;this.queryEvent=new YAHOO.util.CustomEvent("query",this);this.cacheQueryEvent=new YAHOO.util.CustomEvent("cacheQuery",this);this.getResultsEvent=new YAHOO.util.CustomEvent("getResults",this);this.getCachedResultsEvent=new YAHOO.util.CustomEvent("getCachedResults",this);this.dataErrorEvent=new YAHOO.util.CustomEvent("dataError",this);this.cacheFlushEvent=new YAHOO.util.CustomEvent("cacheFlush",this)};YAHOO.widget.DataSource.prototype._addCacheElem=function(oResult){var aCache=this._aCache;if(!aCache||!oResult||!oResult.query||!oResult.results){return }if(aCache.length>=this.maxCacheEntries){aCache.shift()}aCache.push(oResult)};YAHOO.widget.DataSource.prototype._doQueryCache=function(oCallbackFn,sQuery,oParent){var aResults=[];var bMatchFound=false;var aCache=this._aCache;var nCacheLength=(aCache)?aCache.length:0;var bMatchContains=this.queryMatchContains;var sOrigQuery;if((this.maxCacheEntries>0)&&aCache&&(nCacheLength>0)){this.cacheQueryEvent.fire(this,oParent,sQuery);if(!this.queryMatchCase){sOrigQuery=sQuery;sQuery=sQuery.toLowerCase()}for(var i=nCacheLength-1;i>=0;i--){var resultObj=aCache[i];var aAllResultItems=resultObj.results;var matchKey=(!this.queryMatchCase)?encodeURIComponent(resultObj.query).toLowerCase():encodeURIComponent(resultObj.query);if(matchKey==sQuery){bMatchFound=true;aResults=aAllResultItems;if(i!=nCacheLength-1){aCache.splice(i,1);this._addCacheElem(resultObj)}break}else{if(this.queryMatchSubset){for(var j=sQuery.length-1;j>=0;j--){var subQuery=sQuery.substr(0,j);if(matchKey==subQuery){bMatchFound=true;for(var k=aAllResultItems.length-1;k>=0;k--){var aRecord=aAllResultItems[k];var sKeyIndex=(this.queryMatchCase)?encodeURIComponent(aRecord[0]).indexOf(sQuery):encodeURIComponent(aRecord[0]).toLowerCase().indexOf(sQuery);if((!bMatchContains&&(sKeyIndex===0))||(bMatchContains&&(sKeyIndex>-1))){aResults.unshift(aRecord)}}resultObj={};resultObj.query=sQuery;resultObj.results=aResults;this._addCacheElem(resultObj);break}}if(bMatchFound){break}}}}if(bMatchFound){this.getCachedResultsEvent.fire(this,oParent,sOrigQuery,aResults);oCallbackFn(sOrigQuery,aResults,oParent)}}return aResults};YAHOO.widget.DS_XHR=function(sScriptURI,aSchema,oConfigs){if(oConfigs&&(oConfigs.constructor==Object)){for(var sConfig in oConfigs){this[sConfig]=oConfigs[sConfig]}}if(!YAHOO.lang.isArray(aSchema)||!YAHOO.lang.isString(sScriptURI)){return }this.schema=aSchema;this.scriptURI=sScriptURI;this._init()};YAHOO.widget.DS_XHR.prototype=new YAHOO.widget.DataSource();YAHOO.widget.DS_XHR.TYPE_JSON=0;YAHOO.widget.DS_XHR.TYPE_XML=1;YAHOO.widget.DS_XHR.TYPE_FLAT=2;YAHOO.widget.DS_XHR.ERROR_DATAXHR="XHR response failed";YAHOO.widget.DS_XHR.prototype.connMgr=YAHOO.util.Connect;YAHOO.widget.DS_XHR.prototype.connTimeout=0;YAHOO.widget.DS_XHR.prototype.scriptURI=null;YAHOO.widget.DS_XHR.prototype.scriptQueryParam="query";YAHOO.widget.DS_XHR.prototype.scriptQueryAppend="";YAHOO.widget.DS_XHR.prototype.responseType=YAHOO.widget.DS_XHR.TYPE_JSON;YAHOO.widget.DS_XHR.prototype.responseStripAfter="\n<!-";YAHOO.widget.DS_XHR.prototype.doQuery=function(oCallbackFn,sQuery,oParent){var isXML=(this.responseType==YAHOO.widget.DS_XHR.TYPE_XML);var sUri=this.scriptURI+"?"+this.scriptQueryParam+"="+sQuery;if(this.scriptQueryAppend.length>0){sUri+="&"+this.scriptQueryAppend}var oResponse=null;var oSelf=this;var responseSuccess=function(oResp){if(!oSelf._oConn||(oResp.tId!=oSelf._oConn.tId)){oSelf.dataErrorEvent.fire(oSelf,oParent,sQuery,YAHOO.widget.DataSource.ERROR_DATANULL);return }for(var foo in oResp){}if(!isXML){oResp=oResp.responseText}else{oResp=oResp.responseXML}if(oResp===null){oSelf.dataErrorEvent.fire(oSelf,oParent,sQuery,YAHOO.widget.DataSource.ERROR_DATANULL);return }var aResults=oSelf.parseResponse(sQuery,oResp,oParent);var resultObj={};resultObj.query=decodeURIComponent(sQuery);resultObj.results=aResults;if(aResults===null){oSelf.dataErrorEvent.fire(oSelf,oParent,sQuery,YAHOO.widget.DataSource.ERROR_DATAPARSE);aResults=[]}else{oSelf.getResultsEvent.fire(oSelf,oParent,sQuery,aResults);oSelf._addCacheElem(resultObj)}oCallbackFn(sQuery,aResults,oParent)};var responseFailure=function(oResp){oSelf.dataErrorEvent.fire(oSelf,oParent,sQuery,YAHOO.widget.DS_XHR.ERROR_DATAXHR);return };var oCallback={success:responseSuccess,failure:responseFailure};if(YAHOO.lang.isNumber(this.connTimeout)&&(this.connTimeout>0)){oCallback.timeout=this.connTimeout}if(this._oConn){this.connMgr.abort(this._oConn)}oSelf._oConn=this.connMgr.asyncRequest("GET",sUri,oCallback,null)};YAHOO.widget.DS_XHR.prototype.parseResponse=function(sQuery,oResponse,oParent){var aSchema=this.schema;var aResults=[];var bError=false;var nEnd=((this.responseStripAfter!=="")&&(oResponse.indexOf))?oResponse.indexOf(this.responseStripAfter):-1;if(nEnd!=-1){oResponse=oResponse.substring(0,nEnd)}switch(this.responseType){case YAHOO.widget.DS_XHR.TYPE_JSON:var jsonList,jsonObjParsed;var isNotMac=(navigator.userAgent.toLowerCase().indexOf("khtml")==-1);if(oResponse.parseJSON&&isNotMac){jsonObjParsed=oResponse.parseJSON();if(!jsonObjParsed){bError=true}else{try{jsonList=eval("jsonObjParsed."+aSchema[0])}catch(e){bError=true;break}}}else{if(YAHOO.lang.JSON&&isNotMac){jsonObjParsed=YAHOO.lang.JSON.parse(oResponse);if(!jsonObjParsed){bError=true;break}else{try{jsonList=eval("jsonObjParsed."+aSchema[0])}catch(e){bError=true;break}}}else{if(window.JSON&&isNotMac){jsonObjParsed=JSON.parse(oResponse);if(!jsonObjParsed){bError=true;break}else{try{jsonList=eval("jsonObjParsed."+aSchema[0])}catch(e){bError=true;break}}}else{try{while(oResponse.substring(0,1)==" "){oResponse=oResponse.substring(1,oResponse.length)}if(oResponse.indexOf("{")<0){bError=true;break}if(oResponse.indexOf("{}")===0){break}var jsonObjRaw=eval("("+oResponse+")");if(!jsonObjRaw){bError=true;break}jsonList=eval("(jsonObjRaw."+aSchema[0]+")")}catch(e){bError=true;break}}}}if(!jsonList){bError=true;break}if(!YAHOO.lang.isArray(jsonList)){jsonList=[jsonList]}for(var i=jsonList.length-1;i>=0;i--){var aResultItem=[];var jsonResult=jsonList[i];for(var j=aSchema.length-1;j>=1;j--){var dataFieldValue=jsonResult[aSchema[j]];if(!dataFieldValue){dataFieldValue=""}aResultItem.unshift(dataFieldValue)}if(aResultItem.length==1){aResultItem.push(jsonResult)}aResults.unshift(aResultItem)}break;case YAHOO.widget.DS_XHR.TYPE_XML:var xmlList=oResponse.getElementsByTagName(aSchema[0]);if(!xmlList){bError=true;break}for(var k=xmlList.length-1;k>=0;k--){var result=xmlList.item(k);var aFieldSet=[];for(var m=aSchema.length-1;m>=1;m--){var sValue=null;var xmlAttr=result.attributes.getNamedItem(aSchema[m]);if(xmlAttr){sValue=xmlAttr.value}else{var xmlNode=result.getElementsByTagName(aSchema[m]);if(xmlNode&&xmlNode.item(0)&&xmlNode.item(0).firstChild){sValue=xmlNode.item(0).firstChild.nodeValue}else{sValue=""}}aFieldSet.unshift(sValue)}aResults.unshift(aFieldSet)}break;case YAHOO.widget.DS_XHR.TYPE_FLAT:if(oResponse.length>0){var newLength=oResponse.length-aSchema[0].length;if(oResponse.substr(newLength)==aSchema[0]){oResponse=oResponse.substr(0,newLength)}var aRecords=oResponse.split(aSchema[0]);for(var n=aRecords.length-1;n>=0;n--){aResults[n]=aRecords[n].split(aSchema[1])}}break;default:break}sQuery=null;oResponse=null;oParent=null;if(bError){return null}else{return aResults}};YAHOO.widget.DS_XHR.prototype._oConn=null;YAHOO.widget.DS_ScriptNode=function(sUri,aSchema,oConfigs){if(oConfigs&&(oConfigs.constructor==Object)){for(var sConfig in oConfigs){this[sConfig]=oConfigs[sConfig]}}if(!YAHOO.lang.isArray(aSchema)||!YAHOO.lang.isString(sUri)){return }this.schema=aSchema;this.scriptURI=sUri;this._init()};YAHOO.widget.DS_ScriptNode.prototype=new YAHOO.widget.DataSource();YAHOO.widget.DS_ScriptNode.prototype.getUtility=YAHOO.util.Get;YAHOO.widget.DS_ScriptNode.prototype.scriptURI=null;YAHOO.widget.DS_ScriptNode.prototype.scriptQueryParam="query";YAHOO.widget.DS_ScriptNode.prototype.asyncMode="allowAll";YAHOO.widget.DS_ScriptNode.prototype.scriptCallbackParam="callback";YAHOO.widget.DS_ScriptNode.callbacks=[];YAHOO.widget.DS_ScriptNode._nId=0;YAHOO.widget.DS_ScriptNode._nPending=0;YAHOO.widget.DS_ScriptNode.prototype.doQuery=function(oCallbackFn,sQuery,oParent){var oSelf=this;if(YAHOO.widget.DS_ScriptNode._nPending===0){YAHOO.widget.DS_ScriptNode.callbacks=[];YAHOO.widget.DS_ScriptNode._nId=0}var id=YAHOO.widget.DS_ScriptNode._nId;YAHOO.widget.DS_ScriptNode._nId++;YAHOO.widget.DS_ScriptNode.callbacks[id]=function(oResponse){if((oSelf.asyncMode!=="ignoreStaleResponses")||(id===YAHOO.widget.DS_ScriptNode.callbacks.length-1)){oSelf.handleResponse(oResponse,oCallbackFn,sQuery,oParent)}else{}delete YAHOO.widget.DS_ScriptNode.callbacks[id]};YAHOO.widget.DS_ScriptNode._nPending++;var sUri=this.scriptURI+"&"+this.scriptQueryParam+"="+sQuery+"&"+this.scriptCallbackParam+"=YAHOO.widget.DS_ScriptNode.callbacks["+id+"]";this.getUtility.script(sUri,{autopurge:true,onsuccess:YAHOO.widget.DS_ScriptNode._bumpPendingDown,onfail:YAHOO.widget.DS_ScriptNode._bumpPendingDown})};YAHOO.widget.DS_ScriptNode.prototype.handleResponse=function(oResponse,oCallbackFn,sQuery,oParent){var aSchema=this.schema;var aResults=[];var bError=false;var jsonList,jsonObjParsed;try{jsonList=eval("(oResponse."+aSchema[0]+")")}catch(e){bError=true}if(!jsonList){bError=true;jsonList=[]}else{if(!YAHOO.lang.isArray(jsonList)){jsonList=[jsonList]}}for(var i=jsonList.length-1;i>=0;i--){var aResultItem=[];var jsonResult=jsonList[i];for(var j=aSchema.length-1;j>=1;j--){var dataFieldValue=jsonResult[aSchema[j]];if(!dataFieldValue){dataFieldValue=""}aResultItem.unshift(dataFieldValue)}if(aResultItem.length==1){aResultItem.push(jsonResult)}aResults.unshift(aResultItem)}if(bError){aResults=null}if(aResults===null){this.dataErrorEvent.fire(this,oParent,sQuery,YAHOO.widget.DataSource.ERROR_DATAPARSE);aResults=[]}else{var resultObj={};resultObj.query=decodeURIComponent(sQuery);resultObj.results=aResults;this._addCacheElem(resultObj);this.getResultsEvent.fire(this,oParent,sQuery,aResults)}oCallbackFn(sQuery,aResults,oParent)};YAHOO.widget.DS_ScriptNode._bumpPendingDown=function(){YAHOO.widget.DS_ScriptNode._nPending--};YAHOO.widget.DS_JSFunction=function(oFunction,oConfigs){if(oConfigs&&(oConfigs.constructor==Object)){for(var sConfig in oConfigs){this[sConfig]=oConfigs[sConfig]}}if(!YAHOO.lang.isFunction(oFunction)){return }else{this.dataFunction=oFunction;this._init()}};YAHOO.widget.DS_JSFunction.prototype=new YAHOO.widget.DataSource();YAHOO.widget.DS_JSFunction.prototype.dataFunction=null;YAHOO.widget.DS_JSFunction.prototype.doQuery=function(oCallbackFn,sQuery,oParent){var oFunction=this.dataFunction;var aResults=[];aResults=oFunction(sQuery);if(aResults===null){this.dataErrorEvent.fire(this,oParent,sQuery,YAHOO.widget.DataSource.ERROR_DATANULL);return }var resultObj={};resultObj.query=decodeURIComponent(sQuery);resultObj.results=aResults;this._addCacheElem(resultObj);this.getResultsEvent.fire(this,oParent,sQuery,aResults);oCallbackFn(sQuery,aResults,oParent);return };YAHOO.widget.DS_JSArray=function(aData,oConfigs){if(oConfigs&&(oConfigs.constructor==Object)){for(var sConfig in oConfigs){this[sConfig]=oConfigs[sConfig]}}if(!YAHOO.lang.isArray(aData)){return }else{this.data=aData;this._init()}};YAHOO.widget.DS_JSArray.prototype=new YAHOO.widget.DataSource();YAHOO.widget.DS_JSArray.prototype.data=null;YAHOO.widget.DS_JSArray.prototype.doQuery=function(oCallbackFn,sQuery,oParent){var i;var aData=this.data;var aResults=[];var bMatchFound=false;var bMatchContains=this.queryMatchContains;if(sQuery){if(!this.queryMatchCase){sQuery=sQuery.toLowerCase()}for(i=aData.length-1;i>=0;i--){var aDataset=[];if(YAHOO.lang.isString(aData[i])){aDataset[0]=aData[i]}else{if(YAHOO.lang.isArray(aData[i])){aDataset=aData[i]}}if(YAHOO.lang.isString(aDataset[0])){var sKeyIndex=(this.queryMatchCase)?encodeURIComponent(aDataset[0]).indexOf(sQuery):encodeURIComponent(aDataset[0]).toLowerCase().indexOf(sQuery);if((!bMatchContains&&(sKeyIndex===0))||(bMatchContains&&(sKeyIndex>-1))){aResults.unshift(aDataset)}}}}else{for(i=aData.length-1;i>=0;i--){if(YAHOO.lang.isString(aData[i])){aResults.unshift([aData[i]])}else{if(YAHOO.lang.isArray(aData[i])){aResults.unshift(aData[i])}}}}this.getResultsEvent.fire(this,oParent,sQuery,aResults);oCallbackFn(sQuery,aResults,oParent)};YAHOO.register("autocomplete",YAHOO.widget.AutoComplete,{version:"2.4.0",build:"733"});YAHOO.widget.LogMsg=function(oConfigs){if(oConfigs&&(oConfigs.constructor==Object)){for(var param in oConfigs){this[param]=oConfigs[param]}}};YAHOO.widget.LogMsg.prototype.msg=null;YAHOO.widget.LogMsg.prototype.time=null;YAHOO.widget.LogMsg.prototype.category=null;YAHOO.widget.LogMsg.prototype.source=null;YAHOO.widget.LogMsg.prototype.sourceDetail=null;YAHOO.widget.LogWriter=function(sSource){if(!sSource){YAHOO.log("Could not instantiate LogWriter due to invalid source.","error","LogWriter");return }this._source=sSource};YAHOO.widget.LogWriter.prototype.toString=function(){return"LogWriter "+this._sSource};YAHOO.widget.LogWriter.prototype.log=function(sMsg,sCategory){YAHOO.widget.Logger.log(sMsg,sCategory,this._source)};YAHOO.widget.LogWriter.prototype.getSource=function(){return this._sSource};YAHOO.widget.LogWriter.prototype.setSource=function(sSource){if(!sSource){YAHOO.log("Could not set source due to invalid source.","error",this.toString());return }else{this._sSource=sSource}};YAHOO.widget.LogWriter.prototype._source=null;YAHOO.widget.LogReader=function(elContainer,oConfigs){this._sName=YAHOO.widget.LogReader._index;YAHOO.widget.LogReader._index++;this._buffer=[];this._filterCheckboxes={};this._lastTime=YAHOO.widget.Logger.getStartTime();if(oConfigs&&(oConfigs.constructor==Object)){for(var param in oConfigs){this[param]=oConfigs[param]}}this._initContainerEl(elContainer);if(!this._elContainer){YAHOO.log("Could not instantiate LogReader due to an invalid container element "+elContainer,"error",this.toString());return }this._initHeaderEl();this._initConsoleEl();this._initFooterEl();this._initDragDrop();this._initCategories();this._initSources();YAHOO.widget.Logger.newLogEvent.subscribe(this._onNewLog,this);YAHOO.widget.Logger.logResetEvent.subscribe(this._onReset,this);YAHOO.widget.Logger.categoryCreateEvent.subscribe(this._onCategoryCreate,this);YAHOO.widget.Logger.sourceCreateEvent.subscribe(this._onSourceCreate,this);this._filterLogs();YAHOO.log("LogReader initialized",null,this.toString())};YAHOO.widget.LogReader.prototype.logReaderEnabled=true;YAHOO.widget.LogReader.prototype.width=null;YAHOO.widget.LogReader.prototype.height=null;YAHOO.widget.LogReader.prototype.top=null;YAHOO.widget.LogReader.prototype.left=null;YAHOO.widget.LogReader.prototype.right=null;YAHOO.widget.LogReader.prototype.bottom=null;YAHOO.widget.LogReader.prototype.fontSize=null;YAHOO.widget.LogReader.prototype.footerEnabled=true;YAHOO.widget.LogReader.prototype.verboseOutput=true;YAHOO.widget.LogReader.prototype.newestOnTop=true;YAHOO.widget.LogReader.prototype.outputBuffer=100;YAHOO.widget.LogReader.prototype.thresholdMax=500;YAHOO.widget.LogReader.prototype.thresholdMin=100;YAHOO.widget.LogReader.prototype.isCollapsed=false;YAHOO.widget.LogReader.prototype.isPaused=false;YAHOO.widget.LogReader.prototype.draggable=true;YAHOO.widget.LogReader.prototype.toString=function(){return"LogReader instance"+this._sName};YAHOO.widget.LogReader.prototype.pause=function(){this.isPaused=true;this._btnPause.value="Resume";this._timeout=null;this.logReaderEnabled=false};YAHOO.widget.LogReader.prototype.resume=function(){this.isPaused=false;this._btnPause.value="Pause";this.logReaderEnabled=true;this._printBuffer()};YAHOO.widget.LogReader.prototype.hide=function(){this._elContainer.style.display="none"};YAHOO.widget.LogReader.prototype.show=function(){this._elContainer.style.display="block"};YAHOO.widget.LogReader.prototype.collapse=function(){this._elConsole.style.display="none";if(this._elFt){this._elFt.style.display="none"}this._btnCollapse.value="Expand";this.isCollapsed=true};YAHOO.widget.LogReader.prototype.expand=function(){this._elConsole.style.display="block";if(this._elFt){this._elFt.style.display="block"}this._btnCollapse.value="Collapse";this.isCollapsed=false};YAHOO.widget.LogReader.prototype.getCheckbox=function(filter){return this._filterCheckboxes[filter]};YAHOO.widget.LogReader.prototype.getCategories=function(){return this._categoryFilters};YAHOO.widget.LogReader.prototype.showCategory=function(sCategory){var filtersArray=this._categoryFilters;if(filtersArray.indexOf){if(filtersArray.indexOf(sCategory)>-1){return }}else{for(var i=0;i<filtersArray.length;i++){if(filtersArray[i]===sCategory){return }}}this._categoryFilters.push(sCategory);this._filterLogs();var elCheckbox=this.getCheckbox(sCategory);if(elCheckbox){elCheckbox.checked=true}};YAHOO.widget.LogReader.prototype.hideCategory=function(sCategory){var filtersArray=this._categoryFilters;for(var i=0;i<filtersArray.length;i++){if(sCategory==filtersArray[i]){filtersArray.splice(i,1);break}}this._filterLogs();var elCheckbox=this.getCheckbox(sCategory);if(elCheckbox){elCheckbox.checked=false}};YAHOO.widget.LogReader.prototype.getSources=function(){return this._sourceFilters};YAHOO.widget.LogReader.prototype.showSource=function(sSource){var filtersArray=this._sourceFilters;if(filtersArray.indexOf){if(filtersArray.indexOf(sSource)>-1){return }}else{for(var i=0;i<filtersArray.length;i++){if(sSource==filtersArray[i]){return }}}filtersArray.push(sSource);this._filterLogs();var elCheckbox=this.getCheckbox(sSource);if(elCheckbox){elCheckbox.checked=true}};YAHOO.widget.LogReader.prototype.hideSource=function(sSource){var filtersArray=this._sourceFilters;for(var i=0;i<filtersArray.length;i++){if(sSource==filtersArray[i]){filtersArray.splice(i,1);break}}this._filterLogs();var elCheckbox=this.getCheckbox(sSource);if(elCheckbox){elCheckbox.checked=false}};YAHOO.widget.LogReader.prototype.clearConsole=function(){this._timeout=null;this._buffer=[];this._consoleMsgCount=0;var elConsole=this._elConsole;while(elConsole.hasChildNodes()){elConsole.removeChild(elConsole.firstChild)}};YAHOO.widget.LogReader.prototype.setTitle=function(sTitle){this._title.innerHTML=this.html2Text(sTitle)};YAHOO.widget.LogReader.prototype.getLastTime=function(){return this._lastTime};YAHOO.widget.LogReader.prototype.formatMsg=function(oLogMsg){var category=oLogMsg.category;var label=category.substring(0,4).toUpperCase();var time=oLogMsg.time;var localTime;if(time.toLocaleTimeString){localTime=time.toLocaleTimeString()}else{localTime=time.toString()}var msecs=time.getTime();var startTime=YAHOO.widget.Logger.getStartTime();var totalTime=msecs-startTime;var elapsedTime=msecs-this.getLastTime();var source=oLogMsg.source;var sourceDetail=oLogMsg.sourceDetail;var sourceAndDetail=(sourceDetail)?source+" "+sourceDetail:source;var msg=this.html2Text(YAHOO.lang.dump(oLogMsg.msg));var output=(this.verboseOutput)?['<pre class="yui-log-verbose"><p><span class=\'',category,"'>",label,"</span> ",totalTime,"ms (+",elapsedTime,") ",localTime,": ","</p><p>",sourceAndDetail,": </p><p>",msg,"</p></pre>"]:["<pre><p><span class='",category,"'>",label,"</span> ",totalTime,"ms (+",elapsedTime,") ",localTime,": ",sourceAndDetail,": ",msg,"</p></pre>"];return output.join("")};YAHOO.widget.LogReader.prototype.html2Text=function(sHtml){if(sHtml){sHtml+="";return sHtml.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;")}return""};YAHOO.widget.LogReader._index=0;YAHOO.widget.LogReader.prototype._sName=null;YAHOO.widget.LogReader.prototype._buffer=null;YAHOO.widget.LogReader.prototype._consoleMsgCount=0;YAHOO.widget.LogReader.prototype._lastTime=null;YAHOO.widget.LogReader.prototype._timeout=null;YAHOO.widget.LogReader.prototype._filterCheckboxes=null;YAHOO.widget.LogReader.prototype._categoryFilters=null;YAHOO.widget.LogReader.prototype._sourceFilters=null;YAHOO.widget.LogReader.prototype._elContainer=null;YAHOO.widget.LogReader.prototype._elHd=null;YAHOO.widget.LogReader.prototype._elCollapse=null;YAHOO.widget.LogReader.prototype._btnCollapse=null;YAHOO.widget.LogReader.prototype._title=null;YAHOO.widget.LogReader.prototype._elConsole=null;YAHOO.widget.LogReader.prototype._elFt=null;YAHOO.widget.LogReader.prototype._elBtns=null;YAHOO.widget.LogReader.prototype._elCategoryFilters=null;YAHOO.widget.LogReader.prototype._elSourceFilters=null;YAHOO.widget.LogReader.prototype._btnPause=null;YAHOO.widget.LogReader.prototype._btnClear=null;YAHOO.widget.LogReader.prototype._initContainerEl=function(elContainer){elContainer=YAHOO.util.Dom.get(elContainer);if(elContainer&&elContainer.tagName&&(elContainer.tagName.toLowerCase()=="div")){this._elContainer=elContainer;YAHOO.util.Dom.addClass(this._elContainer,"yui-log")}else{this._elContainer=document.body.appendChild(document.createElement("div"));YAHOO.util.Dom.addClass(this._elContainer,"yui-log");YAHOO.util.Dom.addClass(this._elContainer,"yui-log-container");var containerStyle=this._elContainer.style;if(this.width){containerStyle.width=this.width}if(this.right){containerStyle.right=this.right}if(this.top){containerStyle.top=this.top}if(this.left){containerStyle.left=this.left;containerStyle.right="auto"}if(this.bottom){containerStyle.bottom=this.bottom;containerStyle.top="auto"}if(this.fontSize){containerStyle.fontSize=this.fontSize}if(navigator.userAgent.toLowerCase().indexOf("opera")!=-1){document.body.style+=""}}};YAHOO.widget.LogReader.prototype._initHeaderEl=function(){var oSelf=this;if(this._elHd){YAHOO.util.Event.purgeElement(this._elHd,true);this._elHd.innerHTML=""}this._elHd=this._elContainer.appendChild(document.createElement("div"));this._elHd.id="yui-log-hd"+this._sName;this._elHd.className="yui-log-hd";this._elCollapse=this._elHd.appendChild(document.createElement("div"));this._elCollapse.className="yui-log-btns";this._btnCollapse=document.createElement("input");this._btnCollapse.type="button";this._btnCollapse.className="yui-log-button";this._btnCollapse.value="Collapse";this._btnCollapse=this._elCollapse.appendChild(this._btnCollapse);YAHOO.util.Event.addListener(oSelf._btnCollapse,"click",oSelf._onClickCollapseBtn,oSelf);this._title=this._elHd.appendChild(document.createElement("h4"));this._title.innerHTML="Logger Console"};YAHOO.widget.LogReader.prototype._initConsoleEl=function(){if(this._elConsole){YAHOO.util.Event.purgeElement(this._elConsole,true);this._elConsole.innerHTML=""}this._elConsole=this._elContainer.appendChild(document.createElement("div"));this._elConsole.className="yui-log-bd";if(this.height){this._elConsole.style.height=this.height}};YAHOO.widget.LogReader.prototype._initFooterEl=function(){var oSelf=this;if(this.footerEnabled){if(this._elFt){YAHOO.util.Event.purgeElement(this._elFt,true);this._elFt.innerHTML=""}this._elFt=this._elContainer.appendChild(document.createElement("div"));this._elFt.className="yui-log-ft";this._elBtns=this._elFt.appendChild(document.createElement("div"));this._elBtns.className="yui-log-btns";this._btnPause=document.createElement("input");this._btnPause.type="button";this._btnPause.className="yui-log-button";this._btnPause.value="Pause";this._btnPause=this._elBtns.appendChild(this._btnPause);YAHOO.util.Event.addListener(oSelf._btnPause,"click",oSelf._onClickPauseBtn,oSelf);this._btnClear=document.createElement("input");this._btnClear.type="button";this._btnClear.className="yui-log-button";this._btnClear.value="Clear";this._btnClear=this._elBtns.appendChild(this._btnClear);YAHOO.util.Event.addListener(oSelf._btnClear,"click",oSelf._onClickClearBtn,oSelf);this._elCategoryFilters=this._elFt.appendChild(document.createElement("div"));this._elCategoryFilters.className="yui-log-categoryfilters";this._elSourceFilters=this._elFt.appendChild(document.createElement("div"));this._elSourceFilters.className="yui-log-sourcefilters"}};YAHOO.widget.LogReader.prototype._initDragDrop=function(){if(YAHOO.util.DD&&this.draggable&&this._elHd){var ylog_dd=new YAHOO.util.DD(this._elContainer);ylog_dd.setHandleElId(this._elHd.id);this._elHd.style.cursor="move"}};YAHOO.widget.LogReader.prototype._initCategories=function(){this._categoryFilters=[];var aInitialCategories=YAHOO.widget.Logger.categories;for(var j=0;j<aInitialCategories.length;j++){var sCategory=aInitialCategories[j];this._categoryFilters.push(sCategory);if(this._elCategoryFilters){this._createCategoryCheckbox(sCategory)}}};YAHOO.widget.LogReader.prototype._initSources=function(){this._sourceFilters=[];var aInitialSources=YAHOO.widget.Logger.sources;for(var j=0;j<aInitialSources.length;j++){var sSource=aInitialSources[j];this._sourceFilters.push(sSource);if(this._elSourceFilters){this._createSourceCheckbox(sSource)}}};YAHOO.widget.LogReader.prototype._createCategoryCheckbox=function(sCategory){var oSelf=this;if(this._elFt){var elParent=this._elCategoryFilters;var elFilter=elParent.appendChild(document.createElement("span"));elFilter.className="yui-log-filtergrp";var chkCategory=document.createElement("input");chkCategory.id="yui-log-filter-"+sCategory+this._sName;chkCategory.className="yui-log-filter-"+sCategory;chkCategory.type="checkbox";chkCategory.category=sCategory;chkCategory=elFilter.appendChild(chkCategory);chkCategory.checked=true;YAHOO.util.Event.addListener(chkCategory,"click",oSelf._onCheckCategory,oSelf);var lblCategory=elFilter.appendChild(document.createElement("label"));lblCategory.htmlFor=chkCategory.id;lblCategory.className=sCategory;lblCategory.innerHTML=sCategory;this._filterCheckboxes[sCategory]=chkCategory}};YAHOO.widget.LogReader.prototype._createSourceCheckbox=function(sSource){var oSelf=this;if(this._elFt){var elParent=this._elSourceFilters;var elFilter=elParent.appendChild(document.createElement("span"));elFilter.className="yui-log-filtergrp";var chkSource=document.createElement("input");chkSource.id="yui-log-filter"+sSource+this._sName;chkSource.className="yui-log-filter"+sSource;chkSource.type="checkbox";chkSource.source=sSource;chkSource=elFilter.appendChild(chkSource);chkSource.checked=true;YAHOO.util.Event.addListener(chkSource,"click",oSelf._onCheckSource,oSelf);var lblSource=elFilter.appendChild(document.createElement("label"));lblSource.htmlFor=chkSource.id;lblSource.className=sSource;lblSource.innerHTML=sSource;this._filterCheckboxes[sSource]=chkSource}};YAHOO.widget.LogReader.prototype._filterLogs=function(){if(this._elConsole!==null){this.clearConsole();this._printToConsole(YAHOO.widget.Logger.getStack())}};YAHOO.widget.LogReader.prototype._printBuffer=function(){this._timeout=null;if(this._elConsole!==null){var thresholdMax=this.thresholdMax;thresholdMax=(thresholdMax&&!isNaN(thresholdMax))?thresholdMax:500;if(this._consoleMsgCount<thresholdMax){var entries=[];for(var i=0;i<this._buffer.length;i++){entries[i]=this._buffer[i]}this._buffer=[];this._printToConsole(entries)}else{this._filterLogs()}if(!this.newestOnTop){this._elConsole.scrollTop=this._elConsole.scrollHeight}}};YAHOO.widget.LogReader.prototype._printToConsole=function(aEntries){var entriesLen=aEntries.length;var thresholdMin=this.thresholdMin;if(isNaN(thresholdMin)||(thresholdMin>this.thresholdMax)){thresholdMin=0}var entriesStartIndex=(entriesLen>thresholdMin)?(entriesLen-thresholdMin):0;var sourceFiltersLen=this._sourceFilters.length;var categoryFiltersLen=this._categoryFilters.length;for(var i=entriesStartIndex;i<entriesLen;i++){var okToPrint=false;var okToFilterCats=false;var entry=aEntries[i];var source=entry.source;var category=entry.category;for(var j=0;j<sourceFiltersLen;j++){if(source==this._sourceFilters[j]){okToFilterCats=true;break}}if(okToFilterCats){for(var k=0;k<categoryFiltersLen;k++){if(category==this._categoryFilters[k]){okToPrint=true;break}}}if(okToPrint){var output=this.formatMsg(entry);if(this.newestOnTop){this._elConsole.innerHTML=output+this._elConsole.innerHTML}else{this._elConsole.innerHTML+=output}this._consoleMsgCount++;this._lastTime=entry.time.getTime()}}};YAHOO.widget.LogReader.prototype._onCategoryCreate=function(sType,aArgs,oSelf){var category=aArgs[0];oSelf._categoryFilters.push(category);if(oSelf._elFt){oSelf._createCategoryCheckbox(category)}};YAHOO.widget.LogReader.prototype._onSourceCreate=function(sType,aArgs,oSelf){var source=aArgs[0];oSelf._sourceFilters.push(source);if(oSelf._elFt){oSelf._createSourceCheckbox(source)}};YAHOO.widget.LogReader.prototype._onCheckCategory=function(v,oSelf){var category=this.category;if(!this.checked){oSelf.hideCategory(category)}else{oSelf.showCategory(category)}};YAHOO.widget.LogReader.prototype._onCheckSource=function(v,oSelf){var source=this.source;if(!this.checked){oSelf.hideSource(source)}else{oSelf.showSource(source)}};YAHOO.widget.LogReader.prototype._onClickCollapseBtn=function(v,oSelf){if(!oSelf.isCollapsed){oSelf.collapse()}else{oSelf.expand()}};YAHOO.widget.LogReader.prototype._onClickPauseBtn=function(v,oSelf){if(!oSelf.isPaused){oSelf.pause()}else{oSelf.resume()}};YAHOO.widget.LogReader.prototype._onClickClearBtn=function(v,oSelf){oSelf.clearConsole()};YAHOO.widget.LogReader.prototype._onNewLog=function(sType,aArgs,oSelf){var logEntry=aArgs[0];oSelf._buffer.push(logEntry);if(oSelf.logReaderEnabled===true&&oSelf._timeout===null){oSelf._timeout=setTimeout(function(){oSelf._printBuffer()},oSelf.outputBuffer)}};YAHOO.widget.LogReader.prototype._onReset=function(sType,aArgs,oSelf){oSelf._filterLogs()};if(!YAHOO.widget.Logger){YAHOO.widget.Logger={loggerEnabled:true,_browserConsoleEnabled:false,categories:["info","warn","error","time","window"],sources:["global"],_stack:[],maxStackEntries:2500,_startTime:new Date().getTime(),_lastTime:null,_windowErrorsHandled:false,_origOnWindowError:null};YAHOO.widget.Logger.log=function(sMsg,sCategory,sSource){if(this.loggerEnabled){if(!sCategory){sCategory="info"}else{sCategory=sCategory.toLocaleLowerCase();if(this._isNewCategory(sCategory)){this._createNewCategory(sCategory)}}var sClass="global";var sDetail=null;if(sSource){var spaceIndex=sSource.indexOf(" ");if(spaceIndex>0){sClass=sSource.substring(0,spaceIndex);sDetail=sSource.substring(spaceIndex,sSource.length)}else{sClass=sSource}if(this._isNewSource(sClass)){this._createNewSource(sClass)}}var timestamp=new Date();var logEntry=new YAHOO.widget.LogMsg({msg:sMsg,time:timestamp,category:sCategory,source:sClass,sourceDetail:sDetail});var stack=this._stack;var maxStackEntries=this.maxStackEntries;if(maxStackEntries&&!isNaN(maxStackEntries)&&(stack.length>=maxStackEntries)){stack.shift()}stack.push(logEntry);this.newLogEvent.fire(logEntry);if(this._browserConsoleEnabled){this._printToBrowserConsole(logEntry)}return true}else{return false}};YAHOO.widget.Logger.reset=function(){this._stack=[];this._startTime=new Date().getTime();this.loggerEnabled=true;this.log("Logger reset");this.logResetEvent.fire()};YAHOO.widget.Logger.getStack=function(){return this._stack};YAHOO.widget.Logger.getStartTime=function(){return this._startTime};YAHOO.widget.Logger.disableBrowserConsole=function(){YAHOO.log("Logger output to the function console.log() has been disabled.");this._browserConsoleEnabled=false};YAHOO.widget.Logger.enableBrowserConsole=function(){this._browserConsoleEnabled=true;YAHOO.log("Logger output to the function console.log() has been enabled.")};YAHOO.widget.Logger.handleWindowErrors=function(){if(!YAHOO.widget.Logger._windowErrorsHandled){if(window.error){YAHOO.widget.Logger._origOnWindowError=window.onerror}window.onerror=YAHOO.widget.Logger._onWindowError;YAHOO.widget.Logger._windowErrorsHandled=true;YAHOO.log("Logger handling of window.onerror has been enabled.")}else{YAHOO.log("Logger handling of window.onerror had already been enabled.")}};YAHOO.widget.Logger.unhandleWindowErrors=function(){if(YAHOO.widget.Logger._windowErrorsHandled){if(YAHOO.widget.Logger._origOnWindowError){window.onerror=YAHOO.widget.Logger._origOnWindowError;YAHOO.widget.Logger._origOnWindowError=null}else{window.onerror=null}YAHOO.widget.Logger._windowErrorsHandled=false;YAHOO.log("Logger handling of window.onerror has been disabled.")}else{YAHOO.log("Logger handling of window.onerror had already been disabled.")}};YAHOO.widget.Logger.categoryCreateEvent=new YAHOO.util.CustomEvent("categoryCreate",this,true);YAHOO.widget.Logger.sourceCreateEvent=new YAHOO.util.CustomEvent("sourceCreate",this,true);YAHOO.widget.Logger.newLogEvent=new YAHOO.util.CustomEvent("newLog",this,true);YAHOO.widget.Logger.logResetEvent=new YAHOO.util.CustomEvent("logReset",this,true);YAHOO.widget.Logger._createNewCategory=function(sCategory){this.categories.push(sCategory);this.categoryCreateEvent.fire(sCategory)};YAHOO.widget.Logger._isNewCategory=function(sCategory){for(var i=0;i<this.categories.length;i++){if(sCategory==this.categories[i]){return false}}return true};YAHOO.widget.Logger._createNewSource=function(sSource){this.sources.push(sSource);this.sourceCreateEvent.fire(sSource)};YAHOO.widget.Logger._isNewSource=function(sSource){if(sSource){for(var i=0;i<this.sources.length;i++){if(sSource==this.sources[i]){return false}}return true}};YAHOO.widget.Logger._printToBrowserConsole=function(oEntry){if(window.console&&console.log){var category=oEntry.category;var label=oEntry.category.substring(0,4).toUpperCase();var time=oEntry.time;var localTime;if(time.toLocaleTimeString){localTime=time.toLocaleTimeString()}else{localTime=time.toString()}var msecs=time.getTime();var elapsedTime=(YAHOO.widget.Logger._lastTime)?(msecs-YAHOO.widget.Logger._lastTime):0;YAHOO.widget.Logger._lastTime=msecs;var output=localTime+" ("+elapsedTime+"ms): "+oEntry.source+": "+oEntry.msg;console.log(output)}};YAHOO.widget.Logger._onWindowError=function(sMsg,sUrl,sLine){try{YAHOO.widget.Logger.log(sMsg+" ("+sUrl+", line "+sLine+")","window");if(YAHOO.widget.Logger._origOnWindowError){YAHOO.widget.Logger._origOnWindowError()}}catch(e){return false}};YAHOO.widget.Logger.log("Logger initialized")}YAHOO.register("logger",YAHOO.widget.Logger,{version:"2.4.0",build:"733"});(function(){var Dom=YAHOO.util.Dom,Event=YAHOO.util.Event;YAHOO.widget.MenuManager=function(){var m_bInitializedEventHandlers=false,m_oMenus={},m_oVisibleMenus={},m_oItems={},m_oEventTypes={"click":"clickEvent","mousedown":"mouseDownEvent","mouseup":"mouseUpEvent","mouseover":"mouseOverEvent","mouseout":"mouseOutEvent","keydown":"keyDownEvent","keyup":"keyUpEvent","keypress":"keyPressEvent"},m_oFocusedMenuItem=null;function getMenuRootElement(p_oElement){var oParentNode;if(p_oElement&&p_oElement.tagName){switch(p_oElement.tagName.toUpperCase()){case"DIV":oParentNode=p_oElement.parentNode;if((Dom.hasClass(p_oElement,"hd")||Dom.hasClass(p_oElement,"bd")||Dom.hasClass(p_oElement,"ft"))&&oParentNode&&oParentNode.tagName&&oParentNode.tagName.toUpperCase()=="DIV"){return oParentNode}else{return p_oElement}break;case"LI":return p_oElement;default:oParentNode=p_oElement.parentNode;if(oParentNode){return getMenuRootElement(oParentNode)}break}}}function onDOMEvent(p_oEvent){var oTarget=Event.getTarget(p_oEvent),oElement=getMenuRootElement(oTarget),sCustomEventType,sTagName,sId,oMenuItem,oMenu;if(oElement){sTagName=oElement.tagName.toUpperCase();if(sTagName=="LI"){sId=oElement.id;if(sId&&m_oItems[sId]){oMenuItem=m_oItems[sId];oMenu=oMenuItem.parent}}else{if(sTagName=="DIV"){if(oElement.id){oMenu=m_oMenus[oElement.id]}}}}if(oMenu){sCustomEventType=m_oEventTypes[p_oEvent.type];if(oMenuItem&&!oMenuItem.cfg.getProperty("disabled")){oMenuItem[sCustomEventType].fire(p_oEvent);if(p_oEvent.type=="keyup"||p_oEvent.type=="mousedown"){if(m_oFocusedMenuItem!=oMenuItem){if(m_oFocusedMenuItem){m_oFocusedMenuItem.blurEvent.fire()}oMenuItem.focusEvent.fire()}}}oMenu[sCustomEventType].fire(p_oEvent,oMenuItem)}else{if(p_oEvent.type=="mousedown"){if(m_oFocusedMenuItem){m_oFocusedMenuItem.blurEvent.fire();m_oFocusedMenuItem=null}for(var i in m_oVisibleMenus){if(YAHOO.lang.hasOwnProperty(m_oVisibleMenus,i)){oMenu=m_oVisibleMenus[i];if(oMenu.cfg.getProperty("clicktohide")&&!(oMenu instanceof YAHOO.widget.MenuBar)&&oMenu.cfg.getProperty("position")=="dynamic"){oMenu.hide()}else{oMenu.clearActiveItem(true)}}}}else{if(p_oEvent.type=="keyup"){if(m_oFocusedMenuItem){m_oFocusedMenuItem.blurEvent.fire();m_oFocusedMenuItem=null}}}}}function onMenuDestroy(p_sType,p_aArgs,p_oMenu){if(m_oMenus[p_oMenu.id]){this.removeMenu(p_oMenu)}}function onMenuFocus(p_sType,p_aArgs){var oItem=p_aArgs[0];if(oItem){m_oFocusedMenuItem=oItem}}function onMenuBlur(p_sType,p_aArgs){m_oFocusedMenuItem=null}function onMenuVisibleConfigChange(p_sType,p_aArgs){var bVisible=p_aArgs[0],sId=this.id;if(bVisible){m_oVisibleMenus[sId]=this}else{if(m_oVisibleMenus[sId]){delete m_oVisibleMenus[sId]}}}function onItemDestroy(p_sType,p_aArgs){removeItem(this)}function removeItem(p_oMenuItem){var sId=p_oMenuItem.id;if(sId&&m_oItems[sId]){if(m_oFocusedMenuItem==p_oMenuItem){m_oFocusedMenuItem=null}delete m_oItems[sId];p_oMenuItem.destroyEvent.unsubscribe(onItemDestroy)}}function onItemAdded(p_sType,p_aArgs){var oItem=p_aArgs[0],sId;if(oItem instanceof YAHOO.widget.MenuItem){sId=oItem.id;if(!m_oItems[sId]){m_oItems[sId]=oItem;oItem.destroyEvent.subscribe(onItemDestroy)}}}return{addMenu:function(p_oMenu){var oDoc;if(p_oMenu instanceof YAHOO.widget.Menu&&p_oMenu.id&&!m_oMenus[p_oMenu.id]){m_oMenus[p_oMenu.id]=p_oMenu;if(!m_bInitializedEventHandlers){oDoc=document;Event.on(oDoc,"mouseover",onDOMEvent,this,true);Event.on(oDoc,"mouseout",onDOMEvent,this,true);Event.on(oDoc,"mousedown",onDOMEvent,this,true);Event.on(oDoc,"mouseup",onDOMEvent,this,true);Event.on(oDoc,"click",onDOMEvent,this,true);Event.on(oDoc,"keydown",onDOMEvent,this,true);Event.on(oDoc,"keyup",onDOMEvent,this,true);Event.on(oDoc,"keypress",onDOMEvent,this,true);m_bInitializedEventHandlers=true}p_oMenu.cfg.subscribeToConfigEvent("visible",onMenuVisibleConfigChange);p_oMenu.destroyEvent.subscribe(onMenuDestroy,p_oMenu,this);p_oMenu.itemAddedEvent.subscribe(onItemAdded);p_oMenu.focusEvent.subscribe(onMenuFocus);p_oMenu.blurEvent.subscribe(onMenuBlur)}},removeMenu:function(p_oMenu){var sId,aItems,i;if(p_oMenu){sId=p_oMenu.id;if(m_oMenus[sId]==p_oMenu){aItems=p_oMenu.getItems();if(aItems&&aItems.length>0){i=aItems.length-1;do{removeItem(aItems[i])}while(i--)}delete m_oMenus[sId];if(m_oVisibleMenus[sId]==p_oMenu){delete m_oVisibleMenus[sId]}if(p_oMenu.cfg){p_oMenu.cfg.unsubscribeFromConfigEvent("visible",onMenuVisibleConfigChange)}p_oMenu.destroyEvent.unsubscribe(onMenuDestroy,p_oMenu);p_oMenu.itemAddedEvent.unsubscribe(onItemAdded);p_oMenu.focusEvent.unsubscribe(onMenuFocus);p_oMenu.blurEvent.unsubscribe(onMenuBlur)}}},hideVisible:function(){var oMenu;for(var i in m_oVisibleMenus){if(YAHOO.lang.hasOwnProperty(m_oVisibleMenus,i)){oMenu=m_oVisibleMenus[i];if(!(oMenu instanceof YAHOO.widget.MenuBar)&&oMenu.cfg.getProperty("position")=="dynamic"){oMenu.hide()}}}},getVisible:function(){return m_oVisibleMenus},getMenus:function(){return m_oMenus},getMenu:function(p_sId){var oMenu=m_oMenus[p_sId];if(oMenu){return oMenu}},getMenuItem:function(p_sId){var oItem=m_oItems[p_sId];if(oItem){return oItem}},getMenuItemGroup:function(p_sId){var oUL=Dom.get(p_sId),aItems,oNode,oItem,sId;if(oUL&&oUL.tagName&&oUL.tagName.toUpperCase()=="UL"){oNode=oUL.firstChild;if(oNode){aItems=[];do{sId=oNode.id;if(sId){oItem=this.getMenuItem(sId);if(oItem){aItems[aItems.length]=oItem}}}while((oNode=oNode.nextSibling));if(aItems.length>0){return aItems}}}},getFocusedMenuItem:function(){return m_oFocusedMenuItem},getFocusedMenu:function(){if(m_oFocusedMenuItem){return(m_oFocusedMenuItem.parent.getRoot())}},toString:function(){return"MenuManager"}}}()})();(function(){YAHOO.widget.Menu=function(p_oElement,p_oConfig){if(p_oConfig){this.parent=p_oConfig.parent;this.lazyLoad=p_oConfig.lazyLoad||p_oConfig.lazyload;this.itemData=p_oConfig.itemData||p_oConfig.itemdata}YAHOO.widget.Menu.superclass.constructor.call(this,p_oElement,p_oConfig)};function checkPosition(p_sPosition){if(typeof p_sPosition=="string"){return("dynamic,static".indexOf((p_sPosition.toLowerCase()))!=-1)}}var Dom=YAHOO.util.Dom,Event=YAHOO.util.Event,Module=YAHOO.widget.Module,Overlay=YAHOO.widget.Overlay,Menu=YAHOO.widget.Menu,MenuManager=YAHOO.widget.MenuManager,CustomEvent=YAHOO.util.CustomEvent,Lang=YAHOO.lang,UA=YAHOO.env.ua,m_oShadowTemplate,EVENT_TYPES={"MOUSE_OVER":"mouseover","MOUSE_OUT":"mouseout","MOUSE_DOWN":"mousedown","MOUSE_UP":"mouseup","CLICK":"click","KEY_PRESS":"keypress","KEY_DOWN":"keydown","KEY_UP":"keyup","FOCUS":"focus","BLUR":"blur","ITEM_ADDED":"itemAdded","ITEM_REMOVED":"itemRemoved"},DEFAULT_CONFIG={"VISIBLE":{key:"visible",value:false,validator:Lang.isBoolean},"CONSTRAIN_TO_VIEWPORT":{key:"constraintoviewport",value:true,validator:Lang.isBoolean,supercedes:["iframe","x","y","xy"]},"POSITION":{key:"position",value:"dynamic",validator:checkPosition,supercedes:["visible","iframe"]},"SUBMENU_ALIGNMENT":{key:"submenualignment",value:["tl","tr"],suppressEvent:true},"AUTO_SUBMENU_DISPLAY":{key:"autosubmenudisplay",value:true,validator:Lang.isBoolean,suppressEvent:true},"SHOW_DELAY":{key:"showdelay",value:250,validator:Lang.isNumber,suppressEvent:true},"HIDE_DELAY":{key:"hidedelay",value:0,validator:Lang.isNumber,suppressEvent:true},"SUBMENU_HIDE_DELAY":{key:"submenuhidedelay",value:250,validator:Lang.isNumber,suppressEvent:true},"CLICK_TO_HIDE":{key:"clicktohide",value:true,validator:Lang.isBoolean,suppressEvent:true},"CONTAINER":{key:"container",suppressEvent:true},"SCROLL_INCREMENT":{key:"scrollincrement",value:1,validator:Lang.isNumber,supercedes:["maxheight"],suppressEvent:true},"MIN_SCROLL_HEIGHT":{key:"minscrollheight",value:90,validator:Lang.isNumber,supercedes:["maxheight"],suppressEvent:true},"MAX_HEIGHT":{key:"maxheight",value:0,validator:Lang.isNumber,supercedes:["iframe"],suppressEvent:true},"CLASS_NAME":{key:"classname",value:null,validator:Lang.isString,suppressEvent:true},"DISABLED":{key:"disabled",value:false,validator:Lang.isBoolean,suppressEvent:true}};YAHOO.lang.extend(Menu,Overlay,{CSS_CLASS_NAME:"yuimenu",ITEM_TYPE:null,GROUP_TITLE_TAG_NAME:"h6",OFF_SCREEN_POSITION:[-10000,-10000],_nHideDelayId:null,_nShowDelayId:null,_nSubmenuHideDelayId:null,_nBodyScrollId:null,_bHideDelayEventHandlersAssigned:false,_bHandledMouseOverEvent:false,_bHandledMouseOutEvent:false,_aGroupTitleElements:null,_aItemGroups:null,_aListElements:null,_nCurrentMouseX:0,_bStopMouseEventHandlers:false,_sClassName:null,lazyLoad:false,itemData:null,activeItem:null,parent:null,srcElement:null,mouseOverEvent:null,mouseOutEvent:null,mouseDownEvent:null,mouseUpEvent:null,clickEvent:null,keyPressEvent:null,keyDownEvent:null,keyUpEvent:null,itemAddedEvent:null,itemRemovedEvent:null,init:function(p_oElement,p_oConfig){this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuItem}var oElement;if(typeof p_oElement=="string"){oElement=document.getElementById(p_oElement)}else{if(p_oElement.tagName){oElement=p_oElement}}if(oElement&&oElement.tagName){switch(oElement.tagName.toUpperCase()){case"DIV":this.srcElement=oElement;if(!oElement.id){oElement.setAttribute("id",Dom.generateId())}Menu.superclass.init.call(this,oElement);this.beforeInitEvent.fire(Menu);break;case"SELECT":this.srcElement=oElement;Menu.superclass.init.call(this,Dom.generateId());this.beforeInitEvent.fire(Menu);break}}else{Menu.superclass.init.call(this,p_oElement);this.beforeInitEvent.fire(Menu)}if(this.element){Dom.addClass(this.element,this.CSS_CLASS_NAME);this.initEvent.subscribe(this._onInit);this.beforeRenderEvent.subscribe(this._onBeforeRender);this.renderEvent.subscribe(this._onRender);this.renderEvent.subscribe(this.onRender);this.beforeShowEvent.subscribe(this._onBeforeShow);this.hideEvent.subscribe(this.positionOffScreen);this.showEvent.subscribe(this._onShow);this.beforeHideEvent.subscribe(this._onBeforeHide);this.mouseOverEvent.subscribe(this._onMouseOver);this.mouseOutEvent.subscribe(this._onMouseOut);this.clickEvent.subscribe(this._onClick);this.keyDownEvent.subscribe(this._onKeyDown);this.keyPressEvent.subscribe(this._onKeyPress);if(UA.gecko||UA.webkit){this.cfg.subscribeToConfigEvent("y",this._onYChange)}if(p_oConfig){this.cfg.applyConfig(p_oConfig,true)}MenuManager.addMenu(this);this.initEvent.fire(Menu)}},_initSubTree:function(){var oSrcElement=this.srcElement,sSrcElementTagName,nGroup,sGroupTitleTagName,oNode,aListElements,nListElements,i;if(oSrcElement){sSrcElementTagName=(oSrcElement.tagName&&oSrcElement.tagName.toUpperCase());if(sSrcElementTagName=="DIV"){oNode=this.body.firstChild;if(oNode){nGroup=0;sGroupTitleTagName=this.GROUP_TITLE_TAG_NAME.toUpperCase();do{if(oNode&&oNode.tagName){switch(oNode.tagName.toUpperCase()){case sGroupTitleTagName:this._aGroupTitleElements[nGroup]=oNode;break;case"UL":this._aListElements[nGroup]=oNode;this._aItemGroups[nGroup]=[];nGroup++;break}}}while((oNode=oNode.nextSibling));if(this._aListElements[0]){Dom.addClass(this._aListElements[0],"first-of-type")}}}oNode=null;if(sSrcElementTagName){switch(sSrcElementTagName){case"DIV":aListElements=this._aListElements;nListElements=aListElements.length;if(nListElements>0){i=nListElements-1;do{oNode=aListElements[i].firstChild;if(oNode){do{if(oNode&&oNode.tagName&&oNode.tagName.toUpperCase()=="LI"){this.addItem(new this.ITEM_TYPE(oNode,{parent:this}),i)}}while((oNode=oNode.nextSibling))}}while(i--)}break;case"SELECT":oNode=oSrcElement.firstChild;do{if(oNode&&oNode.tagName){switch(oNode.tagName.toUpperCase()){case"OPTGROUP":case"OPTION":this.addItem(new this.ITEM_TYPE(oNode,{parent:this}));break}}}while((oNode=oNode.nextSibling));break}}}},_getFirstEnabledItem:function(){var aItems=this.getItems(),nItems=aItems.length,oItem;for(var i=0;i<nItems;i++){oItem=aItems[i];if(oItem&&!oItem.cfg.getProperty("disabled")&&oItem.element.style.display!="none"){return oItem}}},_addItemToGroup:function(p_nGroupIndex,p_oItem,p_nItemIndex){var oItem,nGroupIndex,aGroup,oGroupItem,bAppend,oNextItemSibling,nItemIndex;function getNextItemSibling(p_aArray,p_nStartIndex){return(p_aArray[p_nStartIndex]||getNextItemSibling(p_aArray,(p_nStartIndex+1)))}if(p_oItem instanceof this.ITEM_TYPE){oItem=p_oItem;oItem.parent=this}else{if(typeof p_oItem=="string"){oItem=new this.ITEM_TYPE(p_oItem,{parent:this})}else{if(typeof p_oItem=="object"){p_oItem.parent=this;oItem=new this.ITEM_TYPE(p_oItem.text,p_oItem)}}}if(oItem){if(oItem.cfg.getProperty("selected")){this.activeItem=oItem}nGroupIndex=typeof p_nGroupIndex=="number"?p_nGroupIndex:0;aGroup=this._getItemGroup(nGroupIndex);if(!aGroup){aGroup=this._createItemGroup(nGroupIndex)}if(typeof p_nItemIndex=="number"){bAppend=(p_nItemIndex>=aGroup.length);if(aGroup[p_nItemIndex]){aGroup.splice(p_nItemIndex,0,oItem)}else{aGroup[p_nItemIndex]=oItem}oGroupItem=aGroup[p_nItemIndex];if(oGroupItem){if(bAppend&&(!oGroupItem.element.parentNode||oGroupItem.element.parentNode.nodeType==11)){this._aListElements[nGroupIndex].appendChild(oGroupItem.element)}else{oNextItemSibling=getNextItemSibling(aGroup,(p_nItemIndex+1));if(oNextItemSibling&&(!oGroupItem.element.parentNode||oGroupItem.element.parentNode.nodeType==11)){this._aListElements[nGroupIndex].insertBefore(oGroupItem.element,oNextItemSibling.element)}}oGroupItem.parent=this;this._subscribeToItemEvents(oGroupItem);this._configureSubmenu(oGroupItem);this._updateItemProperties(nGroupIndex);this.itemAddedEvent.fire(oGroupItem);this.changeContentEvent.fire();return oGroupItem}}else{nItemIndex=aGroup.length;aGroup[nItemIndex]=oItem;oGroupItem=aGroup[nItemIndex];if(oGroupItem){if(!Dom.isAncestor(this._aListElements[nGroupIndex],oGroupItem.element)){this._aListElements[nGroupIndex].appendChild(oGroupItem.element)}oGroupItem.element.setAttribute("groupindex",nGroupIndex);oGroupItem.element.setAttribute("index",nItemIndex);oGroupItem.parent=this;oGroupItem.index=nItemIndex;oGroupItem.groupIndex=nGroupIndex;this._subscribeToItemEvents(oGroupItem);this._configureSubmenu(oGroupItem);if(nItemIndex===0){Dom.addClass(oGroupItem.element,"first-of-type")}this.itemAddedEvent.fire(oGroupItem);this.changeContentEvent.fire();return oGroupItem}}}},_removeItemFromGroupByIndex:function(p_nGroupIndex,p_nItemIndex){var nGroupIndex=typeof p_nGroupIndex=="number"?p_nGroupIndex:0,aGroup=this._getItemGroup(nGroupIndex),aArray,oItem,oUL;if(aGroup){aArray=aGroup.splice(p_nItemIndex,1);oItem=aArray[0];if(oItem){this._updateItemProperties(nGroupIndex);if(aGroup.length===0){oUL=this._aListElements[nGroupIndex];if(this.body&&oUL){this.body.removeChild(oUL)}this._aItemGroups.splice(nGroupIndex,1);this._aListElements.splice(nGroupIndex,1);oUL=this._aListElements[0];if(oUL){Dom.addClass(oUL,"first-of-type")}}this.itemRemovedEvent.fire(oItem);this.changeContentEvent.fire();return oItem}}},_removeItemFromGroupByValue:function(p_nGroupIndex,p_oItem){var aGroup=this._getItemGroup(p_nGroupIndex),nItems,nItemIndex,i;if(aGroup){nItems=aGroup.length;nItemIndex=-1;if(nItems>0){i=nItems-1;do{if(aGroup[i]==p_oItem){nItemIndex=i;break}}while(i--);if(nItemIndex>-1){return(this._removeItemFromGroupByIndex(p_nGroupIndex,nItemIndex))}}}},_updateItemProperties:function(p_nGroupIndex){var aGroup=this._getItemGroup(p_nGroupIndex),nItems=aGroup.length,oItem,oLI,i;if(nItems>0){i=nItems-1;do{oItem=aGroup[i];if(oItem){oLI=oItem.element;oItem.index=i;oItem.groupIndex=p_nGroupIndex;oLI.setAttribute("groupindex",p_nGroupIndex);oLI.setAttribute("index",i);Dom.removeClass(oLI,"first-of-type")}}while(i--);if(oLI){Dom.addClass(oLI,"first-of-type")}}},_createItemGroup:function(p_nIndex){var oUL;if(!this._aItemGroups[p_nIndex]){this._aItemGroups[p_nIndex]=[];oUL=document.createElement("ul");this._aListElements[p_nIndex]=oUL;return this._aItemGroups[p_nIndex]}},_getItemGroup:function(p_nIndex){var nIndex=((typeof p_nIndex=="number")?p_nIndex:0);return this._aItemGroups[nIndex]},_configureSubmenu:function(p_oItem){var oSubmenu=p_oItem.cfg.getProperty("submenu");if(oSubmenu){this.cfg.configChangedEvent.subscribe(this._onParentMenuConfigChange,oSubmenu,true);this.renderEvent.subscribe(this._onParentMenuRender,oSubmenu,true);oSubmenu.beforeShowEvent.subscribe(this._onSubmenuBeforeShow)}},_subscribeToItemEvents:function(p_oItem){p_oItem.focusEvent.subscribe(this._onMenuItemFocus);p_oItem.blurEvent.subscribe(this._onMenuItemBlur);p_oItem.destroyEvent.subscribe(this._onMenuItemDestroy,p_oItem,this);p_oItem.cfg.configChangedEvent.subscribe(this._onMenuItemConfigChange,p_oItem,this)},_onVisibleChange:function(p_sType,p_aArgs){var bVisible=p_aArgs[0];if(bVisible){Dom.addClass(this.element,"visible")}else{Dom.removeClass(this.element,"visible")}},_cancelHideDelay:function(){var oRoot=this.getRoot();if(oRoot._nHideDelayId){window.clearTimeout(oRoot._nHideDelayId)}},_execHideDelay:function(){this._cancelHideDelay();var oRoot=this.getRoot(),me=this;function hideMenu(){if(oRoot.activeItem){oRoot.clearActiveItem()}if(oRoot==me&&!(me instanceof YAHOO.widget.MenuBar)&&me.cfg.getProperty("position")=="dynamic"){me.hide()}}oRoot._nHideDelayId=window.setTimeout(hideMenu,oRoot.cfg.getProperty("hidedelay"))},_cancelShowDelay:function(){var oRoot=this.getRoot();if(oRoot._nShowDelayId){window.clearTimeout(oRoot._nShowDelayId)}},_execShowDelay:function(p_oMenu){var oRoot=this.getRoot();function showMenu(){if(p_oMenu.parent.cfg.getProperty("selected")){p_oMenu.show()}}oRoot._nShowDelayId=window.setTimeout(showMenu,oRoot.cfg.getProperty("showdelay"))},_execSubmenuHideDelay:function(p_oSubmenu,p_nMouseX,p_nHideDelay){var me=this;p_oSubmenu._nSubmenuHideDelayId=window.setTimeout(function(){if(me._nCurrentMouseX>(p_nMouseX+10)){p_oSubmenu._nSubmenuHideDelayId=window.setTimeout(function(){p_oSubmenu.hide()},p_nHideDelay)}else{p_oSubmenu.hide()}},50)},_disableScrollHeader:function(){if(!this._bHeaderDisabled){Dom.addClass(this.header,"topscrollbar_disabled");this._bHeaderDisabled=true}},_disableScrollFooter:function(){if(!this._bFooterDisabled){Dom.addClass(this.footer,"bottomscrollbar_disabled");this._bFooterDisabled=true}},_enableScrollHeader:function(){if(this._bHeaderDisabled){Dom.removeClass(this.header,"topscrollbar_disabled");this._bHeaderDisabled=false}},_enableScrollFooter:function(){if(this._bFooterDisabled){Dom.removeClass(this.footer,"bottomscrollbar_disabled");this._bFooterDisabled=false}},_onMouseOver:function(p_sType,p_aArgs){if(this._bStopMouseEventHandlers){return false}var oEvent=p_aArgs[0],oItem=p_aArgs[1],oTarget=Event.getTarget(oEvent),oParentMenu,nShowDelay,bShowDelay,oActiveItem,oItemCfg,oSubmenu;if(!this._bHandledMouseOverEvent&&(oTarget==this.element||Dom.isAncestor(this.element,oTarget))){this._nCurrentMouseX=0;Event.on(this.element,"mousemove",this._onMouseMove,this,true);this.clearActiveItem();if(this.parent&&this._nSubmenuHideDelayId){window.clearTimeout(this._nSubmenuHideDelayId);this.parent.cfg.setProperty("selected",true);oParentMenu=this.parent.parent;oParentMenu._bHandledMouseOutEvent=true;oParentMenu._bHandledMouseOverEvent=false}this._bHandledMouseOverEvent=true;this._bHandledMouseOutEvent=false}if(oItem&&!oItem.handledMouseOverEvent&&!oItem.cfg.getProperty("disabled")&&(oTarget==oItem.element||Dom.isAncestor(oItem.element,oTarget))){nShowDelay=this.cfg.getProperty("showdelay");bShowDelay=(nShowDelay>0);if(bShowDelay){this._cancelShowDelay()}oActiveItem=this.activeItem;if(oActiveItem){oActiveItem.cfg.setProperty("selected",false)}oItemCfg=oItem.cfg;oItemCfg.setProperty("selected",true);if(this.hasFocus()){oItem.focus()}if(this.cfg.getProperty("autosubmenudisplay")){oSubmenu=oItemCfg.getProperty("submenu");if(oSubmenu){if(bShowDelay){this._execShowDelay(oSubmenu)}else{oSubmenu.show()}}}oItem.handledMouseOverEvent=true;oItem.handledMouseOutEvent=false}},_onMouseOut:function(p_sType,p_aArgs){if(this._bStopMouseEventHandlers){return false}var oEvent=p_aArgs[0],oItem=p_aArgs[1],oRelatedTarget=Event.getRelatedTarget(oEvent),bMovingToSubmenu=false,oItemCfg,oSubmenu,nSubmenuHideDelay,nShowDelay;if(oItem&&!oItem.cfg.getProperty("disabled")){oItemCfg=oItem.cfg;oSubmenu=oItemCfg.getProperty("submenu");if(oSubmenu&&(oRelatedTarget==oSubmenu.element||Dom.isAncestor(oSubmenu.element,oRelatedTarget))){bMovingToSubmenu=true}if(!oItem.handledMouseOutEvent&&((oRelatedTarget!=oItem.element&&!Dom.isAncestor(oItem.element,oRelatedTarget))||bMovingToSubmenu)){if(!bMovingToSubmenu){oItem.cfg.setProperty("selected",false);if(oSubmenu){nSubmenuHideDelay=this.cfg.getProperty("submenuhidedelay");nShowDelay=this.cfg.getProperty("showdelay");if(!(this instanceof YAHOO.widget.MenuBar)&&nSubmenuHideDelay>0&&nShowDelay>=nSubmenuHideDelay){this._execSubmenuHideDelay(oSubmenu,Event.getPageX(oEvent),nSubmenuHideDelay)}else{oSubmenu.hide()}}}oItem.handledMouseOutEvent=true;oItem.handledMouseOverEvent=false}}if(!this._bHandledMouseOutEvent&&((oRelatedTarget!=this.element&&!Dom.isAncestor(this.element,oRelatedTarget))||bMovingToSubmenu)){Event.removeListener(this.element,"mousemove",this._onMouseMove);this._nCurrentMouseX=Event.getPageX(oEvent);this._bHandledMouseOutEvent=true;this._bHandledMouseOverEvent=false}},_onMouseMove:function(p_oEvent,p_oMenu){if(this._bStopMouseEventHandlers){return false}this._nCurrentMouseX=Event.getPageX(p_oEvent)},_onClick:function(p_sType,p_aArgs){var oEvent=p_aArgs[0],oItem=p_aArgs[1],oSubmenu,bInMenuAnchor=false,oRoot,sId,sURL,nHashPos,nLen;if(oItem&&!oItem.cfg.getProperty("disabled")){oSubmenu=oItem.cfg.getProperty("submenu");sURL=oItem.cfg.getProperty("url");if(sURL){nHashPos=sURL.indexOf("#");nLen=sURL.length;if(nHashPos!=-1){sURL=sURL.substr(nHashPos,nLen);nLen=sURL.length;if(nLen>1){sId=sURL.substr(1,nLen);bInMenuAnchor=Dom.isAncestor(this.element,sId)}else{if(nLen===1){bInMenuAnchor=true}}}}if(bInMenuAnchor&&!oItem.cfg.getProperty("target")){Event.preventDefault(oEvent);oItem.focus()}if(!oSubmenu){oRoot=this.getRoot();if(oRoot instanceof YAHOO.widget.MenuBar||oRoot.cfg.getProperty("position")=="static"){oRoot.clearActiveItem()}else{oRoot.hide()}}}},_onKeyDown:function(p_sType,p_aArgs){var oEvent=p_aArgs[0],oItem=p_aArgs[1],me=this,oSubmenu,oItemCfg,oParentItem,oRoot,oNextItem,oBody,nBodyScrollTop,nBodyOffsetHeight,aItems,nItems,nNextItemOffsetTop,nScrollTarget,oParentMenu;function stopMouseEventHandlers(){me._bStopMouseEventHandlers=true;window.setTimeout(function(){me._bStopMouseEventHandlers=false},10)}if(oItem&&!oItem.cfg.getProperty("disabled")){oItemCfg=oItem.cfg;oParentItem=this.parent;switch(oEvent.keyCode){case 38:case 40:oNextItem=(oEvent.keyCode==38)?oItem.getPreviousEnabledSibling():oItem.getNextEnabledSibling();if(oNextItem){this.clearActiveItem();oNextItem.cfg.setProperty("selected",true);oNextItem.focus();if(this.cfg.getProperty("maxheight")>0){oBody=this.body;nBodyScrollTop=oBody.scrollTop;nBodyOffsetHeight=oBody.offsetHeight;aItems=this.getItems();nItems=aItems.length-1;nNextItemOffsetTop=oNextItem.element.offsetTop;if(oEvent.keyCode==40){if(nNextItemOffsetTop>=(nBodyOffsetHeight+nBodyScrollTop)){oBody.scrollTop=nNextItemOffsetTop-nBodyOffsetHeight}else{if(nNextItemOffsetTop<=nBodyScrollTop){oBody.scrollTop=0}}if(oNextItem==aItems[nItems]){oBody.scrollTop=oNextItem.element.offsetTop}}else{if(nNextItemOffsetTop<=nBodyScrollTop){oBody.scrollTop=nNextItemOffsetTop-oNextItem.element.offsetHeight}else{if(nNextItemOffsetTop>=(nBodyScrollTop+nBodyOffsetHeight)){oBody.scrollTop=nNextItemOffsetTop}}if(oNextItem==aItems[0]){oBody.scrollTop=0}}nBodyScrollTop=oBody.scrollTop;nScrollTarget=oBody.scrollHeight-oBody.offsetHeight;if(nBodyScrollTop===0){this._disableScrollHeader();this._enableScrollFooter()}else{if(nBodyScrollTop==nScrollTarget){this._enableScrollHeader();this._disableScrollFooter()}else{this._enableScrollHeader();this._enableScrollFooter()}}}}Event.preventDefault(oEvent);stopMouseEventHandlers();break;case 39:oSubmenu=oItemCfg.getProperty("submenu");if(oSubmenu){if(!oItemCfg.getProperty("selected")){oItemCfg.setProperty("selected",true)}oSubmenu.show();oSubmenu.setInitialFocus();oSubmenu.setInitialSelection()}else{oRoot=this.getRoot();if(oRoot instanceof YAHOO.widget.MenuBar){oNextItem=oRoot.activeItem.getNextEnabledSibling();if(oNextItem){oRoot.clearActiveItem();oNextItem.cfg.setProperty("selected",true);oSubmenu=oNextItem.cfg.getProperty("submenu");if(oSubmenu){oSubmenu.show()}oNextItem.focus()}}}Event.preventDefault(oEvent);stopMouseEventHandlers();break;case 37:if(oParentItem){oParentMenu=oParentItem.parent;if(oParentMenu instanceof YAHOO.widget.MenuBar){oNextItem=oParentMenu.activeItem.getPreviousEnabledSibling();if(oNextItem){oParentMenu.clearActiveItem();oNextItem.cfg.setProperty("selected",true);oSubmenu=oNextItem.cfg.getProperty("submenu");if(oSubmenu){oSubmenu.show()}oNextItem.focus()}}else{this.hide();oParentItem.focus()}}Event.preventDefault(oEvent);stopMouseEventHandlers();break}}if(oEvent.keyCode==27){if(this.cfg.getProperty("position")=="dynamic"){this.hide();if(this.parent){this.parent.focus()}}else{if(this.activeItem){oSubmenu=this.activeItem.cfg.getProperty("submenu");if(oSubmenu&&oSubmenu.cfg.getProperty("visible")){oSubmenu.hide();this.activeItem.focus()}else{this.activeItem.blur();this.activeItem.cfg.setProperty("selected",false)}}}Event.preventDefault(oEvent)}},_onKeyPress:function(p_sType,p_aArgs){var oEvent=p_aArgs[0];if(oEvent.keyCode==40||oEvent.keyCode==38){Event.preventDefault(oEvent)}},_onYChange:function(p_sType,p_aArgs){var oParent=this.parent,nScrollTop,oIFrame,nY;if(oParent){nScrollTop=oParent.parent.body.scrollTop;if(nScrollTop>0){nY=(this.cfg.getProperty("y")-nScrollTop);Dom.setY(this.element,nY);oIFrame=this.iframe;if(oIFrame){Dom.setY(oIFrame,nY)}this.cfg.setProperty("y",nY,true)}}},_onScrollTargetMouseOver:function(p_oEvent,p_oMenu){this._cancelHideDelay();var oTarget=Event.getTarget(p_oEvent),oBody=this.body,me=this,nScrollIncrement=this.cfg.getProperty("scrollincrement"),nScrollTarget,fnScrollFunction;function scrollBodyDown(){var nScrollTop=oBody.scrollTop;if(nScrollTop<nScrollTarget){oBody.scrollTop=(nScrollTop+nScrollIncrement);me._enableScrollHeader()}else{oBody.scrollTop=nScrollTarget;window.clearInterval(me._nBodyScrollId);me._disableScrollFooter()}}function scrollBodyUp(){var nScrollTop=oBody.scrollTop;if(nScrollTop>0){oBody.scrollTop=(nScrollTop-nScrollIncrement);me._enableScrollFooter()}else{oBody.scrollTop=0;window.clearInterval(me._nBodyScrollId);me._disableScrollHeader()}}if(Dom.hasClass(oTarget,"hd")){fnScrollFunction=scrollBodyUp}else{nScrollTarget=oBody.scrollHeight-oBody.offsetHeight;fnScrollFunction=scrollBodyDown}this._nBodyScrollId=window.setInterval(fnScrollFunction,10)},_onScrollTargetMouseOut:function(p_oEvent,p_oMenu){window.clearInterval(this._nBodyScrollId);this._cancelHideDelay()},_onInit:function(p_sType,p_aArgs){this.cfg.subscribeToConfigEvent("visible",this._onVisibleChange);var bRootMenu=!this.parent,bLazyLoad=this.lazyLoad;if(((bRootMenu&&!bLazyLoad)||(bRootMenu&&(this.cfg.getProperty("visible")||this.cfg.getProperty("position")=="static"))||(!bRootMenu&&!bLazyLoad))&&this.getItemGroups().length===0){if(this.srcElement){this._initSubTree()}if(this.itemData){this.addItems(this.itemData)}}else{if(bLazyLoad){this.cfg.fireQueue()}}},_onBeforeRender:function(p_sType,p_aArgs){var oEl=this.element,nListElements=this._aListElements.length,bFirstList=true,i=0,oUL,oGroupTitle;if(nListElements>0){do{oUL=this._aListElements[i];if(oUL){if(bFirstList){Dom.addClass(oUL,"first-of-type");bFirstList=false}if(!Dom.isAncestor(oEl,oUL)){this.appendToBody(oUL)}oGroupTitle=this._aGroupTitleElements[i];if(oGroupTitle){if(!Dom.isAncestor(oEl,oGroupTitle)){oUL.parentNode.insertBefore(oGroupTitle,oUL)}Dom.addClass(oUL,"hastitle")}}i++}while(i<nListElements)}},_onRender:function(p_sType,p_aArgs){if(this.cfg.getProperty("position")=="dynamic"){if(!this.cfg.getProperty("visible")){this.positionOffScreen()}}},_onBeforeShow:function(p_sType,p_aArgs){var nOptions,n,nViewportHeight,oRegion,oSrcElement;if(this.lazyLoad&&this.getItemGroups().length===0){if(this.srcElement){this._initSubTree()}if(this.itemData){if(this.parent&&this.parent.parent&&this.parent.parent.srcElement&&this.parent.parent.srcElement.tagName.toUpperCase()=="SELECT"){nOptions=this.itemData.length;for(n=0;n<nOptions;n++){if(this.itemData[n].tagName){this.addItem((new this.ITEM_TYPE(this.itemData[n])))}}}else{this.addItems(this.itemData)}}oSrcElement=this.srcElement;if(oSrcElement){if(oSrcElement.tagName.toUpperCase()=="SELECT"){if(Dom.inDocument(oSrcElement)){this.render(oSrcElement.parentNode)}else{this.render(this.cfg.getProperty("container"))}}else{this.render()}}else{if(this.parent){this.render(this.parent.element)}else{this.render(this.cfg.getProperty("container"))}}}var nMaxHeight=this.cfg.getProperty("maxheight"),nMinScrollHeight=this.cfg.getProperty("minscrollheight"),bDynamicPos=this.cfg.getProperty("position")=="dynamic";if(!this.parent&&bDynamicPos){this.cfg.refireEvent("xy")}function clearMaxHeight(){this.cfg.setProperty("maxheight",0);this.hideEvent.unsubscribe(clearMaxHeight)}if(!(this instanceof YAHOO.widget.MenuBar)&&bDynamicPos){if(nMaxHeight===0){nViewportHeight=Dom.getViewportHeight();if(this.parent&&this.parent.parent instanceof YAHOO.widget.MenuBar){oRegion=YAHOO.util.Region.getRegion(this.parent.element);nViewportHeight=(nViewportHeight-oRegion.bottom)}if(this.element.offsetHeight>=nViewportHeight){nMaxHeight=(nViewportHeight-(Overlay.VIEWPORT_OFFSET*2));if(nMaxHeight<nMinScrollHeight){nMaxHeight=nMinScrollHeight}this.cfg.setProperty("maxheight",nMaxHeight);this.hideEvent.subscribe(clearMaxHeight)}}}},_onShow:function(p_sType,p_aArgs){var oParent=this.parent,oParentMenu,aParentAlignment,aAlignment;function disableAutoSubmenuDisplay(p_oEvent){var oTarget;if(p_oEvent.type=="mousedown"||(p_oEvent.type=="keydown"&&p_oEvent.keyCode==27)){oTarget=Event.getTarget(p_oEvent);if(oTarget!=oParentMenu.element||!Dom.isAncestor(oParentMenu.element,oTarget)){oParentMenu.cfg.setProperty("autosubmenudisplay",false);Event.removeListener(document,"mousedown",disableAutoSubmenuDisplay);Event.removeListener(document,"keydown",disableAutoSubmenuDisplay)}}}if(oParent){oParentMenu=oParent.parent;aParentAlignment=oParentMenu.cfg.getProperty("submenualignment");aAlignment=this.cfg.getProperty("submenualignment");if((aParentAlignment[0]!=aAlignment[0])&&(aParentAlignment[1]!=aAlignment[1])){this.cfg.setProperty("submenualignment",[aParentAlignment[0],aParentAlignment[1]])}if(!oParentMenu.cfg.getProperty("autosubmenudisplay")&&(oParentMenu instanceof YAHOO.widget.MenuBar||oParentMenu.cfg.getProperty("position")=="static")){oParentMenu.cfg.setProperty("autosubmenudisplay",true);Event.on(document,"mousedown",disableAutoSubmenuDisplay);Event.on(document,"keydown",disableAutoSubmenuDisplay)}}},_onBeforeHide:function(p_sType,p_aArgs){var oActiveItem=this.activeItem,oConfig,oSubmenu;if(oActiveItem){oConfig=oActiveItem.cfg;oConfig.setProperty("selected",false);oSubmenu=oConfig.getProperty("submenu");if(oSubmenu){oSubmenu.hide()}}if(this.getRoot()==this){this.blur()}},_onParentMenuConfigChange:function(p_sType,p_aArgs,p_oSubmenu){var sPropertyName=p_aArgs[0][0],oPropertyValue=p_aArgs[0][1];switch(sPropertyName){case"iframe":case"constraintoviewport":case"hidedelay":case"showdelay":case"submenuhidedelay":case"clicktohide":case"effect":case"classname":case"scrollincrement":case"minscrollheight":p_oSubmenu.cfg.setProperty(sPropertyName,oPropertyValue);break}},_onParentMenuRender:function(p_sType,p_aArgs,p_oSubmenu){var oParentCfg=p_oSubmenu.parent.parent.cfg,oConfig={constraintoviewport:oParentCfg.getProperty("constraintoviewport"),xy:[0,0],clicktohide:oParentCfg.getProperty("clicktohide"),effect:oParentCfg.getProperty("effect"),showdelay:oParentCfg.getProperty("showdelay"),hidedelay:oParentCfg.getProperty("hidedelay"),submenuhidedelay:oParentCfg.getProperty("submenuhidedelay"),classname:oParentCfg.getProperty("classname"),scrollincrement:oParentCfg.getProperty("scrollincrement"),minscrollheight:oParentCfg.getProperty("minscrollheight"),iframe:oParentCfg.getProperty("iframe")},oLI;p_oSubmenu.cfg.applyConfig(oConfig);if(!this.lazyLoad){oLI=this.parent.element;if(this.element.parentNode==oLI){this.render()}else{this.render(oLI)}}},_onSubmenuBeforeShow:function(p_sType,p_aArgs){var oParent=this.parent,aAlignment=oParent.parent.cfg.getProperty("submenualignment");if(!this.cfg.getProperty("context")){this.cfg.setProperty("context",[oParent.element,aAlignment[0],aAlignment[1]])}else{this.align()}},_onMenuItemFocus:function(p_sType,p_aArgs){this.parent.focusEvent.fire(this)},_onMenuItemBlur:function(p_sType,p_aArgs){this.parent.blurEvent.fire(this)},_onMenuItemDestroy:function(p_sType,p_aArgs,p_oItem){this._removeItemFromGroupByValue(p_oItem.groupIndex,p_oItem)},_onMenuItemConfigChange:function(p_sType,p_aArgs,p_oItem){var sPropertyName=p_aArgs[0][0],oPropertyValue=p_aArgs[0][1],oSubmenu;switch(sPropertyName){case"selected":if(oPropertyValue===true){this.activeItem=p_oItem}break;case"submenu":oSubmenu=p_aArgs[0][1];if(oSubmenu){this._configureSubmenu(p_oItem)}break}},enforceConstraints:function(type,args,obj){var oParentMenuItem=this.parent,nViewportOffset=Overlay.VIEWPORT_OFFSET,oElement=this.element,oConfig=this.cfg,pos=args[0],offsetHeight=oElement.offsetHeight,offsetWidth=oElement.offsetWidth,viewPortWidth=Dom.getViewportWidth(),viewPortHeight=Dom.getViewportHeight(),nPadding=(oParentMenuItem&&oParentMenuItem.parent instanceof YAHOO.widget.MenuBar)?0:nViewportOffset,aContext=oConfig.getProperty("context"),oContextElement=aContext?aContext[0]:null,topConstraint,leftConstraint,bottomConstraint,rightConstraint,scrollX,scrollY,x,y;if(offsetWidth<viewPortWidth){x=pos[0];scrollX=Dom.getDocumentScrollLeft();leftConstraint=scrollX+nPadding;rightConstraint=scrollX+viewPortWidth-offsetWidth-nPadding;if(x<nViewportOffset){x=leftConstraint}else{if((x+offsetWidth)>viewPortWidth){if(oContextElement&&((x-oContextElement.offsetWidth)>offsetWidth)){if(oParentMenuItem&&oParentMenuItem.parent instanceof YAHOO.widget.MenuBar){x=(x-(offsetWidth-oContextElement.offsetWidth))}else{x=(x-(oContextElement.offsetWidth+offsetWidth))}}else{x=rightConstraint}}}}if(offsetHeight<viewPortHeight){y=pos[1];scrollY=Dom.getDocumentScrollTop();topConstraint=scrollY+nPadding;bottomConstraint=scrollY+viewPortHeight-offsetHeight-nPadding;if(y<nViewportOffset){y=topConstraint}else{if(y>bottomConstraint){if(oContextElement&&(y>offsetHeight)){y=((y+oContextElement.offsetHeight)-offsetHeight)}else{y=bottomConstraint}}}}oConfig.setProperty("x",x,true);oConfig.setProperty("y",y,true);oConfig.setProperty("xy",[x,y],true)},configVisible:function(p_sType,p_aArgs,p_oMenu){var bVisible,sDisplay;if(this.cfg.getProperty("position")=="dynamic"){Menu.superclass.configVisible.call(this,p_sType,p_aArgs,p_oMenu)}else{bVisible=p_aArgs[0];sDisplay=Dom.getStyle(this.element,"display");Dom.setStyle(this.element,"visibility","visible");if(bVisible){if(sDisplay!="block"){this.beforeShowEvent.fire();Dom.setStyle(this.element,"display","block");this.showEvent.fire()}}else{if(sDisplay=="block"){this.beforeHideEvent.fire();Dom.setStyle(this.element,"display","none");this.hideEvent.fire()}}}},configPosition:function(p_sType,p_aArgs,p_oMenu){var oElement=this.element,sCSSPosition=p_aArgs[0]=="static"?"static":"absolute",oCfg=this.cfg,nZIndex;Dom.setStyle(oElement,"position",sCSSPosition);if(sCSSPosition=="static"){Dom.setStyle(oElement,"display","block");oCfg.setProperty("visible",true)}else{Dom.setStyle(oElement,"visibility","hidden")}if(sCSSPosition=="absolute"){nZIndex=oCfg.getProperty("zindex");if(!nZIndex||nZIndex===0){nZIndex=this.parent?(this.parent.parent.cfg.getProperty("zindex")+1):1;oCfg.setProperty("zindex",nZIndex)}}},configIframe:function(p_sType,p_aArgs,p_oMenu){if(this.cfg.getProperty("position")=="dynamic"){Menu.superclass.configIframe.call(this,p_sType,p_aArgs,p_oMenu)}},configHideDelay:function(p_sType,p_aArgs,p_oMenu){var nHideDelay=p_aArgs[0],oMouseOutEvent=this.mouseOutEvent,oMouseOverEvent=this.mouseOverEvent,oKeyDownEvent=this.keyDownEvent;if(nHideDelay>0){if(!this._bHideDelayEventHandlersAssigned){oMouseOutEvent.subscribe(this._execHideDelay);oMouseOverEvent.subscribe(this._cancelHideDelay);oKeyDownEvent.subscribe(this._cancelHideDelay);this._bHideDelayEventHandlersAssigned=true}}else{oMouseOutEvent.unsubscribe(this._execHideDelay);oMouseOverEvent.unsubscribe(this._cancelHideDelay);oKeyDownEvent.unsubscribe(this._cancelHideDelay);this._bHideDelayEventHandlersAssigned=false}},configContainer:function(p_sType,p_aArgs,p_oMenu){var oElement=p_aArgs[0];if(typeof oElement=="string"){this.cfg.setProperty("container",document.getElementById(oElement),true)}},_setMaxHeight:function(p_sType,p_aArgs,p_nMaxHeight){this.cfg.setProperty("maxheight",p_nMaxHeight);this.renderEvent.unsubscribe(this._setMaxHeight)},configMaxHeight:function(p_sType,p_aArgs,p_oMenu){var nMaxHeight=p_aArgs[0],oElement=this.element,oBody=this.body,oHeader=this.header,oFooter=this.footer,fnMouseOver=this._onScrollTargetMouseOver,fnMouseOut=this._onScrollTargetMouseOut,nMinScrollHeight=this.cfg.getProperty("minscrollheight"),nHeight,nOffsetWidth;if(nMaxHeight!==0&&nMaxHeight<nMinScrollHeight){nMaxHeight=nMinScrollHeight}if(this.lazyLoad&&!oBody){this.renderEvent.unsubscribe(this._setMaxHeight);if(nMaxHeight>0){this.renderEvent.subscribe(this._setMaxHeight,nMaxHeight,this)}return }Dom.setStyle(oBody,"height","");Dom.removeClass(oBody,"yui-menu-body-scrolled");if(UA.gecko&&this.parent&&this.parent.parent&&this.parent.parent.cfg.getProperty("position")=="dynamic"&&!this.cfg.getProperty("width")){nOffsetWidth=oElement.offsetWidth;oElement.style.width=nOffsetWidth+"px";oElement.style.width=(nOffsetWidth-(oElement.offsetWidth-nOffsetWidth))+"px"}if(!oHeader&&!oFooter){this.setHeader("&#32;");this.setFooter("&#32;");oHeader=this.header;oFooter=this.footer;Dom.addClass(oHeader,"topscrollbar");Dom.addClass(oFooter,"bottomscrollbar");oElement.insertBefore(oHeader,oBody);oElement.appendChild(oFooter)}nHeight=(nMaxHeight-(oHeader.offsetHeight+oHeader.offsetHeight));if(nHeight>0&&(oBody.offsetHeight>nMaxHeight)){Dom.addClass(oBody,"yui-menu-body-scrolled");Dom.setStyle(oBody,"height",(nHeight+"px"));Event.on(oHeader,"mouseover",fnMouseOver,this,true);Event.on(oHeader,"mouseout",fnMouseOut,this,true);Event.on(oFooter,"mouseover",fnMouseOver,this,true);Event.on(oFooter,"mouseout",fnMouseOut,this,true);this._disableScrollHeader();this._enableScrollFooter()}else{if(oHeader&&oFooter){this._enableScrollHeader();this._enableScrollFooter();Event.removeListener(oHeader,"mouseover",fnMouseOver);Event.removeListener(oHeader,"mouseout",fnMouseOut);Event.removeListener(oFooter,"mouseover",fnMouseOver);Event.removeListener(oFooter,"mouseout",fnMouseOut);oElement.removeChild(oHeader);oElement.removeChild(oFooter);this.header=null;this.footer=null}}this.cfg.refireEvent("iframe")},configClassName:function(p_sType,p_aArgs,p_oMenu){var sClassName=p_aArgs[0];if(this._sClassName){Dom.removeClass(this.element,this._sClassName)}Dom.addClass(this.element,sClassName);this._sClassName=sClassName},_onItemAdded:function(p_sType,p_aArgs){var oItem=p_aArgs[0];if(oItem){oItem.cfg.setProperty("disabled",true)}},configDisabled:function(p_sType,p_aArgs,p_oMenu){var bDisabled=p_aArgs[0],aItems=this.getItems(),nItems,i;if(Lang.isArray(aItems)){nItems=aItems.length;if(nItems>0){i=nItems-1;do{aItems[i].cfg.setProperty("disabled",bDisabled)}while(i--)}if(bDisabled){this.clearActiveItem(true);Dom.addClass(this.element,"disabled");this.itemAddedEvent.subscribe(this._onItemAdded)}else{Dom.removeClass(this.element,"disabled");this.itemAddedEvent.unsubscribe(this._onItemAdded)}}},onRender:function(p_sType,p_aArgs){function sizeShadow(){var oElement=this.element,oShadow=this._shadow;if(oShadow&&oElement){oShadow.style.width=(oElement.offsetWidth+6)+"px";oShadow.style.height=(oElement.offsetHeight+1)+"px"}}function replaceShadow(){this.element.appendChild(this._shadow)}function addShadowVisibleClass(){Dom.addClass(this._shadow,"yui-menu-shadow-visible")}function removeShadowVisibleClass(){Dom.removeClass(this._shadow,"yui-menu-shadow-visible")}function createShadow(){var oShadow=this._shadow,oElement,me;if(!oShadow){oElement=this.element;me=this;if(!m_oShadowTemplate){m_oShadowTemplate=document.createElement("div");m_oShadowTemplate.className="yui-menu-shadow yui-menu-shadow-visible"}oShadow=m_oShadowTemplate.cloneNode(false);oElement.appendChild(oShadow);this._shadow=oShadow;this.beforeShowEvent.subscribe(addShadowVisibleClass);this.beforeHideEvent.subscribe(removeShadowVisibleClass);if(UA.ie){window.setTimeout(function(){sizeShadow.call(me);me.syncIframe()},0);this.cfg.subscribeToConfigEvent("width",sizeShadow);this.cfg.subscribeToConfigEvent("height",sizeShadow);this.cfg.subscribeToConfigEvent("maxheight",sizeShadow);this.changeContentEvent.subscribe(sizeShadow);Module.textResizeEvent.subscribe(sizeShadow,me,true);this.destroyEvent.subscribe(function(){Module.textResizeEvent.unsubscribe(sizeShadow,me)})}this.cfg.subscribeToConfigEvent("maxheight",replaceShadow)}}function onBeforeShow(){createShadow.call(this);this.beforeShowEvent.unsubscribe(onBeforeShow)}if(this.cfg.getProperty("position")=="dynamic"){if(this.cfg.getProperty("visible")){createShadow.call(this)}else{this.beforeShowEvent.subscribe(onBeforeShow)}}},initEvents:function(){Menu.superclass.initEvents.call(this);var SIGNATURE=CustomEvent.LIST;this.mouseOverEvent=this.createEvent(EVENT_TYPES.MOUSE_OVER);this.mouseOverEvent.signature=SIGNATURE;this.mouseOutEvent=this.createEvent(EVENT_TYPES.MOUSE_OUT);this.mouseOutEvent.signature=SIGNATURE;this.mouseDownEvent=this.createEvent(EVENT_TYPES.MOUSE_DOWN);this.mouseDownEvent.signature=SIGNATURE;this.mouseUpEvent=this.createEvent(EVENT_TYPES.MOUSE_UP);this.mouseUpEvent.signature=SIGNATURE;this.clickEvent=this.createEvent(EVENT_TYPES.CLICK);this.clickEvent.signature=SIGNATURE;this.keyPressEvent=this.createEvent(EVENT_TYPES.KEY_PRESS);this.keyPressEvent.signature=SIGNATURE;this.keyDownEvent=this.createEvent(EVENT_TYPES.KEY_DOWN);this.keyDownEvent.signature=SIGNATURE;this.keyUpEvent=this.createEvent(EVENT_TYPES.KEY_UP);this.keyUpEvent.signature=SIGNATURE;this.focusEvent=this.createEvent(EVENT_TYPES.FOCUS);this.focusEvent.signature=SIGNATURE;this.blurEvent=this.createEvent(EVENT_TYPES.BLUR);this.blurEvent.signature=SIGNATURE;this.itemAddedEvent=this.createEvent(EVENT_TYPES.ITEM_ADDED);this.itemAddedEvent.signature=SIGNATURE;this.itemRemovedEvent=this.createEvent(EVENT_TYPES.ITEM_REMOVED);this.itemRemovedEvent.signature=SIGNATURE},positionOffScreen:function(){var oIFrame=this.iframe,aPos=this.OFF_SCREEN_POSITION;Dom.setXY(this.element,aPos);if(oIFrame){Dom.setXY(oIFrame,aPos)}},getRoot:function(){var oItem=this.parent,oParentMenu;if(oItem){oParentMenu=oItem.parent;return oParentMenu?oParentMenu.getRoot():this}else{return this}},toString:function(){var sReturnVal="Menu",sId=this.id;if(sId){sReturnVal+=(" "+sId)}return sReturnVal},setItemGroupTitle:function(p_sGroupTitle,p_nGroupIndex){var nGroupIndex,oTitle,i,nFirstIndex;if(typeof p_sGroupTitle=="string"&&p_sGroupTitle.length>0){nGroupIndex=typeof p_nGroupIndex=="number"?p_nGroupIndex:0;oTitle=this._aGroupTitleElements[nGroupIndex];if(oTitle){oTitle.innerHTML=p_sGroupTitle}else{oTitle=document.createElement(this.GROUP_TITLE_TAG_NAME);oTitle.innerHTML=p_sGroupTitle;this._aGroupTitleElements[nGroupIndex]=oTitle}i=this._aGroupTitleElements.length-1;do{if(this._aGroupTitleElements[i]){Dom.removeClass(this._aGroupTitleElements[i],"first-of-type");nFirstIndex=i}}while(i--);if(nFirstIndex!==null){Dom.addClass(this._aGroupTitleElements[nFirstIndex],"first-of-type")}this.changeContentEvent.fire()}},addItem:function(p_oItem,p_nGroupIndex){if(p_oItem){return this._addItemToGroup(p_nGroupIndex,p_oItem)}},addItems:function(p_aItems,p_nGroupIndex){var nItems,aItems,oItem,i;if(Lang.isArray(p_aItems)){nItems=p_aItems.length;aItems=[];for(i=0;i<nItems;i++){oItem=p_aItems[i];if(oItem){if(Lang.isArray(oItem)){aItems[aItems.length]=this.addItems(oItem,i)}else{aItems[aItems.length]=this._addItemToGroup(p_nGroupIndex,oItem)}}}if(aItems.length){return aItems}}},insertItem:function(p_oItem,p_nItemIndex,p_nGroupIndex){if(p_oItem){return this._addItemToGroup(p_nGroupIndex,p_oItem,p_nItemIndex)}},removeItem:function(p_oObject,p_nGroupIndex){var oItem;if(typeof p_oObject!="undefined"){if(p_oObject instanceof YAHOO.widget.MenuItem){oItem=this._removeItemFromGroupByValue(p_nGroupIndex,p_oObject)}else{if(typeof p_oObject=="number"){oItem=this._removeItemFromGroupByIndex(p_nGroupIndex,p_oObject)}}if(oItem){oItem.destroy();return oItem}}},getItems:function(){var aGroups=this._aItemGroups,nGroups,aItems=[];if(Lang.isArray(aGroups)){nGroups=aGroups.length;return((nGroups==1)?aGroups[0]:(Array.prototype.concat.apply(aItems,aGroups)))}},getItemGroups:function(){return this._aItemGroups},getItem:function(p_nItemIndex,p_nGroupIndex){var aGroup;if(typeof p_nItemIndex=="number"){aGroup=this._getItemGroup(p_nGroupIndex);if(aGroup){return aGroup[p_nItemIndex]}}},getSubmenus:function(){var aItems=this.getItems(),nItems=aItems.length,aSubmenus,oSubmenu,oItem,i;if(nItems>0){aSubmenus=[];for(i=0;i<nItems;i++){oItem=aItems[i];if(oItem){oSubmenu=oItem.cfg.getProperty("submenu");if(oSubmenu){aSubmenus[aSubmenus.length]=oSubmenu}}}}return aSubmenus},clearContent:function(){var aItems=this.getItems(),nItems=aItems.length,oElement=this.element,oBody=this.body,oHeader=this.header,oFooter=this.footer,oItem,oSubmenu,i;if(nItems>0){i=nItems-1;do{oItem=aItems[i];if(oItem){oSubmenu=oItem.cfg.getProperty("submenu");if(oSubmenu){this.cfg.configChangedEvent.unsubscribe(this._onParentMenuConfigChange,oSubmenu);this.renderEvent.unsubscribe(this._onParentMenuRender,oSubmenu)}this.removeItem(oItem)}}while(i--)}if(oHeader){Event.purgeElement(oHeader);oElement.removeChild(oHeader)}if(oFooter){Event.purgeElement(oFooter);oElement.removeChild(oFooter)}if(oBody){Event.purgeElement(oBody);oBody.innerHTML=""}this.activeItem=null;this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];this.cfg.setProperty("width",null)},destroy:function(){this.clearContent();this._aItemGroups=null;this._aListElements=null;this._aGroupTitleElements=null;Menu.superclass.destroy.call(this)},setInitialFocus:function(){var oItem=this._getFirstEnabledItem();if(oItem){oItem.focus()}},setInitialSelection:function(){var oItem=this._getFirstEnabledItem();if(oItem){oItem.cfg.setProperty("selected",true)}},clearActiveItem:function(p_bBlur){if(this.cfg.getProperty("showdelay")>0){this._cancelShowDelay()}var oActiveItem=this.activeItem,oConfig,oSubmenu;if(oActiveItem){oConfig=oActiveItem.cfg;if(p_bBlur){oActiveItem.blur()}oConfig.setProperty("selected",false);oSubmenu=oConfig.getProperty("submenu");if(oSubmenu){oSubmenu.hide()}this.activeItem=null}},focus:function(){if(!this.hasFocus()){this.setInitialFocus()}},blur:function(){var oItem;if(this.hasFocus()){oItem=MenuManager.getFocusedMenuItem();if(oItem){oItem.blur()}}},hasFocus:function(){return(MenuManager.getFocusedMenu()==this.getRoot())},subscribe:function(){function onItemAdded(p_sType,p_aArgs,p_oObject){var oItem=p_aArgs[0],oSubmenu=oItem.cfg.getProperty("submenu");if(oSubmenu){oSubmenu.subscribe.apply(oSubmenu,p_oObject)}}function onSubmenuAdded(p_sType,p_aArgs,p_oObject){var oSubmenu=this.cfg.getProperty("submenu");if(oSubmenu){oSubmenu.subscribe.apply(oSubmenu,p_oObject)}}Menu.superclass.subscribe.apply(this,arguments);Menu.superclass.subscribe.call(this,"itemAdded",onItemAdded,arguments);var aItems=this.getItems(),nItems,oItem,oSubmenu,i;if(aItems){nItems=aItems.length;if(nItems>0){i=nItems-1;do{oItem=aItems[i];oSubmenu=oItem.cfg.getProperty("submenu");if(oSubmenu){oSubmenu.subscribe.apply(oSubmenu,arguments)}else{oItem.cfg.subscribeToConfigEvent("submenu",onSubmenuAdded,arguments)}}while(i--)}}},initDefaultConfig:function(){Menu.superclass.initDefaultConfig.call(this);var oConfig=this.cfg;oConfig.addProperty(DEFAULT_CONFIG.VISIBLE.key,{handler:this.configVisible,value:DEFAULT_CONFIG.VISIBLE.value,validator:DEFAULT_CONFIG.VISIBLE.validator});oConfig.addProperty(DEFAULT_CONFIG.CONSTRAIN_TO_VIEWPORT.key,{handler:this.configConstrainToViewport,value:DEFAULT_CONFIG.CONSTRAIN_TO_VIEWPORT.value,validator:DEFAULT_CONFIG.CONSTRAIN_TO_VIEWPORT.validator,supercedes:DEFAULT_CONFIG.CONSTRAIN_TO_VIEWPORT.supercedes});oConfig.addProperty(DEFAULT_CONFIG.POSITION.key,{handler:this.configPosition,value:DEFAULT_CONFIG.POSITION.value,validator:DEFAULT_CONFIG.POSITION.validator,supercedes:DEFAULT_CONFIG.POSITION.supercedes});oConfig.addProperty(DEFAULT_CONFIG.SUBMENU_ALIGNMENT.key,{value:DEFAULT_CONFIG.SUBMENU_ALIGNMENT.value,suppressEvent:DEFAULT_CONFIG.SUBMENU_ALIGNMENT.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.AUTO_SUBMENU_DISPLAY.key,{value:DEFAULT_CONFIG.AUTO_SUBMENU_DISPLAY.value,validator:DEFAULT_CONFIG.AUTO_SUBMENU_DISPLAY.validator,suppressEvent:DEFAULT_CONFIG.AUTO_SUBMENU_DISPLAY.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.SHOW_DELAY.key,{value:DEFAULT_CONFIG.SHOW_DELAY.value,validator:DEFAULT_CONFIG.SHOW_DELAY.validator,suppressEvent:DEFAULT_CONFIG.SHOW_DELAY.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.HIDE_DELAY.key,{handler:this.configHideDelay,value:DEFAULT_CONFIG.HIDE_DELAY.value,validator:DEFAULT_CONFIG.HIDE_DELAY.validator,suppressEvent:DEFAULT_CONFIG.HIDE_DELAY.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.SUBMENU_HIDE_DELAY.key,{value:DEFAULT_CONFIG.SUBMENU_HIDE_DELAY.value,validator:DEFAULT_CONFIG.SUBMENU_HIDE_DELAY.validator,suppressEvent:DEFAULT_CONFIG.SUBMENU_HIDE_DELAY.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.CLICK_TO_HIDE.key,{value:DEFAULT_CONFIG.CLICK_TO_HIDE.value,validator:DEFAULT_CONFIG.CLICK_TO_HIDE.validator,suppressEvent:DEFAULT_CONFIG.CLICK_TO_HIDE.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.CONTAINER.key,{handler:this.configContainer,value:document.body,suppressEvent:DEFAULT_CONFIG.CONTAINER.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.SCROLL_INCREMENT.key,{value:DEFAULT_CONFIG.SCROLL_INCREMENT.value,validator:DEFAULT_CONFIG.SCROLL_INCREMENT.validator,supercedes:DEFAULT_CONFIG.SCROLL_INCREMENT.supercedes,suppressEvent:DEFAULT_CONFIG.SCROLL_INCREMENT.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.MIN_SCROLL_HEIGHT.key,{value:DEFAULT_CONFIG.MIN_SCROLL_HEIGHT.value,validator:DEFAULT_CONFIG.MIN_SCROLL_HEIGHT.validator,supercedes:DEFAULT_CONFIG.MIN_SCROLL_HEIGHT.supercedes,suppressEvent:DEFAULT_CONFIG.MIN_SCROLL_HEIGHT.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.MAX_HEIGHT.key,{handler:this.configMaxHeight,value:DEFAULT_CONFIG.MAX_HEIGHT.value,validator:DEFAULT_CONFIG.MAX_HEIGHT.validator,suppressEvent:DEFAULT_CONFIG.MAX_HEIGHT.suppressEvent,supercedes:DEFAULT_CONFIG.MAX_HEIGHT.supercedes});oConfig.addProperty(DEFAULT_CONFIG.CLASS_NAME.key,{handler:this.configClassName,value:DEFAULT_CONFIG.CLASS_NAME.value,validator:DEFAULT_CONFIG.CLASS_NAME.validator,supercedes:DEFAULT_CONFIG.CLASS_NAME.supercedes});oConfig.addProperty(DEFAULT_CONFIG.DISABLED.key,{handler:this.configDisabled,value:DEFAULT_CONFIG.DISABLED.value,validator:DEFAULT_CONFIG.DISABLED.validator,suppressEvent:DEFAULT_CONFIG.DISABLED.suppressEvent})}})})();(function(){YAHOO.widget.MenuItem=function(p_oObject,p_oConfig){if(p_oObject){if(p_oConfig){this.parent=p_oConfig.parent;this.value=p_oConfig.value;this.id=p_oConfig.id}this.init(p_oObject,p_oConfig)}};var Dom=YAHOO.util.Dom,Module=YAHOO.widget.Module,Menu=YAHOO.widget.Menu,MenuItem=YAHOO.widget.MenuItem,CustomEvent=YAHOO.util.CustomEvent,Lang=YAHOO.lang,m_oMenuItemTemplate,EVENT_TYPES={"MOUSE_OVER":"mouseover","MOUSE_OUT":"mouseout","MOUSE_DOWN":"mousedown","MOUSE_UP":"mouseup","CLICK":"click","KEY_PRESS":"keypress","KEY_DOWN":"keydown","KEY_UP":"keyup","ITEM_ADDED":"itemAdded","ITEM_REMOVED":"itemRemoved","FOCUS":"focus","BLUR":"blur","DESTROY":"destroy"},DEFAULT_CONFIG={"TEXT":{key:"text",value:"",validator:Lang.isString,suppressEvent:true},"HELP_TEXT":{key:"helptext",supercedes:["text"],suppressEvent:true},"URL":{key:"url",value:"#",suppressEvent:true},"TARGET":{key:"target",suppressEvent:true},"EMPHASIS":{key:"emphasis",value:false,validator:Lang.isBoolean,suppressEvent:true,supercedes:["text"]},"STRONG_EMPHASIS":{key:"strongemphasis",value:false,validator:Lang.isBoolean,suppressEvent:true,supercedes:["text"]},"CHECKED":{key:"checked",value:false,validator:Lang.isBoolean,suppressEvent:true,supercedes:["disabled","selected"]},"SUBMENU":{key:"submenu",suppressEvent:true,supercedes:["disabled","selected"]},"DISABLED":{key:"disabled",value:false,validator:Lang.isBoolean,suppressEvent:true,supercedes:["text","selected"]},"SELECTED":{key:"selected",value:false,validator:Lang.isBoolean,suppressEvent:true},"ONCLICK":{key:"onclick",suppressEvent:true},"CLASS_NAME":{key:"classname",value:null,validator:Lang.isString,suppressEvent:true}};MenuItem.prototype={CSS_CLASS_NAME:"yuimenuitem",CSS_LABEL_CLASS_NAME:"yuimenuitemlabel",SUBMENU_TYPE:null,_oAnchor:null,_oHelpTextEM:null,_oSubmenu:null,_oOnclickAttributeValue:null,_sClassName:null,constructor:MenuItem,index:null,groupIndex:null,parent:null,element:null,srcElement:null,value:null,browser:Module.prototype.browser,id:null,destroyEvent:null,mouseOverEvent:null,mouseOutEvent:null,mouseDownEvent:null,mouseUpEvent:null,clickEvent:null,keyPressEvent:null,keyDownEvent:null,keyUpEvent:null,focusEvent:null,blurEvent:null,init:function(p_oObject,p_oConfig){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=Menu}this.cfg=new YAHOO.util.Config(this);this.initDefaultConfig();var SIGNATURE=CustomEvent.LIST,oConfig=this.cfg,sURL="#",oAnchor,sTarget,sText,sId;if(Lang.isString(p_oObject)){this._createRootNodeStructure();oConfig.queueProperty("text",p_oObject)}else{if(p_oObject&&p_oObject.tagName){switch(p_oObject.tagName.toUpperCase()){case"OPTION":this._createRootNodeStructure();oConfig.queueProperty("text",p_oObject.text);oConfig.queueProperty("disabled",p_oObject.disabled);this.value=p_oObject.value;this.srcElement=p_oObject;break;case"OPTGROUP":this._createRootNodeStructure();oConfig.queueProperty("text",p_oObject.label);oConfig.queueProperty("disabled",p_oObject.disabled);this.srcElement=p_oObject;this._initSubTree();break;case"LI":oAnchor=Dom.getFirstChild(p_oObject);if(oAnchor){sURL=oAnchor.getAttribute("href");sTarget=oAnchor.getAttribute("target");sText=oAnchor.innerHTML}this.srcElement=p_oObject;this.element=p_oObject;this._oAnchor=oAnchor;oConfig.setProperty("text",sText,true);oConfig.setProperty("url",sURL,true);oConfig.setProperty("target",sTarget,true);this._initSubTree();break}}}if(this.element){sId=(this.srcElement||this.element).id;if(!sId){sId=this.id||Dom.generateId();this.element.id=sId}this.id=sId;Dom.addClass(this.element,this.CSS_CLASS_NAME);Dom.addClass(this._oAnchor,this.CSS_LABEL_CLASS_NAME);this.mouseOverEvent=this.createEvent(EVENT_TYPES.MOUSE_OVER);this.mouseOverEvent.signature=SIGNATURE;this.mouseOutEvent=this.createEvent(EVENT_TYPES.MOUSE_OUT);this.mouseOutEvent.signature=SIGNATURE;this.mouseDownEvent=this.createEvent(EVENT_TYPES.MOUSE_DOWN);this.mouseDownEvent.signature=SIGNATURE;this.mouseUpEvent=this.createEvent(EVENT_TYPES.MOUSE_UP);this.mouseUpEvent.signature=SIGNATURE;this.clickEvent=this.createEvent(EVENT_TYPES.CLICK);this.clickEvent.signature=SIGNATURE;this.keyPressEvent=this.createEvent(EVENT_TYPES.KEY_PRESS);this.keyPressEvent.signature=SIGNATURE;this.keyDownEvent=this.createEvent(EVENT_TYPES.KEY_DOWN);this.keyDownEvent.signature=SIGNATURE;this.keyUpEvent=this.createEvent(EVENT_TYPES.KEY_UP);this.keyUpEvent.signature=SIGNATURE;this.focusEvent=this.createEvent(EVENT_TYPES.FOCUS);this.focusEvent.signature=SIGNATURE;this.blurEvent=this.createEvent(EVENT_TYPES.BLUR);this.blurEvent.signature=SIGNATURE;this.destroyEvent=this.createEvent(EVENT_TYPES.DESTROY);this.destroyEvent.signature=SIGNATURE;if(p_oConfig){oConfig.applyConfig(p_oConfig)}oConfig.fireQueue()}},_createRootNodeStructure:function(){var oElement,oAnchor;if(!m_oMenuItemTemplate){m_oMenuItemTemplate=document.createElement("li");m_oMenuItemTemplate.innerHTML='<a href="#"></a>'}oElement=m_oMenuItemTemplate.cloneNode(true);oElement.className=this.CSS_CLASS_NAME;oAnchor=oElement.firstChild;oAnchor.className=this.CSS_LABEL_CLASS_NAME;this.element=oElement;this._oAnchor=oAnchor},_initSubTree:function(){var oSrcEl=this.srcElement,oConfig=this.cfg,oNode,aOptions,nOptions,oMenu,n;if(oSrcEl.childNodes.length>0){if(this.parent.lazyLoad&&this.parent.srcElement&&this.parent.srcElement.tagName.toUpperCase()=="SELECT"){oConfig.setProperty("submenu",{id:Dom.generateId(),itemdata:oSrcEl.childNodes})}else{oNode=oSrcEl.firstChild;aOptions=[];do{if(oNode&&oNode.tagName){switch(oNode.tagName.toUpperCase()){case"DIV":oConfig.setProperty("submenu",oNode);break;case"OPTION":aOptions[aOptions.length]=oNode;break}}}while((oNode=oNode.nextSibling));nOptions=aOptions.length;if(nOptions>0){oMenu=new this.SUBMENU_TYPE(Dom.generateId());oConfig.setProperty("submenu",oMenu);for(n=0;n<nOptions;n++){oMenu.addItem((new oMenu.ITEM_TYPE(aOptions[n])))}}}}},configText:function(p_sType,p_aArgs,p_oItem){var sText=p_aArgs[0],oConfig=this.cfg,oAnchor=this._oAnchor,sHelpText=oConfig.getProperty("helptext"),sHelpTextHTML="",sEmphasisStartTag="",sEmphasisEndTag="";if(sText){if(sHelpText){sHelpTextHTML='<em class="helptext">'+sHelpText+"</em>"}if(oConfig.getProperty("emphasis")){sEmphasisStartTag="<em>";sEmphasisEndTag="</em>"}if(oConfig.getProperty("strongemphasis")){sEmphasisStartTag="<strong>";sEmphasisEndTag="</strong>"}oAnchor.innerHTML=(sEmphasisStartTag+sText+sEmphasisEndTag+sHelpTextHTML)}},configHelpText:function(p_sType,p_aArgs,p_oItem){this.cfg.refireEvent("text")},configURL:function(p_sType,p_aArgs,p_oItem){var sURL=p_aArgs[0];if(!sURL){sURL="#"}var oAnchor=this._oAnchor;if(YAHOO.env.ua.opera){oAnchor.removeAttribute("href")}oAnchor.setAttribute("href",sURL)},configTarget:function(p_sType,p_aArgs,p_oItem){var sTarget=p_aArgs[0],oAnchor=this._oAnchor;if(sTarget&&sTarget.length>0){oAnchor.setAttribute("target",sTarget)}else{oAnchor.removeAttribute("target")}},configEmphasis:function(p_sType,p_aArgs,p_oItem){var bEmphasis=p_aArgs[0],oConfig=this.cfg;if(bEmphasis&&oConfig.getProperty("strongemphasis")){oConfig.setProperty("strongemphasis",false)}oConfig.refireEvent("text")},configStrongEmphasis:function(p_sType,p_aArgs,p_oItem){var bStrongEmphasis=p_aArgs[0],oConfig=this.cfg;if(bStrongEmphasis&&oConfig.getProperty("emphasis")){oConfig.setProperty("emphasis",false)}oConfig.refireEvent("text")},configChecked:function(p_sType,p_aArgs,p_oItem){var bChecked=p_aArgs[0],oElement=this.element,oAnchor=this._oAnchor,oConfig=this.cfg,sState="-checked",sClassName=this.CSS_CLASS_NAME+sState,sLabelClassName=this.CSS_LABEL_CLASS_NAME+sState;if(bChecked){Dom.addClass(oElement,sClassName);Dom.addClass(oAnchor,sLabelClassName)}else{Dom.removeClass(oElement,sClassName);Dom.removeClass(oAnchor,sLabelClassName)}oConfig.refireEvent("text");if(oConfig.getProperty("disabled")){oConfig.refireEvent("disabled")}if(oConfig.getProperty("selected")){oConfig.refireEvent("selected")}},configDisabled:function(p_sType,p_aArgs,p_oItem){var bDisabled=p_aArgs[0],oConfig=this.cfg,oSubmenu=oConfig.getProperty("submenu"),bChecked=oConfig.getProperty("checked"),oElement=this.element,oAnchor=this._oAnchor,sState="-disabled",sCheckedState="-checked"+sState,sSubmenuState="-hassubmenu"+sState,sClassName=this.CSS_CLASS_NAME+sState,sLabelClassName=this.CSS_LABEL_CLASS_NAME+sState,sCheckedClassName=this.CSS_CLASS_NAME+sCheckedState,sLabelCheckedClassName=this.CSS_LABEL_CLASS_NAME+sCheckedState,sSubmenuClassName=this.CSS_CLASS_NAME+sSubmenuState,sLabelSubmenuClassName=this.CSS_LABEL_CLASS_NAME+sSubmenuState;if(bDisabled){if(oConfig.getProperty("selected")){oConfig.setProperty("selected",false)}Dom.addClass(oElement,sClassName);Dom.addClass(oAnchor,sLabelClassName);if(oSubmenu){Dom.addClass(oElement,sSubmenuClassName);Dom.addClass(oAnchor,sLabelSubmenuClassName)}if(bChecked){Dom.addClass(oElement,sCheckedClassName);Dom.addClass(oAnchor,sLabelCheckedClassName)}}else{Dom.removeClass(oElement,sClassName);Dom.removeClass(oAnchor,sLabelClassName);if(oSubmenu){Dom.removeClass(oElement,sSubmenuClassName);Dom.removeClass(oAnchor,sLabelSubmenuClassName)}if(bChecked){Dom.removeClass(oElement,sCheckedClassName);Dom.removeClass(oAnchor,sLabelCheckedClassName)}}},configSelected:function(p_sType,p_aArgs,p_oItem){var oConfig=this.cfg,bSelected=p_aArgs[0],oElement=this.element,oAnchor=this._oAnchor,bChecked=oConfig.getProperty("checked"),oSubmenu=oConfig.getProperty("submenu"),sState="-selected",sCheckedState="-checked"+sState,sSubmenuState="-hassubmenu"+sState,sClassName=this.CSS_CLASS_NAME+sState,sLabelClassName=this.CSS_LABEL_CLASS_NAME+sState,sCheckedClassName=this.CSS_CLASS_NAME+sCheckedState,sLabelCheckedClassName=this.CSS_LABEL_CLASS_NAME+sCheckedState,sSubmenuClassName=this.CSS_CLASS_NAME+sSubmenuState,sLabelSubmenuClassName=this.CSS_LABEL_CLASS_NAME+sSubmenuState;if(YAHOO.env.ua.opera){oAnchor.blur()}if(bSelected&&!oConfig.getProperty("disabled")){Dom.addClass(oElement,sClassName);Dom.addClass(oAnchor,sLabelClassName);if(oSubmenu){Dom.addClass(oElement,sSubmenuClassName);Dom.addClass(oAnchor,sLabelSubmenuClassName)}if(bChecked){Dom.addClass(oElement,sCheckedClassName);Dom.addClass(oAnchor,sLabelCheckedClassName)}}else{Dom.removeClass(oElement,sClassName);Dom.removeClass(oAnchor,sLabelClassName);if(oSubmenu){Dom.removeClass(oElement,sSubmenuClassName);Dom.removeClass(oAnchor,sLabelSubmenuClassName)}if(bChecked){Dom.removeClass(oElement,sCheckedClassName);Dom.removeClass(oAnchor,sLabelCheckedClassName)}}if(this.hasFocus()&&YAHOO.env.ua.opera){oAnchor.focus()}},_onSubmenuBeforeHide:function(p_sType,p_aArgs){var oItem=this.parent,oMenu;function onHide(){oItem._oAnchor.blur();oMenu.beforeHideEvent.unsubscribe(onHide)}if(oItem.hasFocus()){oMenu=oItem.parent;oMenu.beforeHideEvent.subscribe(onHide)}},configSubmenu:function(p_sType,p_aArgs,p_oItem){var oSubmenu=p_aArgs[0],oConfig=this.cfg,oElement=this.element,oAnchor=this._oAnchor,bLazyLoad=this.parent&&this.parent.lazyLoad,sState="-hassubmenu",sClassName=this.CSS_CLASS_NAME+sState,sLabelClassName=this.CSS_LABEL_CLASS_NAME+sState,oMenu,sSubmenuId,oSubmenuConfig;if(oSubmenu){if(oSubmenu instanceof Menu){oMenu=oSubmenu;oMenu.parent=this;oMenu.lazyLoad=bLazyLoad}else{if(typeof oSubmenu=="object"&&oSubmenu.id&&!oSubmenu.nodeType){sSubmenuId=oSubmenu.id;oSubmenuConfig=oSubmenu;oSubmenuConfig.lazyload=bLazyLoad;oSubmenuConfig.parent=this;oMenu=new this.SUBMENU_TYPE(sSubmenuId,oSubmenuConfig);oConfig.setProperty("submenu",oMenu,true)}else{oMenu=new this.SUBMENU_TYPE(oSubmenu,{lazyload:bLazyLoad,parent:this});oConfig.setProperty("submenu",oMenu,true)}}if(oMenu){Dom.addClass(oElement,sClassName);Dom.addClass(oAnchor,sLabelClassName);this._oSubmenu=oMenu;if(YAHOO.env.ua.opera){oMenu.beforeHideEvent.subscribe(this._onSubmenuBeforeHide)}}}else{Dom.removeClass(oElement,sClassName);Dom.removeClass(oAnchor,sLabelClassName);if(this._oSubmenu){this._oSubmenu.destroy()}}if(oConfig.getProperty("disabled")){oConfig.refireEvent("disabled")}if(oConfig.getProperty("selected")){oConfig.refireEvent("selected")}},configOnClick:function(p_sType,p_aArgs,p_oItem){var oObject=p_aArgs[0];if(this._oOnclickAttributeValue&&(this._oOnclickAttributeValue!=oObject)){this.clickEvent.unsubscribe(this._oOnclickAttributeValue.fn,this._oOnclickAttributeValue.obj);this._oOnclickAttributeValue=null}if(!this._oOnclickAttributeValue&&typeof oObject=="object"&&typeof oObject.fn=="function"){this.clickEvent.subscribe(oObject.fn,((!YAHOO.lang.isUndefined(oObject.obj))?oObject.obj:this),oObject.scope);this._oOnclickAttributeValue=oObject}},configClassName:function(p_sType,p_aArgs,p_oItem){var sClassName=p_aArgs[0];if(this._sClassName){Dom.removeClass(this.element,this._sClassName)}Dom.addClass(this.element,sClassName);this._sClassName=sClassName},initDefaultConfig:function(){var oConfig=this.cfg;oConfig.addProperty(DEFAULT_CONFIG.TEXT.key,{handler:this.configText,value:DEFAULT_CONFIG.TEXT.value,validator:DEFAULT_CONFIG.TEXT.validator,suppressEvent:DEFAULT_CONFIG.TEXT.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.HELP_TEXT.key,{handler:this.configHelpText,supercedes:DEFAULT_CONFIG.HELP_TEXT.supercedes,suppressEvent:DEFAULT_CONFIG.HELP_TEXT.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.URL.key,{handler:this.configURL,value:DEFAULT_CONFIG.URL.value,suppressEvent:DEFAULT_CONFIG.URL.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.TARGET.key,{handler:this.configTarget,suppressEvent:DEFAULT_CONFIG.TARGET.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.EMPHASIS.key,{handler:this.configEmphasis,value:DEFAULT_CONFIG.EMPHASIS.value,validator:DEFAULT_CONFIG.EMPHASIS.validator,suppressEvent:DEFAULT_CONFIG.EMPHASIS.suppressEvent,supercedes:DEFAULT_CONFIG.EMPHASIS.supercedes});oConfig.addProperty(DEFAULT_CONFIG.STRONG_EMPHASIS.key,{handler:this.configStrongEmphasis,value:DEFAULT_CONFIG.STRONG_EMPHASIS.value,validator:DEFAULT_CONFIG.STRONG_EMPHASIS.validator,suppressEvent:DEFAULT_CONFIG.STRONG_EMPHASIS.suppressEvent,supercedes:DEFAULT_CONFIG.STRONG_EMPHASIS.supercedes});oConfig.addProperty(DEFAULT_CONFIG.CHECKED.key,{handler:this.configChecked,value:DEFAULT_CONFIG.CHECKED.value,validator:DEFAULT_CONFIG.CHECKED.validator,suppressEvent:DEFAULT_CONFIG.CHECKED.suppressEvent,supercedes:DEFAULT_CONFIG.CHECKED.supercedes});oConfig.addProperty(DEFAULT_CONFIG.DISABLED.key,{handler:this.configDisabled,value:DEFAULT_CONFIG.DISABLED.value,validator:DEFAULT_CONFIG.DISABLED.validator,suppressEvent:DEFAULT_CONFIG.DISABLED.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.SELECTED.key,{handler:this.configSelected,value:DEFAULT_CONFIG.SELECTED.value,validator:DEFAULT_CONFIG.SELECTED.validator,suppressEvent:DEFAULT_CONFIG.SELECTED.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.SUBMENU.key,{handler:this.configSubmenu,supercedes:DEFAULT_CONFIG.SUBMENU.supercedes,suppressEvent:DEFAULT_CONFIG.SUBMENU.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.ONCLICK.key,{handler:this.configOnClick,suppressEvent:DEFAULT_CONFIG.ONCLICK.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.CLASS_NAME.key,{handler:this.configClassName,value:DEFAULT_CONFIG.CLASS_NAME.value,validator:DEFAULT_CONFIG.CLASS_NAME.validator,suppressEvent:DEFAULT_CONFIG.CLASS_NAME.suppressEvent})},getNextEnabledSibling:function(){var nGroupIndex,aItemGroups,oNextItem,nNextGroupIndex,aNextGroup;function getNextArrayItem(p_aArray,p_nStartIndex){return p_aArray[p_nStartIndex]||getNextArrayItem(p_aArray,(p_nStartIndex+1))}if(this.parent instanceof Menu){nGroupIndex=this.groupIndex;aItemGroups=this.parent.getItemGroups();if(this.index<(aItemGroups[nGroupIndex].length-1)){oNextItem=getNextArrayItem(aItemGroups[nGroupIndex],(this.index+1))}else{if(nGroupIndex<(aItemGroups.length-1)){nNextGroupIndex=nGroupIndex+1}else{nNextGroupIndex=0}aNextGroup=getNextArrayItem(aItemGroups,nNextGroupIndex);oNextItem=getNextArrayItem(aNextGroup,0)}return(oNextItem.cfg.getProperty("disabled")||oNextItem.element.style.display=="none")?oNextItem.getNextEnabledSibling():oNextItem}},getPreviousEnabledSibling:function(){var nGroupIndex,aItemGroups,oPreviousItem,nPreviousGroupIndex,aPreviousGroup;function getPreviousArrayItem(p_aArray,p_nStartIndex){return p_aArray[p_nStartIndex]||getPreviousArrayItem(p_aArray,(p_nStartIndex-1))}function getFirstItemIndex(p_aArray,p_nStartIndex){return p_aArray[p_nStartIndex]?p_nStartIndex:getFirstItemIndex(p_aArray,(p_nStartIndex+1))}if(this.parent instanceof Menu){nGroupIndex=this.groupIndex;aItemGroups=this.parent.getItemGroups();if(this.index>getFirstItemIndex(aItemGroups[nGroupIndex],0)){oPreviousItem=getPreviousArrayItem(aItemGroups[nGroupIndex],(this.index-1))}else{if(nGroupIndex>getFirstItemIndex(aItemGroups,0)){nPreviousGroupIndex=nGroupIndex-1}else{nPreviousGroupIndex=aItemGroups.length-1}aPreviousGroup=getPreviousArrayItem(aItemGroups,nPreviousGroupIndex);oPreviousItem=getPreviousArrayItem(aPreviousGroup,(aPreviousGroup.length-1))}return(oPreviousItem.cfg.getProperty("disabled")||oPreviousItem.element.style.display=="none")?oPreviousItem.getPreviousEnabledSibling():oPreviousItem}},focus:function(){var oParent=this.parent,oAnchor=this._oAnchor,oActiveItem=oParent.activeItem,me=this;function setFocus(){try{if(YAHOO.env.ua.ie&&!document.hasFocus()){return }if(oActiveItem){oActiveItem.blurEvent.fire()}oAnchor.focus();me.focusEvent.fire()}catch(e){}}if(!this.cfg.getProperty("disabled")&&oParent&&oParent.cfg.getProperty("visible")&&this.element.style.display!="none"){window.setTimeout(setFocus,0)}},blur:function(){var oParent=this.parent;if(!this.cfg.getProperty("disabled")&&oParent&&oParent.cfg.getProperty("visible")){var me=this;window.setTimeout(function(){try{me._oAnchor.blur();me.blurEvent.fire()}catch(e){}},0)}},hasFocus:function(){return(YAHOO.widget.MenuManager.getFocusedMenuItem()==this)},destroy:function(){var oEl=this.element,oSubmenu,oParentNode;if(oEl){oSubmenu=this.cfg.getProperty("submenu");if(oSubmenu){oSubmenu.destroy()}this.mouseOverEvent.unsubscribeAll();this.mouseOutEvent.unsubscribeAll();this.mouseDownEvent.unsubscribeAll();this.mouseUpEvent.unsubscribeAll();this.clickEvent.unsubscribeAll();this.keyPressEvent.unsubscribeAll();this.keyDownEvent.unsubscribeAll();this.keyUpEvent.unsubscribeAll();this.focusEvent.unsubscribeAll();this.blurEvent.unsubscribeAll();this.cfg.configChangedEvent.unsubscribeAll();oParentNode=oEl.parentNode;if(oParentNode){oParentNode.removeChild(oEl);this.destroyEvent.fire()}this.destroyEvent.unsubscribeAll()}},toString:function(){var sReturnVal="MenuItem",sId=this.id;if(sId){sReturnVal+=(" "+sId)}return sReturnVal}};Lang.augmentProto(MenuItem,YAHOO.util.EventProvider)})();(function(){YAHOO.widget.ContextMenu=function(p_oElement,p_oConfig){YAHOO.widget.ContextMenu.superclass.constructor.call(this,p_oElement,p_oConfig)};var Event=YAHOO.util.Event,ContextMenu=YAHOO.widget.ContextMenu,EVENT_TYPES={"TRIGGER_CONTEXT_MENU":"triggerContextMenu","CONTEXT_MENU":(YAHOO.env.ua.opera?"mousedown":"contextmenu"),"CLICK":"click"},DEFAULT_CONFIG={"TRIGGER":{key:"trigger",suppressEvent:true}};function position(p_sType,p_aArgs,p_aPos){this.cfg.setProperty("xy",p_aPos);this.beforeShowEvent.unsubscribe(position,p_aPos)}YAHOO.lang.extend(ContextMenu,YAHOO.widget.Menu,{_oTrigger:null,_bCancelled:false,contextEventTarget:null,triggerContextMenuEvent:null,init:function(p_oElement,p_oConfig){ContextMenu.superclass.init.call(this,p_oElement);this.beforeInitEvent.fire(ContextMenu);if(p_oConfig){this.cfg.applyConfig(p_oConfig,true)}this.initEvent.fire(ContextMenu)},initEvents:function(){ContextMenu.superclass.initEvents.call(this);this.triggerContextMenuEvent=this.createEvent(EVENT_TYPES.TRIGGER_CONTEXT_MENU);this.triggerContextMenuEvent.signature=YAHOO.util.CustomEvent.LIST},cancel:function(){this._bCancelled=true},_removeEventHandlers:function(){var oTrigger=this._oTrigger;if(oTrigger){Event.removeListener(oTrigger,EVENT_TYPES.CONTEXT_MENU,this._onTriggerContextMenu);if(YAHOO.env.ua.opera){Event.removeListener(oTrigger,EVENT_TYPES.CLICK,this._onTriggerClick)}}},_onTriggerClick:function(p_oEvent,p_oMenu){if(p_oEvent.ctrlKey){Event.stopEvent(p_oEvent)}},_onTriggerContextMenu:function(p_oEvent,p_oMenu){if(p_oEvent.type=="mousedown"&&!p_oEvent.ctrlKey){return }var aXY;Event.stopEvent(p_oEvent);this.contextEventTarget=Event.getTarget(p_oEvent);this.triggerContextMenuEvent.fire(p_oEvent);YAHOO.widget.MenuManager.hideVisible();if(!this._bCancelled){aXY=Event.getXY(p_oEvent);if(!YAHOO.util.Dom.inDocument(this.element)){this.beforeShowEvent.subscribe(position,aXY)}else{this.cfg.setProperty("xy",aXY)}this.show()}this._bCancelled=false},toString:function(){var sReturnVal="ContextMenu",sId=this.id;if(sId){sReturnVal+=(" "+sId)}return sReturnVal},initDefaultConfig:function(){ContextMenu.superclass.initDefaultConfig.call(this);this.cfg.addProperty(DEFAULT_CONFIG.TRIGGER.key,{handler:this.configTrigger,suppressEvent:DEFAULT_CONFIG.TRIGGER.suppressEvent})},destroy:function(){this._removeEventHandlers();ContextMenu.superclass.destroy.call(this)},configTrigger:function(p_sType,p_aArgs,p_oMenu){var oTrigger=p_aArgs[0];if(oTrigger){if(this._oTrigger){this._removeEventHandlers()}this._oTrigger=oTrigger;Event.on(oTrigger,EVENT_TYPES.CONTEXT_MENU,this._onTriggerContextMenu,this,true);if(YAHOO.env.ua.opera){Event.on(oTrigger,EVENT_TYPES.CLICK,this._onTriggerClick,this,true)}}else{this._removeEventHandlers()}}})}());YAHOO.widget.ContextMenuItem=YAHOO.widget.MenuItem;(function(){YAHOO.widget.MenuBar=function(p_oElement,p_oConfig){YAHOO.widget.MenuBar.superclass.constructor.call(this,p_oElement,p_oConfig)};function checkPosition(p_sPosition){if(typeof p_sPosition=="string"){return("dynamic,static".indexOf((p_sPosition.toLowerCase()))!=-1)}}var Event=YAHOO.util.Event,MenuBar=YAHOO.widget.MenuBar,DEFAULT_CONFIG={"POSITION":{key:"position",value:"static",validator:checkPosition,supercedes:["visible"]},"SUBMENU_ALIGNMENT":{key:"submenualignment",value:["tl","bl"],suppressEvent:true},"AUTO_SUBMENU_DISPLAY":{key:"autosubmenudisplay",value:false,validator:YAHOO.lang.isBoolean,suppressEvent:true}};YAHOO.lang.extend(MenuBar,YAHOO.widget.Menu,{init:function(p_oElement,p_oConfig){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuBarItem}MenuBar.superclass.init.call(this,p_oElement);this.beforeInitEvent.fire(MenuBar);if(p_oConfig){this.cfg.applyConfig(p_oConfig,true)}this.initEvent.fire(MenuBar)},CSS_CLASS_NAME:"yuimenubar",_onKeyDown:function(p_sType,p_aArgs,p_oMenuBar){var oEvent=p_aArgs[0],oItem=p_aArgs[1],oSubmenu,oItemCfg,oNextItem;if(oItem&&!oItem.cfg.getProperty("disabled")){oItemCfg=oItem.cfg;switch(oEvent.keyCode){case 37:case 39:if(oItem==this.activeItem&&!oItemCfg.getProperty("selected")){oItemCfg.setProperty("selected",true)}else{oNextItem=(oEvent.keyCode==37)?oItem.getPreviousEnabledSibling():oItem.getNextEnabledSibling();if(oNextItem){this.clearActiveItem();oNextItem.cfg.setProperty("selected",true);if(this.cfg.getProperty("autosubmenudisplay")){oSubmenu=oNextItem.cfg.getProperty("submenu");if(oSubmenu){oSubmenu.show()}}oNextItem.focus()}}Event.preventDefault(oEvent);break;case 40:if(this.activeItem!=oItem){this.clearActiveItem();oItemCfg.setProperty("selected",true);oItem.focus()}oSubmenu=oItemCfg.getProperty("submenu");if(oSubmenu){if(oSubmenu.cfg.getProperty("visible")){oSubmenu.setInitialSelection();oSubmenu.setInitialFocus()}else{oSubmenu.show()}}Event.preventDefault(oEvent);break}}if(oEvent.keyCode==27&&this.activeItem){oSubmenu=this.activeItem.cfg.getProperty("submenu");if(oSubmenu&&oSubmenu.cfg.getProperty("visible")){oSubmenu.hide();this.activeItem.focus()}else{this.activeItem.cfg.setProperty("selected",false);this.activeItem.blur()}Event.preventDefault(oEvent)}},_onClick:function(p_sType,p_aArgs,p_oMenuBar){MenuBar.superclass._onClick.call(this,p_sType,p_aArgs,p_oMenuBar);var oItem=p_aArgs[1],oEvent,oTarget,oActiveItem,oConfig,oSubmenu;if(oItem&&!oItem.cfg.getProperty("disabled")){oEvent=p_aArgs[0];oTarget=Event.getTarget(oEvent);oActiveItem=this.activeItem;oConfig=this.cfg;if(oActiveItem&&oActiveItem!=oItem){this.clearActiveItem()}oItem.cfg.setProperty("selected",true);oSubmenu=oItem.cfg.getProperty("submenu");if(oSubmenu){if(oSubmenu.cfg.getProperty("visible")){oSubmenu.hide()}else{oSubmenu.show()}}}},toString:function(){var sReturnVal="MenuBar",sId=this.id;if(sId){sReturnVal+=(" "+sId)}return sReturnVal},initDefaultConfig:function(){MenuBar.superclass.initDefaultConfig.call(this);var oConfig=this.cfg;oConfig.addProperty(DEFAULT_CONFIG.POSITION.key,{handler:this.configPosition,value:DEFAULT_CONFIG.POSITION.value,validator:DEFAULT_CONFIG.POSITION.validator,supercedes:DEFAULT_CONFIG.POSITION.supercedes});oConfig.addProperty(DEFAULT_CONFIG.SUBMENU_ALIGNMENT.key,{value:DEFAULT_CONFIG.SUBMENU_ALIGNMENT.value,suppressEvent:DEFAULT_CONFIG.SUBMENU_ALIGNMENT.suppressEvent});oConfig.addProperty(DEFAULT_CONFIG.AUTO_SUBMENU_DISPLAY.key,{value:DEFAULT_CONFIG.AUTO_SUBMENU_DISPLAY.value,validator:DEFAULT_CONFIG.AUTO_SUBMENU_DISPLAY.validator,suppressEvent:DEFAULT_CONFIG.AUTO_SUBMENU_DISPLAY.suppressEvent})}})}());YAHOO.widget.MenuBarItem=function(p_oObject,p_oConfig){YAHOO.widget.MenuBarItem.superclass.constructor.call(this,p_oObject,p_oConfig)};YAHOO.lang.extend(YAHOO.widget.MenuBarItem,YAHOO.widget.MenuItem,{init:function(p_oObject,p_oConfig){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.Menu}YAHOO.widget.MenuBarItem.superclass.init.call(this,p_oObject);var oConfig=this.cfg;if(p_oConfig){oConfig.applyConfig(p_oConfig,true)}oConfig.fireQueue()},CSS_CLASS_NAME:"yuimenubaritem",CSS_LABEL_CLASS_NAME:"yuimenubaritemlabel",toString:function(){var sReturnVal="MenuBarItem";if(this.cfg&&this.cfg.getProperty("text")){sReturnVal+=(": "+this.cfg.getProperty("text"))}return sReturnVal}});YAHOO.register("menu",YAHOO.widget.Menu,{version:"2.4.0",build:"733"});(function(){YAHOO.widget.TabView=function(el,attr){attr=attr||{};if(arguments.length==1&&!YAHOO.lang.isString(el)&&!el.nodeName){attr=el;el=attr.element||null}if(!el&&!attr.element){el=_createTabViewElement.call(this,attr)}YAHOO.widget.TabView.superclass.constructor.call(this,el,attr)};YAHOO.extend(YAHOO.widget.TabView,YAHOO.util.Element);var proto=YAHOO.widget.TabView.prototype;var Dom=YAHOO.util.Dom;var Event=YAHOO.util.Event;var Tab=YAHOO.widget.Tab;proto.CLASSNAME="yui-navset";proto.TAB_PARENT_CLASSNAME="yui-nav";proto.CONTENT_PARENT_CLASSNAME="yui-content";proto._tabParent=null;proto._contentParent=null;proto.addTab=function(tab,index){var tabs=this.get("tabs");if(!tabs){this._queue[this._queue.length]=["addTab",arguments];return false}index=(index===undefined)?tabs.length:index;var before=this.getTab(index);var self=this;var el=this.get("element");var tabParent=this._tabParent;var contentParent=this._contentParent;var tabElement=tab.get("element");var contentEl=tab.get("contentEl");if(before){tabParent.insertBefore(tabElement,before.get("element"))}else{tabParent.appendChild(tabElement)}if(contentEl&&!Dom.isAncestor(contentParent,contentEl)){contentParent.appendChild(contentEl)}if(!tab.get("active")){tab.set("contentVisible",false,true)}else{this.set("activeTab",tab,true)}var activate=function(e){YAHOO.util.Event.preventDefault(e);var silent=false;if(this==self.get("activeTab")){silent=true}self.set("activeTab",this,silent)};tab.addListener(tab.get("activationEvent"),activate);tab.addListener("activationEventChange",function(e){if(e.prevValue!=e.newValue){tab.removeListener(e.prevValue,activate);tab.addListener(e.newValue,activate)}});tabs.splice(index,0,tab)};proto.DOMEventHandler=function(e){var el=this.get("element");var target=YAHOO.util.Event.getTarget(e);var tabParent=this._tabParent;if(Dom.isAncestor(tabParent,target)){var tabEl;var tab=null;var contentEl;var tabs=this.get("tabs");for(var i=0,len=tabs.length;i<len;i++){tabEl=tabs[i].get("element");contentEl=tabs[i].get("contentEl");if(target==tabEl||Dom.isAncestor(tabEl,target)){tab=tabs[i];break}}if(tab){tab.fireEvent(e.type,e)}}};proto.getTab=function(index){return this.get("tabs")[index]};proto.getTabIndex=function(tab){var index=null;var tabs=this.get("tabs");for(var i=0,len=tabs.length;i<len;++i){if(tab==tabs[i]){index=i;break}}return index};proto.removeTab=function(tab){var tabCount=this.get("tabs").length;var index=this.getTabIndex(tab);var nextIndex=index+1;if(tab==this.get("activeTab")){if(tabCount>1){if(index+1==tabCount){this.set("activeIndex",index-1)}else{this.set("activeIndex",index+1)}}}this._tabParent.removeChild(tab.get("element"));this._contentParent.removeChild(tab.get("contentEl"));this._configs.tabs.value.splice(index,1)};proto.toString=function(){var name=this.get("id")||this.get("tagName");return"TabView "+name};proto.contentTransition=function(newTab,oldTab){newTab.set("contentVisible",true);oldTab.set("contentVisible",false)};proto.initAttributes=function(attr){YAHOO.widget.TabView.superclass.initAttributes.call(this,attr);if(!attr.orientation){attr.orientation="top"}var el=this.get("element");if(!YAHOO.util.Dom.hasClass(el,this.CLASSNAME)){YAHOO.util.Dom.addClass(el,this.CLASSNAME)}this.setAttributeConfig("tabs",{value:[],readOnly:true});this._tabParent=this.getElementsByClassName(this.TAB_PARENT_CLASSNAME,"ul")[0]||_createTabParent.call(this);this._contentParent=this.getElementsByClassName(this.CONTENT_PARENT_CLASSNAME,"div")[0]||_createContentParent.call(this);this.setAttributeConfig("orientation",{value:attr.orientation,method:function(value){var current=this.get("orientation");this.addClass("yui-navset-"+value);if(current!=value){this.removeClass("yui-navset-"+current)}switch(value){case"bottom":this.appendChild(this._tabParent);break}}});this.setAttributeConfig("activeIndex",{value:attr.activeIndex,method:function(value){this.set("activeTab",this.getTab(value))},validator:function(value){return !this.getTab(value).get("disabled")}});this.setAttributeConfig("activeTab",{value:attr.activeTab,method:function(tab){var activeTab=this.get("activeTab");if(tab){tab.set("active",true);this._configs["activeIndex"].value=this.getTabIndex(tab)}if(activeTab&&activeTab!=tab){activeTab.set("active",false)}if(activeTab&&tab!=activeTab){this.contentTransition(tab,activeTab)}else{if(tab){tab.set("contentVisible",true)}}},validator:function(value){return !value.get("disabled")}});if(this._tabParent){_initTabs.call(this)}this.DOM_EVENTS.submit=false;this.DOM_EVENTS.focus=false;this.DOM_EVENTS.blur=false;for(var type in this.DOM_EVENTS){if(YAHOO.lang.hasOwnProperty(this.DOM_EVENTS,type)){this.addListener.call(this,type,this.DOMEventHandler)}}};var _initTabs=function(){var tab,attr,contentEl;var el=this.get("element");var tabs=_getChildNodes(this._tabParent);var contentElements=_getChildNodes(this._contentParent);for(var i=0,len=tabs.length;i<len;++i){attr={};if(contentElements[i]){attr.contentEl=contentElements[i]}tab=new YAHOO.widget.Tab(tabs[i],attr);this.addTab(tab);if(tab.hasClass(tab.ACTIVE_CLASSNAME)){this._configs.activeTab.value=tab;this._configs.activeIndex.value=this.getTabIndex(tab)}}};var _createTabViewElement=function(attr){var el=document.createElement("div");if(this.CLASSNAME){el.className=this.CLASSNAME}return el};var _createTabParent=function(attr){var el=document.createElement("ul");if(this.TAB_PARENT_CLASSNAME){el.className=this.TAB_PARENT_CLASSNAME}this.get("element").appendChild(el);return el};var _createContentParent=function(attr){var el=document.createElement("div");if(this.CONTENT_PARENT_CLASSNAME){el.className=this.CONTENT_PARENT_CLASSNAME}this.get("element").appendChild(el);return el};var _getChildNodes=function(el){var nodes=[];var childNodes=el.childNodes;for(var i=0,len=childNodes.length;i<len;++i){if(childNodes[i].nodeType==1){nodes[nodes.length]=childNodes[i]}}return nodes}})();(function(){var Dom=YAHOO.util.Dom,Event=YAHOO.util.Event;var Tab=function(el,attr){attr=attr||{};if(arguments.length==1&&!YAHOO.lang.isString(el)&&!el.nodeName){attr=el;el=attr.element}if(!el&&!attr.element){el=_createTabElement.call(this,attr)}this.loadHandler={success:function(o){this.set("content",o.responseText)},failure:function(o){}};Tab.superclass.constructor.call(this,el,attr);this.DOM_EVENTS={}};YAHOO.extend(Tab,YAHOO.util.Element);var proto=Tab.prototype;proto.LABEL_TAGNAME="em";proto.ACTIVE_CLASSNAME="selected";proto.DISABLED_CLASSNAME="disabled";proto.LOADING_CLASSNAME="loading";proto.dataConnection=null;proto.loadHandler=null;proto._loading=false;proto.toString=function(){var el=this.get("element");var id=el.id||el.tagName;return"Tab "+id};proto.initAttributes=function(attr){attr=attr||{};Tab.superclass.initAttributes.call(this,attr);var el=this.get("element");this.setAttributeConfig("activationEvent",{value:attr.activationEvent||"click"});this.setAttributeConfig("labelEl",{value:attr.labelEl||_getlabelEl.call(this),method:function(value){var current=this.get("labelEl");if(current){if(current==value){return false}this.replaceChild(value,current)}else{if(el.firstChild){this.insertBefore(value,el.firstChild)}else{this.appendChild(value)}}}});this.setAttributeConfig("label",{value:attr.label||_getLabel.call(this),method:function(value){var labelEl=this.get("labelEl");if(!labelEl){this.set("labelEl",_createlabelEl.call(this))}_setLabel.call(this,value)}});this.setAttributeConfig("contentEl",{value:attr.contentEl||document.createElement("div"),method:function(value){var current=this.get("contentEl");if(current){if(current==value){return false}this.replaceChild(value,current)}}});this.setAttributeConfig("content",{value:attr.content,method:function(value){this.get("contentEl").innerHTML=value}});var _dataLoaded=false;this.setAttributeConfig("dataSrc",{value:attr.dataSrc});this.setAttributeConfig("cacheData",{value:attr.cacheData||false,validator:YAHOO.lang.isBoolean});this.setAttributeConfig("loadMethod",{value:attr.loadMethod||"GET",validator:YAHOO.lang.isString});this.setAttributeConfig("dataLoaded",{value:false,validator:YAHOO.lang.isBoolean,writeOnce:true});this.setAttributeConfig("dataTimeout",{value:attr.dataTimeout||null,validator:YAHOO.lang.isNumber});this.setAttributeConfig("active",{value:attr.active||this.hasClass(this.ACTIVE_CLASSNAME),method:function(value){if(value===true){this.addClass(this.ACTIVE_CLASSNAME);this.set("title","active")}else{this.removeClass(this.ACTIVE_CLASSNAME);this.set("title","")}},validator:function(value){return YAHOO.lang.isBoolean(value)&&!this.get("disabled")}});this.setAttributeConfig("disabled",{value:attr.disabled||this.hasClass(this.DISABLED_CLASSNAME),method:function(value){if(value===true){Dom.addClass(this.get("element"),this.DISABLED_CLASSNAME)}else{Dom.removeClass(this.get("element"),this.DISABLED_CLASSNAME)}},validator:YAHOO.lang.isBoolean});this.setAttributeConfig("href",{value:attr.href||this.getElementsByTagName("a")[0].getAttribute("href",2)||"#",method:function(value){this.getElementsByTagName("a")[0].href=value},validator:YAHOO.lang.isString});this.setAttributeConfig("contentVisible",{value:attr.contentVisible,method:function(value){if(value){this.get("contentEl").style.display="block";if(this.get("dataSrc")){if(!this._loading&&!(this.get("dataLoaded")&&this.get("cacheData"))){_dataConnect.call(this)}}}else{this.get("contentEl").style.display="none"}},validator:YAHOO.lang.isBoolean})};var _createTabElement=function(attr){var el=document.createElement("li");var a=document.createElement("a");a.href=attr.href||"#";el.appendChild(a);var label=attr.label||null;var labelEl=attr.labelEl||null;if(labelEl){if(!label){label=_getLabel.call(this,labelEl)}}else{labelEl=_createlabelEl.call(this)}a.appendChild(labelEl);return el};var _getlabelEl=function(){return this.getElementsByTagName(this.LABEL_TAGNAME)[0]};var _createlabelEl=function(){var el=document.createElement(this.LABEL_TAGNAME);return el};var _setLabel=function(label){var el=this.get("labelEl");el.innerHTML=label};var _getLabel=function(){var label,el=this.get("labelEl");if(!el){return undefined}return el.innerHTML};var _dataConnect=function(){if(!YAHOO.util.Connect){return false}Dom.addClass(this.get("contentEl").parentNode,this.LOADING_CLASSNAME);this._loading=true;this.dataConnection=YAHOO.util.Connect.asyncRequest(this.get("loadMethod"),this.get("dataSrc"),{success:function(o){this.loadHandler.success.call(this,o);this.set("dataLoaded",true);this.dataConnection=null;Dom.removeClass(this.get("contentEl").parentNode,this.LOADING_CLASSNAME);this._loading=false},failure:function(o){this.loadHandler.failure.call(this,o);this.dataConnection=null;Dom.removeClass(this.get("contentEl").parentNode,this.LOADING_CLASSNAME);this._loading=false},scope:this,timeout:this.get("dataTimeout")})};YAHOO.widget.Tab=Tab})();YAHOO.register("tabview",YAHOO.widget.TabView,{version:"2.4.0",build:"733"});YAHOO.Tools=function(){keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";regExs={quotes:/\x22/g,startspace:/^\s+/g,endspace:/\s+$/g,striptags:/<\/?[^>]+>/gi,hasbr:/<br/i,hasp:/<p>/i,rbr:/<br>/gi,rbr2:/<br\/>/gi,rendp:/<\/p>/gi,rp:/<p>/gi,base64:/[^A-Za-z0-9\+\/\=]/g,syntaxCheck:/^("(\\.|[^"\\\n\r])*?"|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/};jsonCodes={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return{version:"1.0"}}();YAHOO.Tools.getHeight=function(elm){var elm=$(elm);var h=$D.getStyle(elm,"height");if(h=="auto"){elm.style.zoom=1;h=elm.clientHeight+"px"}return h};YAHOO.Tools.getCenter=function(elm){var elm=$(elm);var cX=Math.round(($D.getViewportWidth()-parseInt($D.getStyle(elm,"width")))/2);var cY=Math.round(($D.getViewportHeight()-parseInt(this.getHeight(elm)))/2);return[cX,cY]};YAHOO.Tools.makeTextObject=function(txt){return document.createTextNode(txt)};YAHOO.Tools.makeChildren=function(arr,elm){var elm=$(elm);for(var i in arr){_val=arr[i];if(typeof _val=="string"){_val=this.makeTxtObject(_val)}elm.appendChild(_val)}};YAHOO.Tools.styleToCamel=function(str){var _tmp=str.split("-");var _new_style=_tmp[0];for(var i=1;i<_tmp.length;i++){_new_style+=_tmp[i].substring(0,1).toUpperCase()+_tmp[i].substring(1,_tmp[i].length)}return _new_style};YAHOO.Tools.removeQuotes=function(str){var checkText=new String(str);return String(checkText.replace(regExs.quotes,""))};YAHOO.Tools.trim=function(str){return str.replace(regExs.startspace,"").replace(regExs.endspace,"")};YAHOO.Tools.stripTags=function(str){return str.replace(regExs.striptags,"")};YAHOO.Tools.hasBRs=function(str){return str.match(regExs.hasbr)||str.match(regExs.hasp)};YAHOO.Tools.convertBRs2NLs=function(str){return str.replace(regExs.rbr,"\n").replace(regExs.rbr2,"\n").replace(regExs.rendp,"\n").replace(regExs.rp,"")};YAHOO.Tools.stringRepeat=function(str,repeat){return new Array(repeat+1).join(str)};YAHOO.Tools.stringReverse=function(str){var new_str="";for(i=0;i<str.length;i++){new_str=new_str+str.charAt((str.length-1)-i)}return new_str};YAHOO.Tools.printf=function(){var num=arguments.length;var oStr=arguments[0];for(var i=1;i<num;i++){var pattern="\\{"+(i-1)+"\\}";var re=new RegExp(pattern,"g");oStr=oStr.replace(re,arguments[i])}return oStr};YAHOO.Tools.setStyleString=function(el,str){var _tmp=str.split(";");for(x in _tmp){if(x){__tmp=YAHOO.Tools.trim(_tmp[x]);__tmp=_tmp[x].split(":");if(__tmp[0]&&__tmp[1]){var _attr=YAHOO.Tools.trim(__tmp[0]);var _val=YAHOO.Tools.trim(__tmp[1]);if(_attr&&_val){if(_attr.indexOf("-")!=-1){_attr=YAHOO.Tools.styleToCamel(_attr)}$D.setStyle(el,_attr,_val)}}}}};YAHOO.Tools.getSelection=function(_document,_window){if(!_document){_document=document}if(!_window){_window=window}if(_document.selection){return _document.selection}return _window.getSelection()};YAHOO.Tools.removeElement=function(el){if(!(el instanceof Array)){el=new Array($(el))}for(var i=0;i<el.length;i++){if(el[i].parentNode){el[i].parentNode.removeChild(el)}}};YAHOO.Tools.setCookie=function(name,value,expires,path,domain,secure){var argv=arguments;var argc=arguments.length;var expires=(argc>2)?argv[2]:null;var path=(argc>3)?argv[3]:"/";var domain=(argc>4)?argv[4]:null;var secure=(argc>5)?argv[5]:false;document.cookie=name+"="+escape(value)+((expires==null)?"":("; expires="+expires.toGMTString()))+((path==null)?"":("; path="+path))+((domain==null)?"":("; domain="+domain))+((secure==true)?"; secure":"")};YAHOO.Tools.getCookie=function(name){var dc=document.cookie;var prefix=name+"=";var begin=dc.indexOf("; "+prefix);if(begin==-1){begin=dc.indexOf(prefix);if(begin!=0){return null}}else{begin+=2}var end=document.cookie.indexOf(";",begin);if(end==-1){end=dc.length}return unescape(dc.substring(begin+prefix.length,end))};YAHOO.Tools.deleteCookie=function(name,path,domain){if(getCookie(name)){document.cookie=name+"="+((path)?"; path="+path:"")+((domain)?"; domain="+domain:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT"}};YAHOO.Tools.getBrowserEngine=function(){var opera=((window.opera&&window.opera.version)?true:false);var safari=((navigator.vendor&&navigator.vendor.indexOf("Apple")!=-1)?true:false);var gecko=((document.getElementById&&!document.all&&!opera&&!safari)?true:false);var msie=((window.ActiveXObject)?true:false);var version=false;if(msie){if(typeof document.body.style.maxHeight!="undefined"){version="7"}else{version="6"}}if(opera){var tmp_version=window.opera.version().split(".");version=tmp_version[0]+"."+tmp_version[1]}if(gecko){if(navigator.registerContentHandler){version="2"}else{version="1.5"}if((navigator.vendorSub)&&!version){version=navigator.vendorSub}}if(safari){try{if(console){if((window.onmousewheel!=="undefined")&&(window.onmousewheel===null)){version="2"}else{version="1.3"}}}catch(e){version="1.2"}}var browsers={ua:navigator.userAgent,opera:opera,safari:safari,gecko:gecko,msie:msie,version:version};return browsers};YAHOO.Tools.getBrowserAgent=function(){var ua=navigator.userAgent.toLowerCase();var opera=((ua.indexOf("opera")!=-1)?true:false);var safari=((ua.indexOf("safari")!=-1)?true:false);var firefox=((ua.indexOf("firefox")!=-1)?true:false);var msie=((ua.indexOf("msie")!=-1)?true:false);var mac=((ua.indexOf("mac")!=-1)?true:false);var unix=((ua.indexOf("x11")!=-1)?true:false);var win=((mac||unix)?false:true);var version=false;var mozilla=false;if(!firefox&&!safari&&(ua.indexOf("gecko")!=-1)){mozilla=true;var _tmp=ua.split("/");version=_tmp[_tmp.length-1].split(" ")[0]}if(firefox){var _tmp=ua.split("/");version=_tmp[_tmp.length-1].split(" ")[0]}if(msie){version=ua.substring((ua.indexOf("msie ")+5)).split(";")[0]}if(safari){version=this.getBrowserEngine().version}if(opera){version=ua.substring((ua.indexOf("opera/")+6)).split(" ")[0]}var browsers={ua:navigator.userAgent,opera:opera,safari:safari,firefox:firefox,mozilla:mozilla,msie:msie,mac:mac,win:win,unix:unix,version:version};return browsers};YAHOO.Tools.checkFlash=function(){var br=this.getBrowserEngine();if(br.msie){try{var axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");var versionStr=axo.GetVariable("$version");var tempArray=versionStr.split(" ");var tempString=tempArray[1];var versionArray=tempString.split(",");var flash=versionArray[0]}catch(e){}}else{var flashObj=null;var tokens,len,curr_tok;if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]){flashObj=navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin}if(flashObj==null){flash=false}else{tokens=navigator.plugins["Shockwave Flash"].description.split(" ");len=tokens.length;while(len--){curr_tok=tokens[len];if(!isNaN(parseInt(curr_tok))){hasVersion=curr_tok;flash=hasVersion;break}}}}return flash};YAHOO.Tools.setAttr=function(attrsObj,elm){if(typeof elm=="string"){elm=$(elm)}for(var i in attrsObj){switch(i.toLowerCase()){case"listener":if(attrsObj[i] instanceof Array){var ev=attrsObj[i][0];var func=attrsObj[i][1];var base=attrsObj[i][2];var scope=attrsObj[i][3];$E.addListener(elm,ev,func,base,scope)}break;case"classname":case"class":elm.className=attrsObj[i];break;case"style":YAHOO.Tools.setStyleString(elm,attrsObj[i]);break;default:elm.setAttribute(i,attrsObj[i]);break}}};YAHOO.Tools.create=function(tagName){tagName=tagName.toLowerCase();elm=document.createElement(tagName);var txt=false;var attrsObj=false;if(!elm){return false}for(var i=1;i<arguments.length;i++){txt=arguments[i];if(typeof txt=="string"){_txt=YAHOO.Tools.makeTextObject(txt);elm.appendChild(_txt)}else{if(txt instanceof Array){YAHOO.Tools.makeChildren(txt,elm)}else{if(typeof txt=="object"){YAHOO.Tools.setAttr(txt,elm)}}}}return elm};YAHOO.Tools.insertAfter=function(elm,curNode){if(curNode.nextSibling){curNode.parentNode.insertBefore(elm,curNode.nextSibling)}else{curNode.parentNode.appendChild(elm)}};YAHOO.Tools.inArray=function(arr,val){if(arr instanceof Array){for(var i=(arr.length-1);i>=0;i--){if(arr[i]===val){return true}}}return false};YAHOO.Tools.checkBoolean=function(str){return((typeof str=="boolean")?true:false)};YAHOO.Tools.checkNumber=function(str){return((isNaN(str))?false:true)};YAHOO.Tools.PixelToEm=function(size){var data={};var sSize=(size/13);data.other=(Math.round(sSize*100)/100);data.msie=(Math.round((sSize*0.9759)*100)/100);return data};YAHOO.Tools.PixelToEmStyle=function(size,prop){var data="";var prop=((prop)?prop.toLowerCase():"width");var sSize=(size/13);data+=prop+":"+(Math.round(sSize*100)/100)+"em;";data+="*"+prop+":"+(Math.round((sSize*0.9759)*100)/100)+"em;";if((prop=="width")||(prop=="height")){data+="min-"+prop+":"+size+"px;"}return data};YAHOO.Tools.base64Encode=function(str){var data="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;do{chr1=str.charCodeAt(i++);chr2=str.charCodeAt(i++);chr3=str.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else{if(isNaN(chr3)){enc4=64}}data=data+keyStr.charAt(enc1)+keyStr.charAt(enc2)+keyStr.charAt(enc3)+keyStr.charAt(enc4)}while(i<str.length);return data};YAHOO.Tools.base64Decode=function(str){var data="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;str=str.replace(regExs.base64,"");do{enc1=keyStr.indexOf(str.charAt(i++));enc2=keyStr.indexOf(str.charAt(i++));enc3=keyStr.indexOf(str.charAt(i++));enc4=keyStr.indexOf(str.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;data=data+String.fromCharCode(chr1);if(enc3!=64){data=data+String.fromCharCode(chr2)}if(enc4!=64){data=data+String.fromCharCode(chr3)}}while(i<str.length);return data};YAHOO.Tools.getQueryString=function(str){var qstr={};if(!str){var str=location.href.split("?");if(str.length!=2){str=["",location.href]}}else{var str=["",str]}if(str[1].match("#")){var _tmp=str[1].split("#");qstr.hash=_tmp[1];str[1]=_tmp[0]}if(str[1]){str=str[1].split("&");if(str.length){for(var i=0;i<str.length;i++){var part=str[i].split("=");if(part[0].indexOf("[")!=-1){if(part[0].indexOf("[]")!=-1){var arr=part[0].substring(0,part[0].length-2);if(!qstr[arr]){qstr[arr]=[]}qstr[arr][qstr[arr].length]=part[1]}else{var arr=part[0].substring(0,part[0].indexOf("["));var data=part[0].substring((part[0].indexOf("[")+1),part[0].indexOf("]"));if(!qstr[arr]){qstr[arr]={}}qstr[arr][data]=part[1]}}else{qstr[part[0]]=part[1]}}}}return qstr};YAHOO.Tools.getQueryStringVar=function(str){var qs=this.getQueryString();if(qs[str]){return qs[str]}else{return false}};YAHOO.Tools.padDate=function(n){return n<10?"0"+n:n};YAHOO.Tools.encodeStr=function(str){if(/["\\\x00-\x1f]/.test(str)){return'"'+str.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=jsonCodes[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+str+'"'};YAHOO.Tools.encodeArr=function(arr){var a=["["],b,i,l=arr.length,v;for(i=0;i<l;i+=1){v=arr[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(v===null?"null":YAHOO.Tools.JSONEncode(v));b=true}}a.push("]");return a.join("")};YAHOO.Tools.encodeDate=function(d){return'"'+d.getFullYear()+"-"+YAHOO.Tools.padDate(d.getMonth()+1)+"-"+YAHOO.Tools.padDate(d.getDate())+"T"+YAHOO.Tools.padDate(d.getHours())+":"+YAHOO.Tools.padDate(d.getMinutes())+":"+YAHOO.Tools.padDate(d.getSeconds())+'"'};YAHOO.Tools.fixJSONDate=function(dateStr){var tmp=dateStr.split("T");var fixedDate=dateStr;if(tmp.length==2){var tmpDate=tmp[0].split("-");if(tmpDate.length==3){fixedDate=new Date(tmpDate[0],(tmpDate[1]-1),tmpDate[2]);var tmpTime=tmp[1].split(":");if(tmpTime.length==3){fixedDate.setHours(tmpTime[0],tmpTime[1],tmpTime[2])}}}return fixedDate};YAHOO.Tools.JSONEncode=function(o){if((typeof o=="undefined")||(o===null)){return"null"}else{if(o instanceof Array){return YAHOO.Tools.encodeArr(o)}else{if(o instanceof Date){return YAHOO.Tools.encodeDate(o)}else{if(typeof o=="string"){return YAHOO.Tools.encodeStr(o)}else{if(typeof o=="number"){return isFinite(o)?String(o):"null"}else{if(typeof o=="boolean"){return String(o)}else{var a=["{"],b,i,v;for(var i in o){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(YAHOO.Tools.JSONEncode(i),":",((v===null)?"null":YAHOO.Tools.JSONEncode(v)));b=true}}a.push("}");return a.join("")}}}}}}};YAHOO.Tools.JSONParse=function(json,autoDate){var autoDate=((autoDate)?true:false);try{if(regExs.syntaxCheck.test(json)){var j=eval("("+json+")");if(autoDate){function walk(k,v){if(v&&typeof v==="object"){for(var i in v){if(v.hasOwnProperty(i)){v[i]=walk(i,v[i])}}}if(k.toLowerCase().indexOf("date")>=0){return YAHOO.Tools.fixJSONDate(v)}else{return v}}return walk("",j)}else{return j}}}catch(e){console.log(e)}throw new SyntaxError("parseJSON")};YAHOO.tools=YAHOO.Tools;YAHOO.TOOLS=YAHOO.Tools;YAHOO.util.Dom.create=YAHOO.Tools.create;$A=YAHOO.util.Anim;$E=YAHOO.util.Event;$D=YAHOO.util.Dom;$T=YAHOO.Tools;$=YAHOO.util.Dom.get;$$=YAHOO.util.Dom.getElementsByClassName;var _uacct="";var _userv=1;var _ufsc=1;var _udn="auto";var _uhash="on";var _utimeout="1800";var _ugifpath="/__utm.gif";var _utsp="|";var _uflash=1;var _utitle=1;var _ulink=0;var _uanchor=0;var _utcp="/";var _usample=100;var _uctm=1;var _ucto="15768000";var _uccn="utm_campaign";var _ucmd="utm_medium";var _ucsr="utm_source";var _uctr="utm_term";var _ucct="utm_content";var _ucid="utm_id";var _ucno="utm_nooverride";var _uOsr=new Array();var _uOkw=new Array();_uOsr[0]="google";_uOkw[0]="q";_uOsr[1]="yahoo";_uOkw[1]="p";_uOsr[2]="msn";_uOkw[2]="q";_uOsr[3]="aol";_uOkw[3]="query";_uOsr[4]="aol";_uOkw[4]="encquery";_uOsr[5]="lycos";_uOkw[5]="query";_uOsr[6]="ask";_uOkw[6]="q";_uOsr[7]="altavista";_uOkw[7]="q";_uOsr[8]="netscape";_uOkw[8]="s";_uOsr[9]="cnn";_uOkw[9]="query";_uOsr[10]="looksmart";_uOkw[10]="qt";_uOsr[11]="about";_uOkw[11]="terms";_uOsr[12]="mamma";_uOkw[12]="query";_uOsr[13]="alltheweb";_uOkw[13]="q";_uOsr[14]="gigablast";_uOkw[14]="q";_uOsr[15]="voila";_uOkw[15]="rdata";_uOsr[16]="virgilio";_uOkw[16]="qs";_uOsr[17]="live";_uOkw[17]="q";_uOsr[18]="baidu";_uOkw[18]="wd";_uOsr[19]="alice";_uOkw[19]="qs";_uOsr[20]="seznam";_uOkw[20]="w";_uOsr[21]="yandex";_uOkw[21]="text";_uOsr[22]="najdi";_uOkw[22]="q";_uOsr[23]="aol";_uOkw[23]="q";_uOsr[24]="club-internet";_uOkw[24]="q";_uOsr[25]="mama";_uOkw[25]="query";_uOsr[26]="seznam";_uOkw[26]="q";_uOsr[27]="search";_uOkw[27]="q";var _uOno=new Array();var _uRno=new Array();var _uff,_udh,_udt,_ubl=0,_udo="",_uu,_ufns=0,_uns=0,_ur="-",_ufno=0,_ust=0,_ubd=document,_udl=_ubd.location,_udlh="",_uwv="1";var _ugifpath2="http://www.google-analytics.com/__utm.gif";if(_udl.hash){_udlh=_udl.href.substring(_udl.href.indexOf("#"))}if(_udl.protocol=="https:"){_ugifpath2="https://ssl.google-analytics.com/__utm.gif"}if(!_utcp||_utcp==""){_utcp="/"}function urchinTracker(page){if(_udl.protocol=="file:"){return }if(_uff&&(!page||page=="")){return }var a,b,c,xx,v,z,k,x="",s="",f=0;var nx=" expires=Sun, 18 Jan 2038 00:00:00 GMT;";var dc=_ubd.cookie;_udh=_uDomain();if(!_uVG()){return }_uu=Math.round(Math.random()*2147483647);_udt=new Date();_ust=Math.round(_udt.getTime()/1000);a=dc.indexOf("__utma="+_udh);b=dc.indexOf("__utmb="+_udh);c=dc.indexOf("__utmc="+_udh);if(_udn&&_udn!=""){_udo=" domain="+_udn+";"}if(_utimeout&&_utimeout!=""){x=new Date(_udt.getTime()+(_utimeout*1000));x=" expires="+x.toGMTString()+";"}if(_ulink){if(_uanchor&&_udlh&&_udlh!=""){s=_udlh+"&"}s+=_udl.search;if(s&&s!=""&&s.indexOf("__utma=")>=0){if(!(_uIN(a=_uGC(s,"__utma=","&")))){a="-"}if(!(_uIN(b=_uGC(s,"__utmb=","&")))){b="-"}if(!(_uIN(c=_uGC(s,"__utmc=","&")))){c="-"}v=_uGC(s,"__utmv=","&");z=_uGC(s,"__utmz=","&");k=_uGC(s,"__utmk=","&");xx=_uGC(s,"__utmx=","&");if((k*1)!=((_uHash(a+b+c+xx+z+v)*1)+(_udh*1))){_ubl=1;a="-";b="-";c="-";xx="-";z="-";v="-"}if(a!="-"&&b!="-"&&c!="-"){f=1}else{if(a!="-"){f=2}}}}if(f==1){_ubd.cookie="__utma="+a+"; path="+_utcp+";"+nx+_udo;_ubd.cookie="__utmb="+b+"; path="+_utcp+";"+x+_udo;_ubd.cookie="__utmc="+c+"; path="+_utcp+";"+_udo}else{if(f==2){a=_uFixA(s,"&",_ust);_ubd.cookie="__utma="+a+"; path="+_utcp+";"+nx+_udo;_ubd.cookie="__utmb="+_udh+"; path="+_utcp+";"+x+_udo;_ubd.cookie="__utmc="+_udh+"; path="+_utcp+";"+_udo;_ufns=1}else{if(a>=0&&b>=0&&c>=0){_ubd.cookie="__utmb="+_udh+"; path="+_utcp+";"+x+_udo}else{if(a>=0){a=_uFixA(_ubd.cookie,";",_ust)}else{a=_udh+"."+_uu+"."+_ust+"."+_ust+"."+_ust+".1"}_ubd.cookie="__utma="+a+"; path="+_utcp+";"+nx+_udo;_ubd.cookie="__utmb="+_udh+"; path="+_utcp+";"+x+_udo;_ubd.cookie="__utmc="+_udh+"; path="+_utcp+";"+_udo;_ufns=1}}}if(_ulink&&xx&&xx!=""&&xx!="-"){xx=_uUES(xx);if(xx.indexOf(";")==-1){_ubd.cookie="__utmx="+xx+"; path="+_utcp+";"+nx+_udo}}if(_ulink&&v&&v!=""&&v!="-"){v=_uUES(v);if(v.indexOf(";")==-1){_ubd.cookie="__utmv="+v+"; path="+_utcp+";"+nx+_udo}}_uInfo(page);_ufns=0;_ufno=0;if(!page||page==""){_uff=1}}function _uInfo(page){var p,s="",dm="",pg=_udl.pathname+_udl.search;if(page&&page!=""){pg=_uES(page,1)}_ur=_ubd.referrer;if(!_ur||_ur==""){_ur="-"}else{dm=_ubd.domain;if(_utcp&&_utcp!="/"){dm+=_utcp}p=_ur.indexOf(dm);if((p>=0)&&(p<=8)){_ur="0"}if(_ur.indexOf("[")==0&&_ur.lastIndexOf("]")==(_ur.length-1)){_ur="-"}}s+="&utmn="+_uu;if(_ufsc){s+=_uBInfo()}if(_uctm){s+=_uCInfo()}if(_utitle&&_ubd.title&&_ubd.title!=""){s+="&utmdt="+_uES(_ubd.title)}if(_udl.hostname&&_udl.hostname!=""){s+="&utmhn="+_uES(_udl.hostname)}s+="&utmr="+_ur;s+="&utmp="+pg;if((_userv==0||_userv==2)&&_uSP()){var i=new Image(1,1);i.src=_ugifpath+"?utmwv="+_uwv+s;i.onload=function(){_uVoid()}}if((_userv==1||_userv==2)&&_uSP()){var i2=new Image(1,1);i2.src=_ugifpath2+"?utmwv="+_uwv+s+"&utmac="+_uacct+"&utmcc="+_uGCS();i2.onload=function(){_uVoid()}}return }function _uVoid(){return }function _uCInfo(){if(!_ucto||_ucto==""){_ucto="15768000"}if(!_uVG()){return }var c="",t="-",t2="-",t3="-",o=0,cs=0,cn=0,i=0,z="-",s="";if(_uanchor&&_udlh&&_udlh!=""){s=_udlh+"&"}s+=_udl.search;var x=new Date(_udt.getTime()+(_ucto*1000));var dc=_ubd.cookie;x=" expires="+x.toGMTString()+";";if(_ulink&&!_ubl){z=_uUES(_uGC(s,"__utmz=","&"));if(z!="-"&&z.indexOf(";")==-1){_ubd.cookie="__utmz="+z+"; path="+_utcp+";"+x+_udo;return""}}z=dc.indexOf("__utmz="+_udh);if(z>-1){z=_uGC(dc,"__utmz="+_udh,";")}else{z="-"}t=_uGC(s,_ucid+"=","&");t2=_uGC(s,_ucsr+"=","&");t3=_uGC(s,"gclid=","&");if((t!="-"&&t!="")||(t2!="-"&&t2!="")||(t3!="-"&&t3!="")){if(t!="-"&&t!=""){c+="utmcid="+_uEC(t)}if(t2!="-"&&t2!=""){if(c!=""){c+="|"}c+="utmcsr="+_uEC(t2)}if(t3!="-"&&t3!=""){if(c!=""){c+="|"}c+="utmgclid="+_uEC(t3)}t=_uGC(s,_uccn+"=","&");if(t!="-"&&t!=""){c+="|utmccn="+_uEC(t)}else{c+="|utmccn=(not+set)"}t=_uGC(s,_ucmd+"=","&");if(t!="-"&&t!=""){c+="|utmcmd="+_uEC(t)}else{c+="|utmcmd=(not+set)"}t=_uGC(s,_uctr+"=","&");if(t!="-"&&t!=""){c+="|utmctr="+_uEC(t)}else{t=_uOrg(1);if(t!="-"&&t!=""){c+="|utmctr="+_uEC(t)}}t=_uGC(s,_ucct+"=","&");if(t!="-"&&t!=""){c+="|utmcct="+_uEC(t)}t=_uGC(s,_ucno+"=","&");if(t=="1"){o=1}if(z!="-"&&o==1){return""}}if(c=="-"||c==""){c=_uOrg();if(z!="-"&&_ufno==1){return""}}if(c=="-"||c==""){if(_ufns==1){c=_uRef()}if(z!="-"&&_ufno==1){return""}}if(c=="-"||c==""){if(z=="-"&&_ufns==1){c="utmccn=(direct)|utmcsr=(direct)|utmcmd=(none)"}if(c=="-"||c==""){return""}}if(z!="-"){i=z.indexOf(".");if(i>-1){i=z.indexOf(".",i+1)}if(i>-1){i=z.indexOf(".",i+1)}if(i>-1){i=z.indexOf(".",i+1)}t=z.substring(i+1,z.length);if(t.toLowerCase()==c.toLowerCase()){cs=1}t=z.substring(0,i);if((i=t.lastIndexOf("."))>-1){t=t.substring(i+1,t.length);cn=(t*1)}}if(cs==0||_ufns==1){t=_uGC(dc,"__utma="+_udh,";");if((i=t.lastIndexOf("."))>9){_uns=t.substring(i+1,t.length);_uns=(_uns*1)}cn++;if(_uns==0){_uns=1}_ubd.cookie="__utmz="+_udh+"."+_ust+"."+_uns+"."+cn+"."+c+"; path="+_utcp+"; "+x+_udo}if(cs==0||_ufns==1){return"&utmcn=1"}else{return"&utmcr=1"}}function _uRef(){if(_ur=="0"||_ur==""||_ur=="-"){return""}var i=0,h,k,n;if((i=_ur.indexOf("://"))<0){return""}h=_ur.substring(i+3,_ur.length);if(h.indexOf("/")>-1){k=h.substring(h.indexOf("/"),h.length);if(k.indexOf("?")>-1){k=k.substring(0,k.indexOf("?"))}h=h.substring(0,h.indexOf("/"))}h=h.toLowerCase();n=h;if((i=n.indexOf(":"))>-1){n=n.substring(0,i)}for(var ii=0;ii<_uRno.length;ii++){if((i=n.indexOf(_uRno[ii].toLowerCase()))>-1&&n.length==(i+_uRno[ii].length)){_ufno=1;break}}if(h.indexOf("www.")==0){h=h.substring(4,h.length)}return"utmccn=(referral)|utmcsr="+_uEC(h)+"|utmcct="+_uEC(k)+"|utmcmd=referral"}function _uOrg(t){if(_ur=="0"||_ur==""||_ur=="-"){return""}var i=0,h,k;if((i=_ur.indexOf("://"))<0){return""}h=_ur.substring(i+3,_ur.length);if(h.indexOf("/")>-1){h=h.substring(0,h.indexOf("/"))}for(var ii=0;ii<_uOsr.length;ii++){if(h.toLowerCase().indexOf(_uOsr[ii].toLowerCase())>-1){if((i=_ur.indexOf("?"+_uOkw[ii]+"="))>-1||(i=_ur.indexOf("&"+_uOkw[ii]+"="))>-1){k=_ur.substring(i+_uOkw[ii].length+2,_ur.length);if((i=k.indexOf("&"))>-1){k=k.substring(0,i)}for(var yy=0;yy<_uOno.length;yy++){if(_uOno[yy].toLowerCase()==k.toLowerCase()){_ufno=1;break}}if(t){return _uEC(k)}else{return"utmccn=(organic)|utmcsr="+_uEC(_uOsr[ii])+"|utmctr="+_uEC(k)+"|utmcmd=organic"}}}}return""}function _uBInfo(){var sr="-",sc="-",ul="-",fl="-",cs="-",je=1;var n=navigator;if(self.screen){sr=screen.width+"x"+screen.height;sc=screen.colorDepth+"-bit"}else{if(self.java){var j=java.awt.Toolkit.getDefaultToolkit();var s=j.getScreenSize();sr=s.width+"x"+s.height}}if(n.language){ul=n.language.toLowerCase()}else{if(n.browserLanguage){ul=n.browserLanguage.toLowerCase()}}je=n.javaEnabled()?1:0;if(_uflash){fl=_uFlash()}if(_ubd.characterSet){cs=_uES(_ubd.characterSet)}else{if(_ubd.charset){cs=_uES(_ubd.charset)}}return"&utmcs="+cs+"&utmsr="+sr+"&utmsc="+sc+"&utmul="+ul+"&utmje="+je+"&utmfl="+fl}function __utmSetTrans(){var e;if(_ubd.getElementById){e=_ubd.getElementById("utmtrans")}else{if(_ubd.utmform&&_ubd.utmform.utmtrans){e=_ubd.utmform.utmtrans}}if(!e){return }var l=e.value.split("UTM:");var i,i2,c;if(_userv==0||_userv==2){i=new Array()}if(_userv==1||_userv==2){i2=new Array();c=_uGCS()}for(var ii=0;ii<l.length;ii++){l[ii]=_uTrim(l[ii]);if(l[ii].charAt(0)!="T"&&l[ii].charAt(0)!="I"){continue}var r=Math.round(Math.random()*2147483647);if(!_utsp||_utsp==""){_utsp="|"}var f=l[ii].split(_utsp),s="";if(f[0].charAt(0)=="T"){s="&utmt=tran&utmn="+r;f[1]=_uTrim(f[1]);if(f[1]&&f[1]!=""){s+="&utmtid="+_uES(f[1])}f[2]=_uTrim(f[2]);if(f[2]&&f[2]!=""){s+="&utmtst="+_uES(f[2])}f[3]=_uTrim(f[3]);if(f[3]&&f[3]!=""){s+="&utmtto="+_uES(f[3])}f[4]=_uTrim(f[4]);if(f[4]&&f[4]!=""){s+="&utmttx="+_uES(f[4])}f[5]=_uTrim(f[5]);if(f[5]&&f[5]!=""){s+="&utmtsp="+_uES(f[5])}f[6]=_uTrim(f[6]);if(f[6]&&f[6]!=""){s+="&utmtci="+_uES(f[6])}f[7]=_uTrim(f[7]);if(f[7]&&f[7]!=""){s+="&utmtrg="+_uES(f[7])}f[8]=_uTrim(f[8]);if(f[8]&&f[8]!=""){s+="&utmtco="+_uES(f[8])}}else{s="&utmt=item&utmn="+r;f[1]=_uTrim(f[1]);if(f[1]&&f[1]!=""){s+="&utmtid="+_uES(f[1])}f[2]=_uTrim(f[2]);if(f[2]&&f[2]!=""){s+="&utmipc="+_uES(f[2])}f[3]=_uTrim(f[3]);if(f[3]&&f[3]!=""){s+="&utmipn="+_uES(f[3])}f[4]=_uTrim(f[4]);if(f[4]&&f[4]!=""){s+="&utmiva="+_uES(f[4])}f[5]=_uTrim(f[5]);if(f[5]&&f[5]!=""){s+="&utmipr="+_uES(f[5])}f[6]=_uTrim(f[6]);if(f[6]&&f[6]!=""){s+="&utmiqt="+_uES(f[6])}}if((_userv==0||_userv==2)&&_uSP()){i[ii]=new Image(1,1);i[ii].src=_ugifpath+"?utmwv="+_uwv+s;i[ii].onload=function(){_uVoid()}}if((_userv==1||_userv==2)&&_uSP()){i2[ii]=new Image(1,1);i2[ii].src=_ugifpath2+"?utmwv="+_uwv+s+"&utmac="+_uacct+"&utmcc="+c;i2[ii].onload=function(){_uVoid()}}}return }function _uFlash(){var f="-",n=navigator;if(n.plugins&&n.plugins.length){for(var ii=0;ii<n.plugins.length;ii++){if(n.plugins[ii].name.indexOf("Shockwave Flash")!=-1){f=n.plugins[ii].description.split("Shockwave Flash ")[1];break}}}else{if(window.ActiveXObject){for(var ii=10;ii>=2;ii--){try{var fl=eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+ii+"');");if(fl){f=ii+".0";break}}catch(e){}}}}return f}function __utmLinker(l,h){if(!_ulink){return }var p,k,a="-",b="-",c="-",x="-",z="-",v="-";var dc=_ubd.cookie;if(!l||l==""){return }var iq=l.indexOf("?");var ih=l.indexOf("#");if(dc){a=_uES(_uGC(dc,"__utma="+_udh,";"));b=_uES(_uGC(dc,"__utmb="+_udh,";"));c=_uES(_uGC(dc,"__utmc="+_udh,";"));x=_uES(_uGC(dc,"__utmx="+_udh,";"));z=_uES(_uGC(dc,"__utmz="+_udh,";"));v=_uES(_uGC(dc,"__utmv="+_udh,";"));k=(_uHash(a+b+c+x+z+v)*1)+(_udh*1);p="__utma="+a+"&__utmb="+b+"&__utmc="+c+"&__utmx="+x+"&__utmz="+z+"&__utmv="+v+"&__utmk="+k}if(p){if(h&&ih>-1){return }if(h){_udl.href=l+"#"+p}else{if(iq==-1&&ih==-1){_udl.href=l+"?"+p}else{if(ih==-1){_udl.href=l+"&"+p}else{if(iq==-1){_udl.href=l.substring(0,ih-1)+"?"+p+l.substring(ih)}else{_udl.href=l.substring(0,ih-1)+"&"+p+l.substring(ih)}}}}}else{_udl.href=l}}function __utmLinkPost(f,h){if(!_ulink){return }var p,k,a="-",b="-",c="-",x="-",z="-",v="-";var dc=_ubd.cookie;if(!f||!f.action){return }var iq=f.action.indexOf("?");var ih=f.action.indexOf("#");if(dc){a=_uES(_uGC(dc,"__utma="+_udh,";"));b=_uES(_uGC(dc,"__utmb="+_udh,";"));c=_uES(_uGC(dc,"__utmc="+_udh,";"));x=_uES(_uGC(dc,"__utmx="+_udh,";"));z=_uES(_uGC(dc,"__utmz="+_udh,";"));v=_uES(_uGC(dc,"__utmv="+_udh,";"));k=(_uHash(a+b+c+x+z+v)*1)+(_udh*1);p="__utma="+a+"&__utmb="+b+"&__utmc="+c+"&__utmx="+x+"&__utmz="+z+"&__utmv="+v+"&__utmk="+k}if(p){if(h&&ih>-1){return }if(h){f.action+="#"+p}else{if(iq==-1&&ih==-1){f.action+="?"+p}else{if(ih==-1){f.action+="&"+p}else{if(iq==-1){f.action=f.action.substring(0,ih-1)+"?"+p+f.action.substring(ih)}else{f.action=f.action.substring(0,ih-1)+"&"+p+f.action.substring(ih)}}}}}return }function __utmSetVar(v){if(!v||v==""){return }if(!_udo||_udo==""){_udh=_uDomain();if(_udn&&_udn!=""){_udo=" domain="+_udn+";"}}if(!_uVG()){return }var r=Math.round(Math.random()*2147483647);_ubd.cookie="__utmv="+_udh+"."+_uES(v)+"; path="+_utcp+"; expires=Sun, 18 Jan 2038 00:00:00 GMT;"+_udo;var s="&utmt=var&utmn="+r;if((_userv==0||_userv==2)&&_uSP()){var i=new Image(1,1);i.src=_ugifpath+"?utmwv="+_uwv+s;i.onload=function(){_uVoid()}}if((_userv==1||_userv==2)&&_uSP()){var i2=new Image(1,1);i2.src=_ugifpath2+"?utmwv="+_uwv+s+"&utmac="+_uacct+"&utmcc="+_uGCS();i2.onload=function(){_uVoid()}}}function _uGCS(){var t,c="",dc=_ubd.cookie;if((t=_uGC(dc,"__utma="+_udh,";"))!="-"){c+=_uES("__utma="+t+";+")}if((t=_uGC(dc,"__utmb="+_udh,";"))!="-"){c+=_uES("__utmb="+t+";+")}if((t=_uGC(dc,"__utmc="+_udh,";"))!="-"){c+=_uES("__utmc="+t+";+")}if((t=_uGC(dc,"__utmx="+_udh,";"))!="-"){c+=_uES("__utmx="+t+";+")}if((t=_uGC(dc,"__utmz="+_udh,";"))!="-"){c+=_uES("__utmz="+t+";+")}if((t=_uGC(dc,"__utmv="+_udh,";"))!="-"){c+=_uES("__utmv="+t+";")}if(c.charAt(c.length-1)=="+"){c=c.substring(0,c.length-1)}return c}function _uGC(l,n,s){if(!l||l==""||!n||n==""||!s||s==""){return"-"}var i,i2,i3,c="-";i=l.indexOf(n);i3=n.indexOf("=")+1;if(i>-1){i2=l.indexOf(s,i);if(i2<0){i2=l.length}c=l.substring((i+i3),i2)}return c}function _uDomain(){if(!_udn||_udn==""||_udn=="none"){_udn="";return 1}if(_udn=="auto"){var d=_ubd.domain;if(d.substring(0,4)=="www."){d=d.substring(4,d.length)}_udn=d}if(_uhash=="off"){return 1}return _uHash(_udn)}function _uHash(d){if(!d||d==""){return 1}var h=0,g=0;for(var i=d.length-1;i>=0;i--){var c=parseInt(d.charCodeAt(i));h=((h<<6)&268435455)+c+(c<<14);if((g=h&266338304)!=0){h=(h^(g>>21))}}return h}function _uFixA(c,s,t){if(!c||c==""||!s||s==""||!t||t==""){return"-"}var a=_uGC(c,"__utma="+_udh,s);var lt=0,i=0;if((i=a.lastIndexOf("."))>9){_uns=a.substring(i+1,a.length);_uns=(_uns*1)+1;a=a.substring(0,i);if((i=a.lastIndexOf("."))>7){lt=a.substring(i+1,a.length);a=a.substring(0,i)}if((i=a.lastIndexOf("."))>5){a=a.substring(0,i)}a+="."+lt+"."+t+"."+_uns}return a}function _uTrim(s){if(!s||s==""){return""}while((s.charAt(0)==" ")||(s.charAt(0)=="\n")||(s.charAt(0,1)=="\r")){s=s.substring(1,s.length)}while((s.charAt(s.length-1)==" ")||(s.charAt(s.length-1)=="\n")||(s.charAt(s.length-1)=="\r")){s=s.substring(0,s.length-1)}return s}function _uEC(s){var n="";if(!s||s==""){return""}for(var i=0;i<s.length;i++){if(s.charAt(i)==" "){n+="+"}else{n+=s.charAt(i)}}return n}function __utmVisitorCode(f){var r=0,t=0,i=0,i2=0,m=31;var a=_uGC(_ubd.cookie,"__utma="+_udh,";");if((i=a.indexOf(".",0))<0){return }if((i2=a.indexOf(".",i+1))>0){r=a.substring(i+1,i2)}else{return""}if((i=a.indexOf(".",i2+1))>0){t=a.substring(i2+1,i)}else{return""}if(f){return r}else{var c=new Array("A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9");return c[r>>28&m]+c[r>>23&m]+c[r>>18&m]+c[r>>13&m]+"-"+c[r>>8&m]+c[r>>3&m]+c[((r&7)<<2)+(t>>30&3)]+c[t>>25&m]+c[t>>20&m]+"-"+c[t>>15&m]+c[t>>10&m]+c[t>>5&m]+c[t&m]}}function _uIN(n){if(!n){return false}for(var i=0;i<n.length;i++){var c=n.charAt(i);if((c<"0"||c>"9")&&(c!=".")){return false}}return true}function _uES(s,u){if(typeof (encodeURIComponent)=="function"){if(u){return encodeURI(s)}else{return encodeURIComponent(s)}}else{return escape(s)}}function _uUES(s){if(typeof (decodeURIComponent)=="function"){return decodeURIComponent(s)}else{return unescape(s)}}function _uVG(){if((_udn.indexOf("www.google.")==0||_udn.indexOf(".google.")==0||_udn.indexOf("google.")==0)&&_utcp=="/"){return false}return true}function _uSP(){var s=100;if(_usample){s=_usample}if(s>=100||s<=0){return true}return((__utmVisitorCode(1)%10000)<(s*100))}function urchinPathCopy(p){var d=document,nx,tx,sx,i,c,cs,t,h,o;cs=new Array("a","b","c","v","x","z");h=_uDomain();if(_udn&&_udn!=""){o=" domain="+_udn+";"}nx="Sun, 18 Jan 2038 00:00:00 GMT;";tx=new Date();tx.setTime(tx.getTime()+(_utimeout*1000));tx=tx.toGMTString()+";";sx=new Date();sx.setTime(sx.getTime()+(_ucto*1000));sx=sx.toGMTString()+";";for(i=0;i<6;i++){t=" expires=";if(i==1){t+=tx}else{if(i==2){t=""}else{if(i==5){t+=sx}else{t+=nx}}}c=_uGC(d.cookie,"__utm"+cs[i]+"="+h,";");if(c!="-"){d.cookie="__utm"+cs[i]+"="+c+"; path="+p+";"+t+o}}}function _uCO(){if(!_utk||_utk==""||_utk.length<10){return }var d="www.google.com";if(_utk.charAt(0)=="!"){d="analytics.corp.google.com"}_ubd.cookie="GASO="+_utk+"; path="+_utcp+";"+_udo;var sc=document.createElement("script");sc.type="text/javascript";sc.id="_gasojs";sc.src="https://"+d+"/analytics/reporting/overlay_js?gaso="+_utk+"&"+Math.random();document.getElementsByTagName("head")[0].appendChild(sc)}function _uGT(){var h=location.hash,a;if(h&&h!=""&&h.indexOf("#gaso=")==0){a=_uGC(h,"gaso=","&")}else{a=_uGC(_ubd.cookie,"GASO=",";")}return a}var _utk=_uGT();if(_utk&&_utk!=""&&_utk.length>10){if(window.addEventListener){window.addEventListener("load",_uCO,false)}else{if(window.attachEvent){window.attachEvent("onload",_uCO)}}}YAHOO.util.Event.onDOMReady(function(){initAutoComplete();YAHOO.util.Event.addListener(window,"resize",setCarouselNumVisible)});function setCarouselNumVisible(){if(carousel){var widgetEl=YAHOO.util.Dom.get("widget_cockpit_list").firstChild;var widgetElWidth=parseInt(YAHOO.util.Dom.getStyle(widgetEl,"width"))+(parseInt(YAHOO.util.Dom.getStyle(widgetEl,"margin-right"))*2);var carouselWidth=parseInt(YAHOO.util.Dom.getX("next-arrow")-YAHOO.util.Dom.getX("prev-arrow")-32);var numVisible=Math.floor(carouselWidth/widgetElWidth);carousel.setProperty("numVisible",Math.min(c_size,numVisible))}}function initAutoComplete(){var submitAutoComplete_callback={success:function(o){if(o.responseText!==undefined){window.location.href=o.responseText}}};var submitAutoComplete=function(comp,resultListItem){YAHOO.Wikia.Tracker.trackByStr(null,"search/suggestItem/"+escape(YAHOO.util.Dom.get("searchfield").value.replace(/ /g,"_")));sUrl=wgServer+wgScriptPath+"?action=ajax&rs=getSuggestedArticleURL&rsargs="+encodeURI(document.getElementById("searchfield").value);var request=YAHOO.util.Connect.asyncRequest("GET",sUrl,submitAutoComplete_callback)};YAHOO.util.Event.addListener("searchfield","keypress",function(e){if(e.keyCode==13){YAHOO.util.Dom.get("searchform").submit()}});var oDataSource=new YAHOO.widget.DS_XHR(wgServer+wgScriptPath,["\n"]);oDataSource.responseType=YAHOO.widget.DS_XHR.TYPE_FLAT;oDataSource.scriptQueryParam="rsargs";oDataSource.scriptQueryAppend="action=ajax&rs=searchSuggest";var oAutoComp=new YAHOO.widget.AutoComplete("searchfield","searchSuggestContainer",oDataSource);oAutoComp.autoHighlight=false;oAutoComp.typeAhead=true;oAutoComp.queryDelay=1;oAutoComp.itemSelectEvent.subscribe(submitAutoComplete)}function setTopContentSection(o){var full_id=o.parentNode.parentNode.id;var instanceId=full_id.split("_")[1];YAHOO.util.Dom.setStyle(YAHOO.util.Dom.get("WidgetTopContent_"+instanceId+"_content").getElementsByTagName("ul"),"display","none");YAHOO.util.Dom.setStyle(o.options[o.selectedIndex].value+"_"+instanceId,"display","block");refreshWidget("name=WidgetTopContent&instance="+instanceId+"&at="+o.options[o.selectedIndex].value+"&","WidgetTopContent_"+instanceId,null)}function wikiaTooltip(){var tooltipDiv=false;var params=new Array();var obj=this;var timeoutId;this.isShown=function(){return this.tooltipDiv!=false};this.init=function(msg,timeout,closeOnClick){this.params={"msg":msg,"timeout":timeout,"closeOnClick":closeOnClick};this.tooltipDiv=false};this.close=function(){if(!obj.tooltipDiv){return }animOut=new YAHOO.util.Anim(obj.tooltipDiv,{opacity:{from:0.9,to:0}},1);animOut.animate();animOut.onComplete.subscribe(function(){if(obj.tooltipDiv&&obj.tooltipDiv.parentNode){obj.tooltipDiv.parentNode.removeChild(obj.tooltipDiv)}})};this.show=function(x,y,cssClass){this.tooltipDiv=document.createElement("div");this.tooltipDiv.id="wikiaTooltip"+YAHOO.util.Dom.generateId();this.tooltipDiv.className="wikiaTooltip wikiaTooltip"+cssClass;this.tooltipDiv.style.left=x+"px";this.tooltipDiv.style.top=y+"px";document.body.appendChild(this.tooltipDiv);this.tooltipDiv.innerHTML=this.params.msg;if(this.params.closeOnClick){YAHOO.util.Event.addListener(this.tooltipDiv,"click",function(e){this.parentNode.removeChild(this)})}animIn=new YAHOO.util.Anim(this.tooltipDiv,{opacity:{from:0,to:0.9}},1);animIn.animate();if(this.params.timeout>0){this.timeoutId=window.setTimeout(this.close,this.params.timeout+1000)}}}var notifyPanel;var notifyReport;var reqNotify;YAHOO.util.Event.onDOMReady(function(){if(document.getElementById("articleWrapper")&&document.getElementById("notifyForm")){document.body.appendChild(document.getElementById("notifyForm"));YAHOO.util.Dom.setStyle("notifyForm","top","0px")}});function notifyShow(){if(document.getElementById("globalWrapper")&&document.getElementById("notifyForm")){document.getElementById("globalWrapper").appendChild(document.getElementById("notifyForm"))}notifyPanel=new YAHOO.widget.Panel("notifyForm",{fixedcenter:true,modal:true,draggable:false,width:"362px"});notifyPanel.render(document.body);YAHOO.util.Dom.setStyle("stoaf_submit","display","inline");YAHOO.util.Dom.setStyle("stoaf_cancel","display","none");YAHOO.util.Dom.setStyle("stoaf_progress","visibility","hidden");notifyPanel.show();return false}function notifySubmit(){YAHOO.util.Dom.setStyle("stoaf_submit","display","none");YAHOO.util.Dom.setStyle("stoaf_cancel","display","inline");YAHOO.util.Dom.setStyle("stoaf_progress","visibility","inherit");return notifySend(YAHOO.util.Dom.get("notification"))}function notifySend(form){var callback={success:function(o){notifySendCallback(o.responseText)},failure:function(o){notifySendCallback(false)}};url=form.action;if(url.indexOf("?")>1){url+="&"}else{url+="?"}url+="en=1&id="+form.id.value+"&ns="+form.ns.value+"&re="+form.re.value+"&nm="+form.name.value+"&fr="+form.fr.value+"&to="+form.to.value;reqNotify=YAHOO.util.Connect.asyncRequest("GET",url,callback,null);return false}function notifyBack(){YAHOO.util.Dom.setStyle("stoaf_submit","display","inline");YAHOO.util.Dom.setStyle("stoaf_cancel","display","none");YAHOO.util.Dom.setStyle("stoaf_progress","visibility","hidden");notifyReport.hide();notifyPanel.show()}function notifyAbort(){notifyPanel.hide();YAHOO.util.Connect.abort(reqNotify)}function notifySendCallback(response){if(response==false){YAHOO.util.Dom.get("articlesinject").innerHTML="<hr /><br /><div><b>Sorry, our site is under heavy load. Please try again later...</b><br /><br /></div>"}else{YAHOO.util.Dom.get("articlesinject").innerHTML=response}notifyReport=new YAHOO.widget.SimpleDialog("notifyReport",{width:"377px",fixedcenter:true,draggable:false,close:true,modal:true});notifyReport.render(document.body);YAHOO.util.Dom.setStyle("stoaf_submit","display","inline");YAHOO.util.Dom.setStyle("stoaf_cancel","display","none");YAHOO.util.Dom.setStyle("stoaf_progress","visibility","hidden");notifyPanel.hide();notifyReport.show()}function initUserMenu(){var userMenu=new YAHOO.widget.Menu("userMenuMain",{hidedelay:800});userMenu.render();YAHOO.util.Event.addListener("userMenuToggle","click",userMenu.show,null,userMenu)}YAHOO.util.Event.onContentReady("userMenuMain",initUserMenu);function initLangMenu(){var langMenu=new YAHOO.widget.Menu("languageMenuMain",{hidedelay:800});langMenu.render();YAHOO.util.Event.addListener("languageMenuToggle","click",langMenu.show,null,langMenu)}YAHOO.util.Event.onContentReady("languageMenuMain",initLangMenu);function shareIt_callback(e){YAHOO.util.Event.preventDefault(e);var el=YAHOO.util.Event.getTarget(e);if(el.nodeName=="A"||el.nodeName=="IMG"){id=el.id.replace(/_img/,"").replace(/_a/,"");if(id=="shareDelicious"){location.href="http://del.icio.us/post?v=4&noui&jump=close&url="+encodeURIComponent(location.href)+"&title="+encodeURIComponent(document.title)}else{if(id=="shareStumble"){location.href="http://www.stumbleupon.com/submit?url="+encodeURIComponent(location.href)+"&title="+encodeURIComponent(document.title)}else{if(id=="shareDigg"){location.href="http://digg.com/submit?phase=2&url="+encodeURIComponent(location.href)+"&title="+encodeURIComponent(document.title)}}}}}function initShareIt(){YAHOO.util.Event.addListener("shareIt","click",shareIt_callback);YAHOO.util.Event.addListener(["shareEmail_img","shareEmail_a"],"click",notifyShow)}YAHOO.util.Event.onContentReady("shareIt",initShareIt);YAHOO.util.Event.onDOMReady(function(){YAHOO.util.Event.addListener("unrateLink","click",unrateArticle);YAHOO.util.Event.addListener(["star1","star2","star3","star4","star5"],"click",rateArticle)});var rateArticle_callback={success:function(o){o=eval("("+o.responseText+")");YAHOO.util.Dom.setStyle("current-rating","width",Math.round(o.item.wkvoteart[0].avgvote*17)+"px");YAHOO.util.Dom.setStyle(["star1","star2","star3","star4","star5"],"display",o.item.wkvoteart[0].remove?"":"none");YAHOO.util.Dom.setStyle("unrateLink","display",o.item.wkvoteart[0].remove?"none":"");YAHOO.util.Connect.asyncRequest("POST",window.location.href,null,"action=purge")}};function rateArticle(e){YAHOO.util.Event.preventDefault(e);var rating=this.id.substr(4,1);YAHOO.util.Connect.asyncRequest("GET",wgScriptPath+"/api.php?action=insert&list=wkvoteart&format=json&wkvote="+rating+"&wkpage="+wgArticleId,rateArticle_callback)}function unrateArticle(e){YAHOO.util.Event.preventDefault(e);YAHOO.util.Connect.asyncRequest("GET",wgScriptPath+"/api.php?action=delete&list=wkvoteart&format=json&wkpage="+wgArticleId,rateArticle_callback)}function initSearch(){var done=false;var searchField_callback=function(){if(!done){done=true;YAHOO.util.Dom.get("searchfield").value="";YAHOO.util.Dom.replaceClass("searchfield","gray","black")}};YAHOO.util.Event.addListener("searchfield","focus",searchField_callback);var searchSubmit_callback=function(){YAHOO.util.Dom.get("searchform").submit()};YAHOO.util.Event.addListener("searchSubmit","click",searchSubmit_callback)}YAHOO.util.Event.onContentReady("searchform",initSearch);YAHOO.namespace("extension");YAHOO.extension.Carousel=function(carouselElementID,carouselCfg){this.init(carouselElementID,carouselCfg)};YAHOO.extension.Carousel.prototype={UNBOUNDED_SIZE:1000000,init:function(carouselElementID,carouselCfg){var oThis=this;this.getCarouselItem=this.getItem;var carouselListClass="carousel-list";var carouselClipRegionClass="carousel-clip-region";var carouselNextClass="carousel-next";var carouselPrevClass="carousel-prev";this._carouselElemID=carouselElementID;this.carouselElem=YAHOO.util.Dom.get(carouselElementID);this._prevEnabled=true;this._nextEnabled=true;this.cfg=new YAHOO.util.Config(this);this.cfg.addProperty("scrollBeforeAmount",{value:0,handler:function(type,args,carouselElem){},validator:oThis.cfg.checkNumber});this.cfg.addProperty("scrollAfterAmount",{value:0,handler:function(type,args,carouselElem){},validator:oThis.cfg.checkNumber});this.cfg.addProperty("loadOnStart",{value:true,handler:function(type,args,carouselElem){},validator:oThis.cfg.checkBoolean});this.cfg.addProperty("orientation",{value:"horizontal",handler:function(type,args,carouselElem){oThis.reload()},validator:function(orientation){if(typeof orientation=="string"){return("horizontal,vertical".indexOf(orientation.toLowerCase())!=-1)}else{return false}}});this.cfg.addProperty("size",{value:this.UNBOUNDED_SIZE,handler:function(type,args,carouselElem){oThis.reload()},validator:oThis.cfg.checkNumber});this.cfg.addProperty("numVisible",{value:3,handler:function(type,args,carouselElem){oThis.reload()},validator:oThis.cfg.checkNumber});this.cfg.addProperty("firstVisible",{value:1,handler:function(type,args,carouselElem){oThis.moveTo(args[0])},validator:oThis.cfg.checkNumber});this.cfg.addProperty("scrollInc",{value:3,handler:function(type,args,carouselElem){},validator:oThis.cfg.checkNumber});this.cfg.addProperty("animationSpeed",{value:0.25,handler:function(type,args,carouselElem){oThis.animationSpeed=args[0]},validator:oThis.cfg.checkNumber});this.cfg.addProperty("animationMethod",{value:YAHOO.util.Easing.easeOut,handler:function(type,args,carouselElem){}});this.cfg.addProperty("animationCompleteHandler",{value:null,handler:function(type,args,carouselElem){if(oThis._animationCompleteEvt){oThis._animationCompleteEvt.unsubscribe(oThis._currAnimationCompleteHandler,oThis)}oThis._currAnimationCompleteHandler=args[0];if(oThis._currAnimationCompleteHandler){if(!oThis._animationCompleteEvt){oThis._animationCompleteEvt=new YAHOO.util.CustomEvent("onAnimationComplete",oThis)}oThis._animationCompleteEvt.subscribe(oThis._currAnimationCompleteHandler,oThis)}}});this.cfg.addProperty("autoPlay",{value:0,handler:function(type,args,carouselElem){var autoPlay=args[0];if(autoPlay>0){oThis.startAutoPlay()}else{oThis.stopAutoPlay()}}});this.cfg.addProperty("wrap",{value:false,handler:function(type,args,carouselElem){},validator:oThis.cfg.checkBoolean});this.cfg.addProperty("navMargin",{value:0,handler:function(type,args,carouselElem){oThis.calculateSize()},validator:oThis.cfg.checkNumber});this.cfg.addProperty("revealAmount",{value:0,handler:function(type,args,carouselElem){oThis.reload()},validator:oThis.cfg.checkNumber});this.cfg.addProperty("prevElementID",{value:null,handler:function(type,args,carouselElem){if(oThis._carouselPrev){YAHOO.util.Event.removeListener(oThis._carouselPrev,"click",oThis._scrollPrev)}oThis._prevElementID=args[0];if(oThis._prevElementID==null){oThis._carouselPrev=YAHOO.util.Dom.getElementsByClassName(carouselPrevClass,"div",oThis.carouselElem)[0]}else{oThis._carouselPrev=YAHOO.util.Dom.get(oThis._prevElementID)}YAHOO.util.Event.addListener(oThis._carouselPrev,"click",oThis._scrollPrev,oThis)}});this.cfg.addProperty("prevElement",{value:null,handler:function(type,args,carouselElem){if(oThis._carouselPrev){YAHOO.util.Event.removeListener(oThis._carouselPrev,"click",oThis._scrollPrev)}oThis._prevElementID=args[0];if(oThis._prevElementID==null){oThis._carouselPrev=YAHOO.util.Dom.getElementsByClassName(carouselPrevClass,"div",oThis.carouselElem)[0]}else{oThis._carouselPrev=YAHOO.util.Dom.get(oThis._prevElementID)}YAHOO.util.Event.addListener(oThis._carouselPrev,"click",oThis._scrollPrev,oThis)}});this.cfg.addProperty("nextElementID",{value:null,handler:function(type,args,carouselElem){if(oThis._carouselNext){YAHOO.util.Event.removeListener(oThis._carouselNext,"click",oThis._scrollNext)}oThis._nextElementID=args[0];if(oThis._nextElementID==null){oThis._carouselNext=YAHOO.util.Dom.getElementsByClassName(carouselNextClass,"div",oThis.carouselElem)}else{oThis._carouselNext=YAHOO.util.Dom.get(oThis._nextElementID)}if(oThis._carouselNext){YAHOO.util.Event.addListener(oThis._carouselNext,"click",oThis._scrollNext,oThis)}}});this.cfg.addProperty("nextElement",{value:null,handler:function(type,args,carouselElem){if(oThis._carouselNext){YAHOO.util.Event.removeListener(oThis._carouselNext,"click",oThis._scrollNext)}oThis._nextElementID=args[0];if(oThis._nextElementID==null){oThis._carouselNext=YAHOO.util.Dom.getElementsByClassName(carouselNextClass,"div",oThis.carouselElem)}else{oThis._carouselNext=YAHOO.util.Dom.get(oThis._nextElementID)}if(oThis._carouselNext){YAHOO.util.Event.addListener(oThis._carouselNext,"click",oThis._scrollNext,oThis)}}});this.cfg.addProperty("loadInitHandler",{value:null,handler:function(type,args,carouselElem){if(oThis._loadInitHandlerEvt){oThis._loadInitHandlerEvt.unsubscribe(oThis._currLoadInitHandler,oThis)}oThis._currLoadInitHandler=args[0];if(oThis._currLoadInitHandler){if(!oThis._loadInitHandlerEvt){oThis._loadInitHandlerEvt=new YAHOO.util.CustomEvent("onLoadInit",oThis)}oThis._loadInitHandlerEvt.subscribe(oThis._currLoadInitHandler,oThis)}}});this.cfg.addProperty("loadNextHandler",{value:null,handler:function(type,args,carouselElem){if(oThis._loadNextHandlerEvt){oThis._loadNextHandlerEvt.unsubscribe(oThis._currLoadNextHandler,oThis)}oThis._currLoadNextHandler=args[0];if(oThis._currLoadNextHandler){if(!oThis._loadNextHandlerEvt){oThis._loadNextHandlerEvt=new YAHOO.util.CustomEvent("onLoadNext",oThis)}oThis._loadNextHandlerEvt.subscribe(oThis._currLoadNextHandler,oThis)}}});this.cfg.addProperty("loadPrevHandler",{value:null,handler:function(type,args,carouselElem){if(oThis._loadPrevHandlerEvt){oThis._loadPrevHandlerEvt.unsubscribe(oThis._currLoadPrevHandler,oThis)}oThis._currLoadPrevHandler=args[0];if(oThis._currLoadPrevHandler){if(!oThis._loadPrevHandlerEvt){oThis._loadPrevHandlerEvt=new YAHOO.util.CustomEvent("onLoadPrev",oThis)}oThis._loadPrevHandlerEvt.subscribe(oThis._currLoadPrevHandler,oThis)}}});this.cfg.addProperty("prevButtonStateHandler",{value:null,handler:function(type,args,carouselElem){if(oThis._currPrevButtonStateHandler){oThis._prevButtonStateHandlerEvt.unsubscribe(oThis._currPrevButtonStateHandler,oThis)}oThis._currPrevButtonStateHandler=args[0];if(oThis._currPrevButtonStateHandler){if(!oThis._prevButtonStateHandlerEvt){oThis._prevButtonStateHandlerEvt=new YAHOO.util.CustomEvent("onPrevButtonStateChange",oThis)}oThis._prevButtonStateHandlerEvt.subscribe(oThis._currPrevButtonStateHandler,oThis)}}});this.cfg.addProperty("nextButtonStateHandler",{value:null,handler:function(type,args,carouselElem){if(oThis._currNextButtonStateHandler){oThis._nextButtonStateHandlerEvt.unsubscribe(oThis._currNextButtonStateHandler,oThis)}oThis._currNextButtonStateHandler=args[0];if(oThis._currNextButtonStateHandler){if(!oThis._nextButtonStateHandlerEvt){oThis._nextButtonStateHandlerEvt=new YAHOO.util.CustomEvent("onNextButtonStateChange",oThis)}oThis._nextButtonStateHandlerEvt.subscribe(oThis._currNextButtonStateHandler,oThis)}}});if(carouselCfg){this.cfg.applyConfig(carouselCfg)}this._origFirstVisible=this.cfg.getProperty("firstVisible");this._currLoadInitHandler=this.cfg.getProperty("loadInitHandler");this._currLoadNextHandler=this.cfg.getProperty("loadNextHandler");this._currLoadPrevHandler=this.cfg.getProperty("loadPrevHandler");this._currPrevButtonStateHandler=this.cfg.getProperty("prevButtonStateHandler");this._currNextButtonStateHandler=this.cfg.getProperty("nextButtonStateHandler");this._currAnimationCompleteHandler=this.cfg.getProperty("animationCompleteHandler");this._nextElementID=this.cfg.getProperty("nextElementID");if(!this._nextElementID){this._nextElementID=this.cfg.getProperty("nextElement")}this._prevElementID=this.cfg.getProperty("prevElementID");if(!this._prevElementID){this._prevElementID=this.cfg.getProperty("prevElement")}this._autoPlayTimer=null;this._priorLastVisible=this._priorFirstVisible=this.cfg.getProperty("firstVisible");this._lastPrebuiltIdx=0;this.carouselList=YAHOO.util.Dom.getElementsByClassName(carouselListClass,"ul",this.carouselElem)[0];if(this._nextElementID==null){this._carouselNext=YAHOO.util.Dom.getElementsByClassName(carouselNextClass,"div",this.carouselElem)[0]}else{this._carouselNext=YAHOO.util.Dom.get(this._nextElementID)}if(this._prevElementID==null){this._carouselPrev=YAHOO.util.Dom.getElementsByClassName(carouselPrevClass,"div",this.carouselElem)[0]}else{this._carouselPrev=YAHOO.util.Dom.get(this._prevElementID)}this._clipReg=YAHOO.util.Dom.getElementsByClassName(carouselClipRegionClass,"div",this.carouselElem)[0];if(this.isVertical()){YAHOO.util.Dom.addClass(this.carouselList,"carousel-vertical")}this._scrollNextAnim=new YAHOO.util.Motion(this.carouselList,this.scrollNextParams,this.cfg.getProperty("animationSpeed"),this.cfg.getProperty("animationMethod"));this._scrollPrevAnim=new YAHOO.util.Motion(this.carouselList,this.scrollPrevParams,this.cfg.getProperty("animationSpeed"),this.cfg.getProperty("animationMethod"));if(this._carouselNext){YAHOO.util.Event.addListener(this._carouselNext,"click",this._scrollNext,this)}if(this._carouselPrev){YAHOO.util.Event.addListener(this._carouselPrev,"click",this._scrollPrev,this)}var loadInitHandler=this.cfg.getProperty("loadInitHandler");if(loadInitHandler){this._loadInitHandlerEvt=new YAHOO.util.CustomEvent("onLoadInit",this);this._loadInitHandlerEvt.subscribe(loadInitHandler,this)}var loadNextHandler=this.cfg.getProperty("loadNextHandler");if(loadNextHandler){this._loadNextHandlerEvt=new YAHOO.util.CustomEvent("onLoadNext",this);this._loadNextHandlerEvt.subscribe(loadNextHandler,this)}var loadPrevHandler=this.cfg.getProperty("loadPrevHandler");if(loadPrevHandler){this._loadPrevHandlerEvt=new YAHOO.util.CustomEvent("onLoadPrev",this);this._loadPrevHandlerEvt.subscribe(loadPrevHandler,this)}var animationCompleteHandler=this.cfg.getProperty("animationCompleteHandler");if(animationCompleteHandler){this._animationCompleteEvt=new YAHOO.util.CustomEvent("onAnimationComplete",this);this._animationCompleteEvt.subscribe(animationCompleteHandler,this)}var prevButtonStateHandler=this.cfg.getProperty("prevButtonStateHandler");if(prevButtonStateHandler){this._prevButtonStateHandlerEvt=new YAHOO.util.CustomEvent("onPrevButtonStateChange",this);this._prevButtonStateHandlerEvt.subscribe(prevButtonStateHandler,this)}var nextButtonStateHandler=this.cfg.getProperty("nextButtonStateHandler");if(nextButtonStateHandler){this._nextButtonStateHandlerEvt=new YAHOO.util.CustomEvent("onNextButtonStateChange",this);this._nextButtonStateHandlerEvt.subscribe(nextButtonStateHandler,this)}var visibleExtent=this._calculateVisibleExtent();YAHOO.util.Event.onAvailable(this._carouselElemID+"-item-"+visibleExtent.start,this._calculateSize,this);if(this.cfg.getProperty("loadOnStart")){this._loadInitial()}},clear:function(){var loadInitHandler=this.cfg.getProperty("loadInitHandler");if(loadInitHandler){this._removeChildrenFromNode(this.carouselList);this._lastPrebuiltIdx=0}this.stopAutoPlay();this._priorLastVisible=this._priorFirstVisible=this._origFirstVisible;this.cfg.setProperty("firstVisible",this._origFirstVisible,true);this.moveTo(this._origFirstVisible)},reload:function(numVisible){if(this._isValidObj(numVisible)){this.cfg.setProperty("numVisible",numVisible)}this.clear();var visibleExtent=this._calculateVisibleExtent();YAHOO.util.Event.onAvailable(this._carouselElemID+"-item-"+visibleExtent.start,this._calculateSize,this);this._loadInitial()},load:function(){var visibleExtent=this._calculateVisibleExtent();YAHOO.util.Event.onAvailable(this._carouselElemID+"-item-"+visibleExtent.start,this._calculateSize,this);this._loadInitial()},addItem:function(idx,innerHTMLOrElem,itemClass){if(idx>this.cfg.getProperty("size")){return null}var liElem=this.getItem(idx);if(!this._isValidObj(liElem)){liElem=this._createItem(idx,innerHTMLOrElem);this.carouselList.appendChild(liElem)}else{if(this._isValidObj(liElem.placeholder)){var newLiElem=this._createItem(idx,innerHTMLOrElem);this.carouselList.replaceChild(newLiElem,liElem);liElem=newLiElem}}if(this._isValidObj(itemClass)){YAHOO.util.Dom.addClass(liElem,itemClass)}if(this.isVertical()){setTimeout(function(){liElem.style.display="block"},1)}return liElem},insertBefore:function(refIdx,innerHTML){if(refIdx>=this.cfg.getProperty("size")){return null}if(refIdx<1){refIdx=1}var insertionIdx=refIdx-1;if(insertionIdx>this._lastPrebuiltIdx){this._prebuildItems(this._lastPrebuiltIdx,refIdx)}var liElem=this._insertBeforeItem(refIdx,innerHTML);this._enableDisableControls();return liElem},insertAfter:function(refIdx,innerHTML){if(refIdx>this.cfg.getProperty("size")){refIdx=this.cfg.getProperty("size")}var insertionIdx=refIdx+1;if(insertionIdx>this._lastPrebuiltIdx){this._prebuildItems(this._lastPrebuiltIdx,insertionIdx+1)}var liElem=this._insertAfterItem(refIdx,innerHTML);if(insertionIdx>this.cfg.getProperty("size")){this.cfg.setProperty("size",insertionIdx,true)}this._enableDisableControls();return liElem},scrollNext:function(){this._scrollNext(null,this);this._autoPlayTimer=null;if(this.cfg.getProperty("autoPlay")!==0){this._autoPlayTimer=this.startAutoPlay()}},scrollPrev:function(){this._scrollPrev(null,this)},scrollTo:function(newStart){this._position(newStart,true)},moveTo:function(newStart){this._position(newStart,false)},startAutoPlay:function(interval){if(this._isValidObj(interval)){this.cfg.setProperty("autoPlay",interval,true)}if(this._autoPlayTimer!==null){return this._autoPlayTimer}var oThis=this;var autoScroll=function(){oThis.scrollNext()};this._autoPlayTimer=setTimeout(autoScroll,this.cfg.getProperty("autoPlay"));return this._autoPlayTimer},stopAutoPlay:function(){if(this._autoPlayTimer!==null){clearTimeout(this._autoPlayTimer);this._autoPlayTimer=null}},isVertical:function(){return(this.cfg.getProperty("orientation")!="horizontal")},isItemLoaded:function(idx){var liElem=this.getItem(idx);if(this._isValidObj(liElem)&&!this._isValidObj(liElem.placeholder)){return true}return false},getItem:function(idx){var elemName=this._carouselElemID+"-item-"+idx;var liElem=YAHOO.util.Dom.get(elemName);return liElem},show:function(){YAHOO.util.Dom.setStyle(this.carouselElem,"display","block");this.calculateSize()},hide:function(){YAHOO.util.Dom.setStyle(this.carouselElem,"display","none")},calculateSize:function(){var ulKids=this.carouselList.childNodes;var li=null;for(var i=0;i<ulKids.length;i++){li=ulKids[i];if(li.tagName=="LI"||li.tagName=="li"){break}}var navMargin=this.cfg.getProperty("navMargin");var numVisible=this.cfg.getProperty("numVisible");var firstVisible=this.cfg.getProperty("firstVisible");var pl=this._getStyleVal(li,"paddingLeft");var pr=this._getStyleVal(li,"paddingRight");var ml=this._getStyleVal(li,"marginLeft");var mr=this._getStyleVal(li,"marginRight");var pt=this._getStyleVal(li,"paddingTop");var pb=this._getStyleVal(li,"paddingBottom");var mt=this._getStyleVal(li,"marginTop");var mb=this._getStyleVal(li,"marginBottom");YAHOO.util.Dom.removeClass(this.carouselList,"carousel-vertical");YAHOO.util.Dom.removeClass(this.carouselList,"carousel-horizontal");if(this.isVertical()){var liPaddingMarginWidth=pl+pr+ml+mr;YAHOO.util.Dom.addClass(this.carouselList,"carousel-vertical");var liPaddingMarginHeight=pt+pb+mt+mb;var upt=this._getStyleVal(this.carouselList,"paddingTop");var upb=this._getStyleVal(this.carouselList,"paddingBottom");var umt=this._getStyleVal(this.carouselList,"marginTop");var umb=this._getStyleVal(this.carouselList,"marginBottom");var ulPaddingHeight=upt+upb+umt+umb;var revealAmt=(this._isExtraRevealed())?(this.cfg.getProperty("revealAmount")+(liPaddingMarginHeight)/2):0;var liHeight=this._getStyleVal(li,"height",true);this.scrollAmountPerInc=(liHeight+liPaddingMarginHeight);var liWidth=this._getStyleVal(li,"width");this.carouselElem.style.width=(liWidth+liPaddingMarginWidth)+"px";this._clipReg.style.height=(this.scrollAmountPerInc*numVisible+revealAmt*2+ulPaddingHeight)+"px";this.carouselElem.style.height=(this.scrollAmountPerInc*numVisible+revealAmt*2+navMargin*2+ulPaddingHeight)+"px";var revealTop=(this._isExtraRevealed())?(revealAmt-(Math.abs(mt-mb)+Math.abs(pt-pb))/2):0;YAHOO.util.Dom.setStyle(this.carouselList,"position","relative");YAHOO.util.Dom.setStyle(this.carouselList,"top",""+revealTop+"px");var currY=YAHOO.util.Dom.getY(this.carouselList);YAHOO.util.Dom.setY(this.carouselList,currY-this.scrollAmountPerInc*(firstVisible-1))}else{YAHOO.util.Dom.addClass(this.carouselList,"carousel-horizontal");var upl=this._getStyleVal(this.carouselList,"paddingLeft");var upr=this._getStyleVal(this.carouselList,"paddingRight");var uml=this._getStyleVal(this.carouselList,"marginLeft");var umr=this._getStyleVal(this.carouselList,"marginRight");var ulPaddingWidth=upl+upr+uml+umr;var liMarginWidth=ml+mr;var liPaddingMarginWidth=liMarginWidth+pr+pl;var revealAmt=(this._isExtraRevealed())?(this.cfg.getProperty("revealAmount")+(liPaddingMarginWidth)/2):0;var liWidth=li.offsetWidth;this.scrollAmountPerInc=liWidth+liMarginWidth;this._clipReg.style.width=(this.scrollAmountPerInc*numVisible+revealAmt*2)+"px";this.carouselElem.style.width=(this.scrollAmountPerInc*numVisible+navMargin*2+revealAmt*2+ulPaddingWidth)+"px";var revealLeft=(this._isExtraRevealed())?(revealAmt-(Math.abs(mr-ml)+Math.abs(pr-pl))/2-(uml+upl)):0;YAHOO.util.Dom.setStyle(this.carouselList,"position","relative");YAHOO.util.Dom.setStyle(this.carouselList,"left",""+revealLeft+"px");var currX=YAHOO.util.Dom.getX(this.carouselList);YAHOO.util.Dom.setX(this.carouselList,currX-this.scrollAmountPerInc*(firstVisible-1))}},setProperty:function(property,value,silent){this.cfg.setProperty(property,value,silent)},getProperty:function(property){return this.cfg.getProperty(property)},getFirstItemRevealed:function(){return this._firstItemRevealed},getLastItemRevealed:function(){return this._lastItemRevealed},getFirstVisible:function(){return this.cfg.getProperty("firstVisible")},getLastVisible:function(){var firstVisible=this.cfg.getProperty("firstVisible");var numVisible=this.cfg.getProperty("numVisible");return firstVisible+numVisible-1},_getStyleVal:function(li,style,returnFloat){var styleValStr=YAHOO.util.Dom.getStyle(li,style);var styleVal=returnFloat?parseFloat(styleValStr):parseInt(styleValStr,10);if(style=="height"&&isNaN(styleVal)){styleVal=li.offsetHeight}else{if(isNaN(styleVal)){styleVal=0}}return styleVal},_calculateSize:function(me){me.calculateSize();me.show()},_removeChildrenFromNode:function(node){if(!this._isValidObj(node)){return }var len=node.childNodes.length;while(node.hasChildNodes()){node.removeChild(node.firstChild)}},_prebuildLiElem:function(idx){if(idx<1){return }var liElem=document.createElement("li");liElem.id=this._carouselElemID+"-item-"+idx;liElem.placeholder=true;this.carouselList.appendChild(liElem);this._lastPrebuiltIdx=(idx>this._lastPrebuiltIdx)?idx:this._lastPrebuiltIdx},_createItem:function(idx,innerHTMLOrElem){if(idx<1){return }var liElem=document.createElement("li");liElem.id=this._carouselElemID+"-item-"+idx;if(typeof (innerHTMLOrElem)==="string"){liElem.innerHTML=innerHTMLOrElem}else{liElem.appendChild(innerHTMLOrElem)}return liElem},_insertAfterItem:function(refIdx,innerHTMLOrElem){return this._insertBeforeItem(refIdx+1,innerHTMLOrElem)},_insertBeforeItem:function(refIdx,innerHTMLOrElem){var refItem=this.getItem(refIdx);var size=this.cfg.getProperty("size");if(size!=this.UNBOUNDED_SIZE){this.cfg.setProperty("size",size+1,true)}for(var i=this._lastPrebuiltIdx;i>=refIdx;i--){var anItem=this.getItem(i);if(this._isValidObj(anItem)){anItem.id=this._carouselElemID+"-item-"+(i+1)}}var liElem=this._createItem(refIdx,innerHTMLOrElem);var insertedItem=this.carouselList.insertBefore(liElem,refItem);this._lastPrebuiltIdx+=1;return liElem},insertAfterEnd:function(innerHTMLOrElem){return this.insertAfter(this.cfg.getProperty("size"),innerHTMLOrElem)},_position:function(newStart,showAnimation){var currStart=this._priorFirstVisible;if(newStart>currStart){var inc=newStart-currStart;this._scrollNextInc(inc,showAnimation)}else{var dec=currStart-newStart;this._scrollPrevInc(dec,showAnimation)}},_scrollPrev:function(e,carousel){if(e!==null){carousel.stopAutoPlay()}if(carousel._scrollPrevAnim.isAnimated()){return false}carousel._scrollPrevInc(carousel.cfg.getProperty("scrollInc"),(carousel.cfg.getProperty("animationSpeed")!==0))},_scrollNext:function(e,carousel){if(e!==null){carousel.stopAutoPlay()}if(carousel._scrollNextAnim.isAnimated()){return false}carousel._scrollNextInc(carousel.cfg.getProperty("scrollInc"),(carousel.cfg.getProperty("animationSpeed")!==0))},_handleAnimationComplete:function(type,args,argList){var carousel=argList[0];var direction=argList[1];carousel._animationCompleteEvt.fire(direction)},_areAllItemsLoaded:function(first,last){var itemsLoaded=true;for(var i=first;i<=last;i++){var liElem=this.getItem(i);if(!this._isValidObj(liElem)){this._prebuildLiElem(i);itemsLoaded=false}else{if(this._isValidObj(liElem.placeholder)){itemsLoaded=false}}}return itemsLoaded},_prebuildItems:function(first,last){for(var i=first;i<=last;i++){var liElem=this.getItem(i);if(!this._isValidObj(liElem)){this._prebuildLiElem(i)}}},_isExtraRevealed:function(){return(this.cfg.getProperty("revealAmount")>0)},_scrollNextInc:function(inc,showAnimation){var numVisible=this.cfg.getProperty("numVisible");var currStart=this._priorFirstVisible;var currEnd=this._priorLastVisible;var size=this.cfg.getProperty("size");var scrollExtent=this._calculateAllowableScrollExtent();if(this.cfg.getProperty("wrap")&&currEnd==scrollExtent.end){this.scrollTo(scrollExtent.start);return }var newStart=currStart+inc;var newEnd=newStart+numVisible-1;if(newEnd>scrollExtent.end){newEnd=scrollExtent.end;newStart=newEnd-numVisible+1}inc=newStart-currStart;this.cfg.setProperty("firstVisible",newStart,true);if(inc>0){if(this._isValidObj(this.cfg.getProperty("loadNextHandler"))){var visibleExtent=this._calculateVisibleExtent(newStart,newEnd);var cacheStart=(currEnd+1)<visibleExtent.start?(currEnd+1):visibleExtent.start;var alreadyCached=this._areAllItemsLoaded(cacheStart,visibleExtent.end);this._loadNextHandlerEvt.fire(visibleExtent.start,visibleExtent.end,alreadyCached)}if(showAnimation){var nextParams={points:{by:[-this.scrollAmountPerInc*inc,0]}};if(this.isVertical()){nextParams={points:{by:[0,-this.scrollAmountPerInc*inc]}}}this._scrollNextAnim=new YAHOO.util.Motion(this.carouselList,nextParams,this.cfg.getProperty("animationSpeed"),this.cfg.getProperty("animationMethod"));if(this.cfg.getProperty("animationCompleteHandler")){this._scrollNextAnim.onComplete.subscribe(this._handleAnimationComplete,[this,"next"])}this._scrollNextAnim.animate()}else{if(this.isVertical()){var currY=YAHOO.util.Dom.getY(this.carouselList);YAHOO.util.Dom.setY(this.carouselList,currY-this.scrollAmountPerInc*inc)}else{var currX=YAHOO.util.Dom.getX(this.carouselList);YAHOO.util.Dom.setX(this.carouselList,currX-this.scrollAmountPerInc*inc)}}}this._priorFirstVisible=newStart;this._priorLastVisible=newEnd;this._enableDisableControls();return false},_scrollPrevInc:function(dec,showAnimation){var numVisible=this.cfg.getProperty("numVisible");var currStart=this._priorFirstVisible;var currEnd=this._priorLastVisible;var size=this.cfg.getProperty("size");var newStart=currStart-dec;var scrollExtent=this._calculateAllowableScrollExtent();newStart=(newStart<scrollExtent.start)?scrollExtent.start:newStart;var newEnd=newStart+numVisible-1;if(newEnd>scrollExtent.end){newEnd=scrollExtent.end;newStart=newEnd-numVisible+1}dec=currStart-newStart;this.cfg.setProperty("firstVisible",newStart,true);if(dec>0){if(this._isValidObj(this.cfg.getProperty("loadPrevHandler"))){var visibleExtent=this._calculateVisibleExtent(newStart,newEnd);var cacheEnd=(currStart-1)>visibleExtent.end?(currStart-1):visibleExtent.end;var alreadyCached=this._areAllItemsLoaded(visibleExtent.start,cacheEnd);this._loadPrevHandlerEvt.fire(visibleExtent.start,visibleExtent.end,alreadyCached)}if(showAnimation){var prevParams={points:{by:[this.scrollAmountPerInc*dec,0]}};if(this.isVertical()){prevParams={points:{by:[0,this.scrollAmountPerInc*dec]}}}this._scrollPrevAnim=new YAHOO.util.Motion(this.carouselList,prevParams,this.cfg.getProperty("animationSpeed"),this.cfg.getProperty("animationMethod"));if(this.cfg.getProperty("animationCompleteHandler")){this._scrollPrevAnim.onComplete.subscribe(this._handleAnimationComplete,[this,"prev"])}this._scrollPrevAnim.animate()}else{if(this.isVertical()){var currY=YAHOO.util.Dom.getY(this.carouselList);YAHOO.util.Dom.setY(this.carouselList,currY+this.scrollAmountPerInc*dec)}else{var currX=YAHOO.util.Dom.getX(this.carouselList);YAHOO.util.Dom.setX(this.carouselList,currX+this.scrollAmountPerInc*dec)}}}this._priorFirstVisible=newStart;this._priorLastVisible=newEnd;this._enableDisableControls();return false},_enableDisableControls:function(){var firstVisible=this.cfg.getProperty("firstVisible");var lastVisible=this.getLastVisible();var scrollExtent=this._calculateAllowableScrollExtent();if(this._prevEnabled){if(firstVisible===scrollExtent.start){this._disablePrev()}}if(this._prevEnabled===false){if(firstVisible>scrollExtent.start){this._enablePrev()}}if(this._nextEnabled){if(lastVisible===scrollExtent.end){this._disableNext()}}if(this._nextEnabled===false){if(lastVisible<scrollExtent.end){this._enableNext()}}},_loadInitial:function(){var firstVisible=this.cfg.getProperty("firstVisible");this._priorLastVisible=this.getLastVisible();if(this._loadInitHandlerEvt){var visibleExtent=this._calculateVisibleExtent(firstVisible,this._priorLastVisible);var alreadyCached=this._areAllItemsLoaded(1,visibleExtent.end);this._loadInitHandlerEvt.fire(visibleExtent.start,visibleExtent.end,alreadyCached)}if(this.cfg.getProperty("autoPlay")!==0){this._autoPlayTimer=this.startAutoPlay()}this._enableDisableControls()},_calculateAllowableScrollExtent:function(){var scrollBeforeAmount=this.cfg.getProperty("scrollBeforeAmount");var scrollAfterAmount=this.cfg.getProperty("scrollAfterAmount");var size=this.cfg.getProperty("size");var extent={start:1-scrollBeforeAmount,end:size+scrollAfterAmount};return extent},_calculateVisibleExtent:function(start,end){if(!start){start=this.cfg.getProperty("firstVisible");end=this.getLastVisible()}var size=this.cfg.getProperty("size");start=start<1?1:start;end=end>size?size:end;var extent={start:start,end:end};this._firstItemRevealed=-1;this._lastItemRevealed=-1;if(this._isExtraRevealed()){if(start>1){this._firstItemRevealed=start-1;extent.start=this._firstItemRevealed}if(end<size){this._lastItemRevealed=end+1;extent.end=this._lastItemRevealed}}return extent},_disablePrev:function(){this._prevEnabled=false;if(this._prevButtonStateHandlerEvt){this._prevButtonStateHandlerEvt.fire(false,this._carouselPrev)}if(this._isValidObj(this._carouselPrev)){YAHOO.util.Event.removeListener(this._carouselPrev,"click",this._scrollPrev)}},_enablePrev:function(){this._prevEnabled=true;if(this._prevButtonStateHandlerEvt){this._prevButtonStateHandlerEvt.fire(true,this._carouselPrev)}if(this._isValidObj(this._carouselPrev)){YAHOO.util.Event.addListener(this._carouselPrev,"click",this._scrollPrev,this)}},_disableNext:function(){if(this.cfg.getProperty("wrap")){return }this._nextEnabled=false;if(this._isValidObj(this._nextButtonStateHandlerEvt)){this._nextButtonStateHandlerEvt.fire(false,this._carouselNext)}if(this._isValidObj(this._carouselNext)){YAHOO.util.Event.removeListener(this._carouselNext,"click",this._scrollNext)}},_enableNext:function(){this._nextEnabled=true;if(this._isValidObj(this._nextButtonStateHandlerEvt)){this._nextButtonStateHandlerEvt.fire(true,this._carouselNext)}if(this._isValidObj(this._carouselNext)){YAHOO.util.Event.addListener(this._carouselNext,"click",this._scrollNext,this)}},_isValidObj:function(obj){if(null==obj){return false}if("undefined"==typeof (obj)){return false}return true}};function considerChangingExpiryFocus(){var drop=YAHOO.util.Dom.get("wpBlockExpiry");var field=YAHOO.util.Dom.get("wpBlockOther");if(!field||!drop){return }var opt=drop.value;if(opt=="other"){YAHOO.util.Dom.setStyle(field,"display","")}else{YAHOO.util.Dom.setStyle(field,"display","none")}}function updateBlockOptions(){var target=YAHOO.util.Dom.get("mw-bi-target");if(!target){return }var addy=target.value;var isEmpty=addy.match(/^\s*$/);var isIp=addy.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}(\/\d+)?$/);var anonymousRow=YAHOO.util.Dom.get("wpAnonOnlyRow");if(!isIp&&!isEmpty){YAHOO.util.Dom.setStyle(anonymousRow,"display","none")}else{YAHOO.util.Dom.setStyle(anonymousRow,"display","")}var autoblockRow=YAHOO.util.Dom.get("wpEnableAutoblockRow");if(isIp&&!isEmpty){YAHOO.util.Dom.setStyle(autoblockRow,"display","none")}else{YAHOO.util.Dom.setStyle(autoblockRow,"display","")}}function attemptToBlockUser(o){var full_id=o.parentNode.id;var instanceId=full_id.split("_")[1];var postData="";for(i=0;i<o.elements.length;i++){if(o.elements[i].name=="wpAnonOnly"||o.elements[i].name=="wpCreateAccountCheck"||o.elements[i].name=="wpEnableAutoblock"){if(o.elements[i].checked){postData+=o.elements[i].name+"="+1+"&"}else{postData+=o.elements[i].name+"="+0+"&"}}else{postData+=o.elements[i].name+"="+escape(o.elements[i].value)+"&"}}postData+="action=submit";YAHOO.util.Dom.get("wpBlock").disabled=true;refreshWidget("name=WidgetBlockUser&instance="+instanceId,"WidgetBlockUser_"+instanceId,postData,"html");return false}function WidgetBlockUserRefresh(widget){updateBlockOptions();considerChangingExpiryFocus()}YAHOO.namespace("Wikia");YAHOO.Wikia.slideshow=function(container,o){this.container=YAHOO.util.Dom.get(container);this.effect=o.effect;var frames=o.frames;this.frames=[];var cached_frames=YAHOO.util.Dom.getElementsByClassName("yui-sldshw-frame",null,this.container);this.paused=false;for(var i=0;i<cached_frames.length;i++){this.frames[i]={id:i,type:"cached",value:cached_frames[i]}}if(frames!=null&&frames!=undefined){for(var i=0;i<o.frames.length;i++){this.frames[i+cached_frames.length]=o.frames[i]}}this.slide_selector_prev=function(number_of_slides,current_index){current_index--;return(current_index>=0?current_index:number_of_slides-1)};this.slide_selector_next=function(number_of_slides,current_index){return(current_index+1)%number_of_slides};if(o.interval){this.interval=o.interval}else{this.interval=5000}this.init()};YAHOO.Wikia.slideshow.prototype={init:function(){if(!this.effect){this.effect=YAHOO.Wikia.slideshow.effects.slideUp}this.active_frame=this.get_active_frame();this.choose_next_frame()},get_active_frame:function(){var current_frame=YAHOO.util.Dom.getElementsByClassName("yui-sldshw-active",null,this.container)[0];return current_frame},get_next_frame:function(){var next_frame=YAHOO.util.Dom.getElementsByClassName("yui-sldshw-next",null,this.container)[0];return next_frame},get_frame_index:function(frame){for(var i=0;i<this.frames.length;i++){if(this.frames[i].value==frame){return i}}return -1},choose_prev_frame:function(){var current_index=this.get_frame_index(this.get_next_frame());if(current_index<0){current_index=0}var all_frames=this.frames;var active_index=this.slide_selector_prev(all_frames.length,current_index);var active=all_frames[active_index];var active_frame;while(active.value==this.next_frame||active.type=="broken"){active=all_frames[this.slide_selector_prev(all_frames.length,active_index)]}active_frame=active.value;YAHOO.util.Dom.removeClass(active_frame,"yui-sldshw-cached");YAHOO.util.Dom.addClass(active_frame,"yui-sldshw-active");this.active_frame=active_frame;this.effect.setup(this.next_frame)},choose_next_frame:function(){var current_index=this.get_frame_index(this.get_active_frame());if(current_index<0){current_index=0}var all_frames=this.frames;var next_index=this.slide_selector_next(all_frames.length,current_index);var next=all_frames[next_index];var next_frame;while(next.value==this.active_frame||next.type=="broken"){next=all_frames[this.slide_selector_next(all_frames.length,next_index)]}next_frame=next.value;YAHOO.util.Dom.removeClass(next_frame,"yui-sldshw-cached");YAHOO.util.Dom.addClass(next_frame,"yui-sldshw-next");this.next_frame=next_frame;this.effect.setup(this.next_frame)},clean_up_transition:function(){YAHOO.util.Dom.replaceClass(this.active_frame,"yui-sldshw-active","yui-sldshw-cached");YAHOO.util.Dom.replaceClass(this.next_frame,"yui-sldshw-next","yui-sldshw-active");this.active_frame=this.next_frame;this.choose_next_frame()},transition:function(){var hide=this.effect.get_animation(this.active_frame);hide.onComplete.subscribe(this.clean_up_transition,this,true);hide.animate()},loop:function(){var self;self=this;this.loop_interval=setInterval(function(){self.transition()},this.interval)},destroy:function(){clearInterval(this.loop_interval)},controlPrev:function(e,obj){YAHOO.util.Dom.removeClass(obj.active_frame,"yui-sldshw-active");YAHOO.util.Dom.addClass(obj.active_frame,"yui-sldshw-next");YAHOO.util.Dom.removeClass(obj.next_frame,"yui-sldshw-next");YAHOO.util.Dom.addClass(obj.next_frame,"yui-sldshw-cached");obj.next_frame=obj.active_frame;obj.choose_prev_frame();obj.active_frame.style.opacity=1;clearInterval(obj.loop_interval);obj.loop()},controlNext:function(e,obj){YAHOO.util.Dom.removeClass(obj.active_frame,"yui-sldshw-active");YAHOO.util.Dom.addClass(obj.active_frame,"yui-sldshw-cached");YAHOO.util.Dom.removeClass(obj.next_frame,"yui-sldshw-next");YAHOO.util.Dom.addClass(obj.next_frame,"yui-sldshw-active");obj.active_frame=obj.next_frame;obj.choose_next_frame();clearInterval(obj.loop_interval);obj.loop()},controlPause:function(e,obj){if(obj.paused){obj.loop();obj.paused=false;this.className="widgetSlideshowControlPause"}else{clearInterval(obj.loop_interval);obj.paused=true;this.className="widgetSlideshowControlPlay"}}};YAHOO.Wikia.slideshow.effects={slideRight:{setup:function(frame){YAHOO.util.Dom.setStyle(frame,"top","0");YAHOO.util.Dom.setStyle(frame,"left","0")},get_animation:function(frame){var region=YAHOO.util.Dom.getRegion(frame);return new YAHOO.util.Motion(frame,{points:{by:[region.right-region.left,0]}},1,YAHOO.util.Easing.easeOut)}},slideLeft:{setup:function(frame){YAHOO.util.Dom.setStyle(frame,"top","0");YAHOO.util.Dom.setStyle(frame,"left","0")},get_animation:function(frame){var region=YAHOO.util.Dom.getRegion(frame);return new YAHOO.util.Motion(frame,{points:{by:[region.left-region.right,0]}},1,YAHOO.util.Easing.easeOut)}},squeezeLeft:{setup:function(frame){YAHOO.util.Dom.setStyle(frame,"width","100%")},get_animation:function(frame){var region=YAHOO.util.Dom.getRegion(frame);return new YAHOO.util.Anim(frame,{width:{to:0}},1,YAHOO.util.Easing.easeOut)}},squeezeRight:{setup:function(frame){YAHOO.util.Dom.setStyle(frame,"width","100%");YAHOO.util.Dom.setStyle(frame,"right","0px")},get_animation:function(frame){var region=YAHOO.util.Dom.getRegion(frame);YAHOO.util.Dom.setStyle(frame,"right","0px");return new YAHOO.util.Anim(frame,{width:{to:0}},1,YAHOO.util.Easing.easeOut)}},squeezeUp:{setup:function(frame){YAHOO.util.Dom.setStyle(frame,"height","100%")},get_animation:function(frame){var region=YAHOO.util.Dom.getRegion(frame);return new YAHOO.util.Anim(frame,{height:{to:0}},1,YAHOO.util.Easing.easeOut)}},squeezeDown:{setup:function(frame){YAHOO.util.Dom.setStyle(frame,"height","100%")},get_animation:function(frame){var region=YAHOO.util.Dom.getRegion(frame);YAHOO.util.Dom.setStyle(frame,"bottom","0px");return new YAHOO.util.Anim(frame,{height:{to:0}},1,YAHOO.util.Easing.easeOut)}},fadeOut:{setup:function(frame){YAHOO.util.Dom.setStyle(frame,"opacity","1")},get_animation:function(frame){return new YAHOO.util.Anim(frame,{opacity:{to:0}},1,YAHOO.util.Easing.easeOut)}},fadeIn:{setup:function(frame){YAHOO.util.Dom.setStyle(frame,"opacity","0");YAHOO.util.Dom.setStyle(frame,"z-index","20")},get_animation:function(frame){var region=YAHOO.util.Dom.getRegion(frame);return new YAHOO.util.Anim(frame,{opacity:{to:1}},1,YAHOO.util.Easing.easeOut)}}};YAHOO.Wikia.slideshow.effects.slideUp={setup:function(frame){YAHOO.util.Dom.setStyle(frame,"top","0");YAHOO.util.Dom.setStyle(frame,"left","0")},get_animation:function(frame){var region=YAHOO.util.Dom.getRegion(frame);return new YAHOO.util.Motion(frame,{points:{by:[0,region.top-region.bottom]}},1,YAHOO.util.Easing.easeOut)}};function WidgetSlideshowOnUpdate(widget){if(typeof wikiaSlideshow!="undefined"){wikiaSlideshow.destroy()}images=YAHOO.Tools.JSONParse(YAHOO.util.Dom.get("widgetSlideshow"+widget.id+"List").innerHTML);if(images.length){for(i=0;i<images.length;i++){div=document.createElement("div");div.className="slide yui-sldshw-frame"+(i==0?" yui-sldshw-active":"");div.style.backgroundImage='url("'+images[i].thumb+'")';div.innerHTML='<a href="'+images[i].url+'" title="'+images[i].alt+'"></a>';YAHOO.util.Dom.get(widget.id+"_content").appendChild(div)}}else{div=document.createElement("div");div.innerHTML=images;YAHOO.util.Dom.get(widget.id+"_content").appendChild(div)}wikiaSlideshow=new YAHOO.Wikia.slideshow(widget.id+"_content",{frames:null,effect:YAHOO.Wikia.slideshow.effects.fadeOut,interval:5000});wikiaSlideshow.loop();var controls=YAHOO.util.Dom.get(widget.id+"Controls").getElementsByTagName("a");for(c=0;c<controls.length;c++){var type=controls[c].className.substr(22);var callback=function(){};switch(type){case"Prev":callback=wikiaSlideshow.controlPrev;break;case"Next":callback=wikiaSlideshow.controlNext;break;case"Pause":callback=wikiaSlideshow.controlPause;break}YAHOO.util.Event.removeListener(controls[c],"click",callback);YAHOO.util.Event.addListener(controls[c],"click",callback,wikiaSlideshow)}}function WidgetSlideshowOnAdd(widget){YAHOO.util.Event.onDOMReady(function(){WidgetSlideshowOnUpdate(widget)})}function WidgetSlideshowOnClose(widget){wikiaSlideshow.destroy()}function changeWidgetTip(widgetId,tipId,dir){refreshWidget("name=WidgetTips&instance="+widgetId.split("_")[1],widgetId,"tipId="+tipId+"&tipDir="+dir,"internal")}function WidgetShoutBox_Send(data){var messageBox=YAHOO.util.Dom.get(data.id+"_message");var messageSubmit=YAHOO.util.Dom.get(data.id+"_submit");if(messageBox&&messageSubmit&&messageBox.value!=""){messageSubmit.disabled=true;var postData="message="+encodeURIComponent(messageBox.value);refreshWidget("name=WidgetShoutBox&instance="+data.id.split("_")[1],data.id,postData,"html");return true}else{return false}}function WidgetShoutBoxOnUpdate(data){var messageSubmit=YAHOO.util.Dom.get(data.id+"_submit");messageSubmit.disabled=false;YAHOO.util.Dom.get(data.id+"_message").focus()}function WidgetShoutboxTabToogle(elem){var id=elem.parentNode.parentNode.id.split("_");var currentTab=id[2];var widgetId=id[0]+"_"+id[1];var onlineTab=YAHOO.util.Dom.get(widgetId+"_online");var chatTab=YAHOO.util.Dom.get(widgetId+"_chat");switch(currentTab){case"online":onlineTab.style.display="none";chatTab.style.display="";YAHOO.Tools.setCookie(widgetId+"_showChat",1,new Date(2030,0,1));break;case"chat":onlineTab.style.display="";chatTab.style.display="none";YAHOO.Tools.setCookie(widgetId+"_showChat",0,new Date(2030,0,1));break}}function GetWidgetsList(){return{WidgetAdvertiser:{"editable":false,"draggable":false,"closeable":false,"fetchable":false,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":false,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Ads","pl":"Reklama"},"desc":{"en":"N/A"},"available":[1,2,3,4,5]},WidgetBlockUser:{"editable":false,"draggable":true,"closeable":true,"fetchable":true,"hideable":true,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":["sysop","staff"],"name":{"af":"Blok IP-adres","ar":"\u0645\u0646\u0639 \u0645\u0633\u062a\u062e\u062f\u0645","az":"\u0130stifad\u0259\u00e7iyi blokla","ba":"\u04a0\u0430\u0442\u043d\u0430\u0448\u044b\u0443\u0441\u044b\u043d\u044b \u044f\u0431\u044b\u0443","be":"\u0411\u043b\u044f\u043a\u0430\u0432\u0430\u043d\u044c\u043d\u0435 \u045e\u0434\u0437\u0435\u043b\u044c\u043d\u0456\u043a\u0430 \u0446\u0456 \u045e\u0434\u0437\u0435\u043b\u044c\u043d\u0456\u0446\u044b","bg":"\u0411\u043b\u043e\u043a\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b","bpy":"\u0986\u09a4\u09be\u0995\u09c1\u09b0\u09be\u0997\u09b0\u09c7 \u09a5\u09c7\u09aa\u0995\u09b0","br":"Stanka\u00f1 ur chomlec'h IP","bs":"Blokiraj korisnika","ca":"Bloca l'usuari","cs":"Zablokovat u\u017eivatele","csb":"Zasc\u00ebg\u00f4j IP-adres\u00e3","cu":"\u0417\u0430\u0433\u0440\u0430\u0434\u0438 \u043f\u043e\u043b\u044c\u0455\u0435\u0432\u0430\u0442\u0435\u043b\u044c","cy":"Blociwch cyfeiriad IP","da":"Bloker bruger","de":"IP-Adresse/Benutzer sperren","el":"\u03a6\u03c1\u03b1\u03b3\u03ae \u03c7\u03c1\u03ae\u03c3\u03c4\u03b7 \u03ae \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 IP","en":"Block User","eo":"Forbaru IP-adreson/nomon","es":"Bloquear usuario","et":"Blokeeri IP-aadress","eu":"Erabiltzailea blokeatu","fa":"\u0628\u0633\u062a\u0646 \u06a9\u0627\u0631\u0628\u0631","fi":"Aseta muokkausesto","fr":"Bloquer une adresse IP ou un utilisateur","fy":"Slut br\u00fbker \u00fat","ga":"Coisc \u00fas\u00e1ideoir","gsw":"Benutzer bzw. IP blockyre","he":"\u05d7\u05e1\u05d9\u05de\u05ea \u05de\u05e9\u05ea\u05de\u05e9","hr":"Blokiraj suradnika","hsb":"Wu\u017eiwarja zablokowa\u0107","hu":"IP-c\u00edm blokkol\u00e1sa","ia":"Blocar adresse IP","id":"Blokir pengguna","is":"Banna notanda","it":"Blocco utente","ja":"\u6295\u7a3f\u30d6\u30ed\u30c3\u30af","kn":"\u0c88 \u0cb8\u0ca6\u0cb8\u0ccd\u0caf\u0ca8\u0ca8\u0ccd\u0ca8\u0cc1 \u0ca4\u0ca1\u0cc6 \u0cb9\u0cbf\u0ca1\u0cbf\u0caf\u0cbf\u0cb0\u0cbf","ko":"\uc0ac\uc6a9\uc790 \ucc28\ub2e8","ksh":"Metmaacher sperre","ku":"Bikarh\u00eaner asteng bike","la":"Usorem obstruere","li":"Blokkeer dit IP-adres","lt":"Blokuoti naudotoj\u0105","lv":"Blo\u0137\u0113t lietot\u0101ju","mk":"\u0411\u043b\u043e\u043a\u0438\u0440\u0430\u0458 \u0433\u043e \u043a\u043e\u0440\u0438\u0441\u043d\u0438\u043a\u043e\u0442","ms":"Sekatkan IP","mt":"Ibblokkja l-utent","nds":"IP-Adress blocken","nl":"Gebruiker blokkeren","nn":"Blokker brukar","no":"Blokker IP-adresse","oc":"Bloquer une adresse IP","pl":"Zablokuj u\u017cytkownika","pms":"Bloch\u00e8 n'adr\u00ebssa IP","pt":"Bloquear utilizador","ro":"Blocheaz\u0103 utilizator / IP","ru":"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430","sc":"Blocca indirizzo IP","sk":"Zablokova\u0165 pou\u017e\u00edvate\u013ea","sl":"Blokiranje IP-naslova ali uporabni\u0161kega imena","sq":"Blloko p\u00ebrdorues","su":"Peungpeuk pamak\u00e9","sv":"Blockera IP-adress","ta":"\u0baa\u0baf\u0ba9\u0bb0\u0bc8\u0ba4\u0bcd \u0ba4\u0b9f\u0bc1","te":"\u0c38\u0c2d\u0c4d\u0c2f\u0c41\u0c28\u0c3f \u0c28\u0c3f\u0c30\u0c4b\u0c27\u0c3f\u0c02\u0c1a\u0c41","tr":"Bu IP'den eri\u015fimi engelle","tt":"Qullanu\u00e7\u0131 t\u00edu","uk":"\u0417\u0430\u0431\u043b\u043e\u043a\u0443\u0432\u0430\u0442\u0438 IP-\u0430\u0434\u0440\u0435\u0441\u0443","vec":"Blocca indirizso IP","vi":"C\u1ea5m th\u00e0nh vi\u00ean","wa":"Bloker \u00e8n uzeu","yi":"\u05d1\u05d0\u05b7\u05e0\u05d9\u05e6\u05e2\u05e8 \u05d0\u05b7\u05e8\u05f1\u05e1\u05d8\u05e8\u05f2\u05d1\u05df"},"desc":{"en":"Quickly block a user by ip address or username."},"available":[1,2,3,4,5]},WidgetEditedRecently:{"editable":true,"draggable":true,"closeable":true,"fetchable":true,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Recently Edited By","pl":"Ostatnio zmieniane przez"},"desc":{"en":"Displays a list of recent editors for any article you visit.","pl":"Lista ostatnich edytor\u00f3w tej strony"},"available":[1,2,3,4,5]},WidgetLanguageUrls:{"editable":true,"draggable":true,"closeable":false,"fetchable":false,"hideable":true,"hidden":false,"hideonspecialpages":false,"listable":false,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Cross-language"},"desc":{"en":"cross-language links functionality"},"available":[1,2,3,4,5]},WidgetLastWikis:{"editable":false,"draggable":true,"closeable":true,"fetchable":true,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Last Wikis","pl":"Ostatnio Odwiedzone"},"desc":{"en":"Quickly jump back to wikis that you've visited in the past.","pl":"Lista ostatnio odwiedzonych Wikii"},"available":[1,2,3,4,5]},WidgetMostVisited:{"editable":false,"draggable":true,"closeable":true,"fetchable":true,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Most Visited","pl":"Najcz\u0119\u015bciej Odwiedzane"},"desc":{"en":"A list of the most visited articles on this wiki.","pl":"Lista najcz\u0119\u015bciej odwiedzanych artyku\u0142\u00f3w"},"available":[1,2,3,4,5]},WidgetNeedHelp:{"editable":false,"draggable":true,"closeable":true,"fetchable":true,"hideable":true,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Needs Help","pl":"Potrzebna pomoc"},"desc":{"en":"Displays articles that have been marked as needing help.","pl":"Wy\u015bwietla artyku\u0142y wymagaj\u0105ce dopracowania"},"available":[1,2,3,4,5]},WidgetProblemReports:{"editable":true,"draggable":true,"closeable":true,"fetchable":true,"hideable":true,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":0,"curinstances":0,"usergroups":[],"name":{"en":"Problem Reports","pl":"Zg\u0142oszone problemy"},"desc":{"en":"Displays a list of reported problems for this wiki.","pl":"Lista zg\u0142oszonych problem\u00f3w"},"available":[1,2,3,4,5]},WidgetRecentChanges:{"editable":true,"draggable":true,"closeable":true,"fetchable":true,"hideable":true,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Recent Changes","pl":"Ostatnie Zmiany"},"desc":{"en":"At a glance, see this wiki's list of recent changes.","pl":"Lista ostatnich zmian na tej stronie"},"available":[1,2,3,4,5]},WidgetSidebar:{"editable":false,"draggable":true,"closeable":false,"fetchable":false,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":false,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"N/A"},"desc":{"en":"N/A"},"available":[1,2,3,4,5]},WidgetThisWiki:{"editable":false,"draggable":true,"closeable":false,"fetchable":false,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":false,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"N/A"},"desc":{"en":"N/A"},"available":[1,2,3,4,5]},WidgetWikiaToolbox:{"editable":false,"draggable":true,"closeable":false,"fetchable":false,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":false,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Toolbox"},"desc":{"en":"Toolbox"},"available":[1,2,3,4,5]},WidgetTopUsers:{"editable":false,"draggable":true,"closeable":true,"fetchable":true,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Top Users"},"desc":{"en":"See a list of the most active users of this wiki."},"available":[1,2,3,4,5]},WidgetTopVoted:{"editable":false,"draggable":true,"closeable":true,"fetchable":true,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Top Voted","pl":"Najwy\u017cej ocenione"},"desc":{"en":"See the highest rated articles, as voted by this wiki's community.","pl":"Lista najwy\u017cej ocenionych artyku\u0142\u00f3w na tej wiki"},"available":[1,2,3,4,5]},WidgetWatchlist:{"editable":false,"draggable":true,"closeable":true,"fetchable":true,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Watchlist","pl":"Obserwowane"},"desc":{"en":"Easily keep an eye on your watched pages.","pl":"Lista obserwowanych stron na tej wiki"},"available":[1,2,3,4,5]},WidgetWikiaMessages:{"editable":false,"draggable":true,"closeable":false,"fetchable":false,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":false,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"WikiaMessages","pl":"Komunikaty"},"desc":{"en":"Messages from Wikia","pl":"Komunikaty od Wikii"},"available":[1,2,3,4,5]},WidgetTopContent:{"editable":false,"draggable":true,"closeable":true,"fetchable":true,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Top Content"},"desc":{"en":"Four widgets in one: Most Popular, Most Visited, Newly Changed, Highest Ratings."},"available":[1,2,3,4,5]},WidgetWikiaPartners:{"editable":false,"draggable":true,"closeable":false,"fetchable":false,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":false,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Our partners","pl":"Nasi partnerzy"},"desc":{"en":"Our partners","pl":"Nasi partnerzy"},"available":[1,2,3,4,5]},WidgetGamespot:{"editable":false,"draggable":true,"closeable":false,"fetchable":true,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":false,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Gamespot updates"},"desc":{"en":"Info feed from Gamespot."},"available":[1,2,3,4,5]},WidgetActiveTalkPages:{"editable":true,"draggable":true,"closeable":true,"fetchable":true,"hideable":true,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Active Talk Pages","pl":"Aktywne strony dyskusji"},"desc":{"en":"A list of recently edited talk pages.","pl":"Lista ostatni edytowanych strony dyskusji"},"available":[1,2,3,4,5]},WidgetReferers:{"editable":false,"draggable":true,"closeable":true,"fetchable":true,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Top Referrers","pl":"Strony odsylajace"},"desc":{"en":'A "cloud" of the sites that link to this wiki. Bigger text means more refers.',"pl":"Chmura stron odsylajacych na ta Wikie"},"available":[1,2,3,4,5]},WidgetWikiPage:{"editable":true,"draggable":true,"closeable":true,"fetchable":true,"hideable":true,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":0,"curinstances":0,"usergroups":[],"name":{"en":"Wiki Page in Widget","pl":"Strona Wiki w wid\u017cecie"},"desc":{"en":"Display any article inside a widget. Great for making your own widget.","pl":"Umieszcza tre\u015b\u0107 podanej strony wewn\u0105trz wid\u017ceta"},"available":[1,2,3,4,5]},WidgetSlideshow:{"editable":true,"draggable":true,"closeable":true,"fetchable":true,"hideable":true,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Image Slideshow","pl":"Pokaz obraz\u00f3w"},"desc":{"en":"Watch a slideshow of images from this wiki.","pl":"Pokaz obraz\u00f3w"},"available":[1,2,3,4,5]},WidgetTips:{"editable":false,"draggable":true,"closeable":true,"fetchable":true,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Tips","pl":"Czy wiesz, \u017ce..."},"desc":{"en":"Shows random tips.","pl":"Pokazuje losowe podpowiedzi"},"available":[1,2,3,4,5]},WidgetAncientPages:{"editable":true,"draggable":true,"closeable":true,"fetchable":true,"hideable":true,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Stale Pages","pl":"Najstarsze strony"},"desc":{"en":"See a list of pages that have not been edited in a long time.","pl":"Lista stron nieedytowanych przez d\u0142u\u017cszy czas"},"available":[1,2,3,4,5]},WidgetShoutBox:{"editable":true,"draggable":true,"closeable":true,"fetchable":true,"hideable":true,"hidden":false,"hideonspecialpages":false,"listable":true,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Shout Box"},"desc":{"en":"See who's online and chat with your friends.","pl":"Rozmowy na stronach Wikia"},"available":[1,2,3,4,5]},WidgetLanguages:{"editable":false,"draggable":true,"closeable":false,"fetchable":false,"hideable":false,"hidden":false,"hideonspecialpages":false,"listable":false,"handlecount":0,"maxinstances":1,"curinstances":0,"usergroups":[],"name":{"en":"Languages"},"desc":{"en":"N/A"},"available":[1,2,3,4,5]}}}var carousel;var c_size;var pagerefresh=0;var userAgent={"ie":(navigator.appVersion.indexOf("MSIE")!=-1)&&(navigator.userAgent.indexOf("Opera")==-1),"opera":(navigator.userAgent.indexOf("Opera")!=-1),"firefox":(navigator.userAgent.indexOf("Firefox")!=-1)};if(!Array.indexOf){Array.prototype.indexOf=function(obj){for(var i=0;i<this.length;i++){if(this[i]==obj){return i}}return -1}}function fixIEwidget(widgetContentId){if(!userAgent.ie){return }var widget=YAHOO.util.Dom.get(widgetContentId);if(!widget){return }var div=document.createElement("div");div.innerHTML="foo";div.style.display="none";widget.appendChild(div);div.parentNode.removeChild(div)}function fixIEwidgets(widgets){if(userAgent.ie){for(var w in widgets){setTimeout('fixIEwidget("'+widgets[w]+'_inner")',10)}}}YAHOO.namespace("w");(function(){var Dom=YAHOO.util.Dom;var Event=YAHOO.util.Event;var DDM=YAHOO.util.DragDropMgr;YAHOO.w.DragDrop={init:function(){YAHOO.widget.Logger.log("YAHOO.w.DragDrop.init-in");Event.addListener("um-cockpit_show","click",YAHOO.w.DragDrop.enableDragAndDrop);Event.addListener("cockpit_hide","click",YAHOO.w.DragDrop.disableDragAndDrop);if(wgUserName){YAHOO.w.DragDrop.enableDragAndDrop(false)}YAHOO.widget.Logger.log("YAHOO.w.DragDrop.init-out")},disableDragAndDrop:function(e){Dom.setStyle("widget_cockpit","display","none");dashboards=Dom.getElementsByClassName("dashboard");if(dashboards&&dashboards.length>0){Dom.setStyle(Dom.getElementsByClassName("dashboard"),"background","none")}YAHOO.w.DragDrop.enabled=false;Event.preventDefault(e)},enableDragAndDrop:function(e){YAHOO.widget.Logger.log("YAHOO.w.enableDragAndDrop-in");if(!YAHOO.w.DragDrop.enabled){YAHOO.w.DragDrop.settings=GetWidgetsList();if(e!=false){YAHOO.w.DragDrop.showCockpit()}var items=Dom.getElementsByClassName("widget_thumb","li");for(var i=0;i<items.length;i++){if(items[i].parentNode.id!="widgets_1"){new YAHOO.w.DD(items[i].id)}}var widgetsList=Dom.get("widgetsSpecialPageList");if(widgetsList&&wgUserName){var items=Dom.getElementsByClassName("widget_thumb","div");for(var i=0;i<items.length;i++){new YAHOO.w.DD(items[i].id)}}var items=Dom.getElementsByClassName("widget","li");for(var i=0;i<items.length;i++){if((items[i].parentNode.id!="widgets_1")&&(items[i].id!="")){w=new YAHOO.w.DD(items[i].id);this.DDM=YAHOO.util.DragDropMgr;try{w.setHandleElId(items[i].id.replace("_wg","_header"))}catch(ex){}}}var items=Dom.getElementsByClassName("widgets","ul");for(var i=0;i<items.length;i++){if((items[i].id!="widgets_1")&&(items[i].id!="")){w=new YAHOO.util.DDTarget(items[i].id);w.setHandleElId(items[i].id.replace("_wg","_header"))}}dashboards=Dom.getElementsByClassName("dashboard");if(dashboards&&dashboards.length>0){Dom.setStyle(Dom.getElementsByClassName("dashboard"),"background","#fafafa")}if(e!=false){YAHOO.w.DragDrop.enabled=true}}Event.preventDefault(e);YAHOO.widget.Logger.log("YAHOO.w.enableDragAndDrop-out")},showCockpit:function(){YAHOO.widget.Logger.log("YAHOO.w.showCockpit-in");if(!YAHOO.w.DragDrop.cockpit){var cockpit_ul=Dom.get("widget_cockpit_list");c_size=0;for(var i in YAHOO.w.DragDrop.settings){var allow=false;if(YAHOO.w.DragDrop.settings[i].usergroups&&YAHOO.w.DragDrop.settings[i].usergroups.length){for(g in YAHOO.w.DragDrop.settings[i].usergroups){allow=(wgUserGroups.indexOf(YAHOO.w.DragDrop.settings[i].usergroups[g])!=-1)?true:allow}}else{allow=true}if(YAHOO.w.DragDrop.settings[i].listable==true&&allow==true){c_size++;var temp_el=document.createElement("li");temp_el.id="mycarousel-item-"+c_size;var name=YAHOO.w.DragDrop.settings[i].name[wgUserLanguage];if(YAHOO.lang.isUndefined(name)){name=YAHOO.w.DragDrop.settings[i].name.en}var desc=YAHOO.w.DragDrop.settings[i].desc[wgUserLanguage];if(YAHOO.lang.isUndefined(desc)){desc=YAHOO.w.DragDrop.settings[i].desc.en}temp_el.innerHTML=name;temp_el.className="widget_thumb "+i+"Thumb";temp_el.name=i+"_thumb";temp_el.desc=desc;temp_el.title=desc;YAHOO.util.Event.addListener(temp_el,"mouseover",widgetOver);YAHOO.util.Event.addListener(temp_el,"mouseout",widgetOut);cockpit_ul.appendChild(temp_el)}}var prevButton_callback=function(type,args){var enabling=args[0];var leftImage=args[1];if(enabling){leftImage.src="http://images.wikia.com/common/left-enabled.gif"}else{leftImage.src="http://images.wikia.com/common/left-disabled.gif"}};var nextButton_callback=function(type,args){var enabling=args[0];var leftImage=args[1];if(enabling){leftImage.src="http://images.wikia.com/common/right-enabled.gif"}else{leftImage.src="http://images.wikia.com/common/right-disabled.gif"}};carousel=new YAHOO.extension.Carousel("mycarousel",{animationSpeed:0.15,navMargin:0,prevElement:"prev-arrow",nextElement:"next-arrow",prevButtonStateHandler:prevButton_callback,nextButtonStateHandler:nextButton_callback,size:c_size,wrap:true});YAHOO.w.DragDrop.cockpit=true}Dom.setStyle("widget_cockpit","display","");YAHOO.widget.Logger.log("YAHOO.w.showCockpit-out");setCarouselNumVisible()},getWidgetName:function(id){el=document.getElementById(id);if(el.name){n=el.name}else{n=id}return n.split("_")[0]},isCorrectPanel:function(widgetType,panelId){if(!YAHOO.lang.isNumber(panelId)){panelId=panelId.split("_")[1]}for(var i=0;i<YAHOO.w.DragDrop.settings[widgetType].available.length;i++){if(YAHOO.w.DragDrop.settings[widgetType].available[i]==panelId){return true}}return false},getIndex:function(el){Dom.addClass("ghost","widget");var items=Dom.getElementsByClassName("widget","li",el.parentNode.id);for(var i=0;i<items.length;i++){if(items[i].id==el.id){Dom.removeClass("ghost","widget");return i+1}}Dom.removeClass("ghost","widget")}};YAHOO.w.DD=function(itemId){YAHOO.widget.Logger.log("YAHOO.w.DD-in");this.isThumb=YAHOO.util.Dom.hasClass(itemId,"widget_thumb");this.widgetType=YAHOO.w.DragDrop.getWidgetName(itemId);if(!this.isThumb&&YAHOO.w.DragDrop.settings[this.widgetType]){if(!YAHOO.w.DragDrop.settings[this.widgetType].draggable){new YAHOO.util.DDTarget(itemId)}else{YAHOO.w.DD.superclass.constructor.call(this,itemId,null,null);if(YAHOO.w.DragDrop.settings[this.widgetType].handlecount>0){for(var i=0;i<YAHOO.w.DragDrop.settings[this.widgetType].handlecount;i++){this.setHandleElId(itemId+"_"+i);Dom.addClass(itemId+"_"+i,"draggable")}}else{Dom.addClass(itemId,"draggable")}}YAHOO.w.DragDrop.settings[this.widgetType].curinstances++;var widgetAtribs=YAHOO.w.DragDrop.settings[this.widgetType];if(widgetAtribs.maxinstances>0&&widgetAtribs.maxinstances<=widgetAtribs.curinstances){var cockpit=Dom.get("widget_cockpit_list").childNodes;for(c in cockpit){if(cockpit[c].name==this.widgetType+"_thumb"){Dom.addClass(cockpit[c],"blocked")}}var specialPageList=Dom.get("widgetsSpecialPageList");if(specialPageList){var thumb=Dom.get(this.widgetType+"_widgets-list");if(thumb){Dom.addClass(thumb,"blocked");Dom.addClass(thumb.parentNode.parentNode,"blocked")}}}if(widgetAtribs.closeable||widgetAtribs.editable){toolbox=YAHOO.util.Dom.get(this.id.substr(0,this.id.length-3)+"_toolbox");if(toolbox){if(toolbox.innerHTML==""){if(widgetAtribs.hideable){var toogleButton=document.createElement("span");toogleButton.id=itemId+"_toolbox_toogle";toogleButton.innerHTML=wgWidgetMsg.toogleMsg;toogleButton.title=wgWidgetMsg.toogleTitle;Dom.addClass(toogleButton,"toogleButton");toolbox.appendChild(toogleButton);Event.addListener(toogleButton,"click",this.toogleWidget)}if(widgetAtribs.editable){var editButton=document.createElement("span");editButton.id=itemId+"_toolbox_edit";editButton.innerHTML=wgWidgetMsg.editMsg;editButton.title=wgWidgetMsg.editTitle;Dom.addClass(editButton,"editButton");toolbox.appendChild(editButton);Event.addListener(editButton,"click",this.toogleEditor);Event.addListener(Dom.get(itemId.substr(0,itemId.length-3)+"_editorCancel"),"click",this.toogleEditor)}if(widgetAtribs.closeable){var closeButton=document.createElement("span");closeButton.id=itemId+"_toolbox_close";closeButton.innerHTML="x";closeButton.title=wgWidgetMsg.closeTitle;Dom.addClass(closeButton,"closeButton");toolbox.appendChild(closeButton);Event.addListener(closeButton,"click",this.close)}}toolbox.style.display="block"}}Dom.addClass(itemId,"draggable");try{eval(this.widgetType+'OnAdd({id: "'+itemId.split("_")[0]+"_"+itemId.split("_")[1]+'"});')}catch(ex){}}else{YAHOO.w.DD.superclass.constructor.call(this,itemId,null,null);Dom.addClass(itemId,"draggable")}Dom.setStyle(this.getDragEl(),"opacity",0.67);this.goingUp=false;this.lastY=0;YAHOO.widget.Logger.log("YAHOO.w.DD-out")};YAHOO.extend(YAHOO.w.DD,YAHOO.util.DDProxy,{reorder:function(){var clickEl=this.getEl();id=clickEl.id;column=clickEl.parentNode.id.split("_")[1];position=YAHOO.w.DragDrop.getIndex(clickEl);if(userAgent.ie){setTimeout('fixIEwidget("'+id.substr(0,id.length-3)+'_inner")',10)}var transaction=YAHOO.util.Connect.asyncRequest("GET",wgScriptPath+"/widgetstart.php?reorder="+id+":"+column+":"+position);if(!pagerefresh){YAHOO.util.Connect.asyncRequest("POST",window.location.href,null,"action=purge");pagerefresh=1}},close:function(e,a){var widgetFullName=this.parentNode.parentNode.id;var widgetName=this.parentNode.parentNode.id.split("_")[0];var widgetInstance=this.parentNode.parentNode.id.split("_")[1];var transaction=YAHOO.util.Connect.asyncRequest("GET",wgScriptPath+"/widgetstart.php?name="+widgetName+"&instance="+widgetInstance+"&removerequest=true");Dom.get(widgetFullName).parentNode.removeChild(Dom.get(widgetFullName));var widgetAtribs=YAHOO.w.DragDrop.settings[widgetName];widgetAtribs.curinstances--;if(widgetAtribs.maxinstances>0&&widgetAtribs.maxinstances>widgetAtribs.curinstances){var cockpit=Dom.get("widget_cockpit_list").childNodes;for(c in cockpit){if(cockpit[c].name==widgetName+"_thumb"){Dom.removeClass(cockpit[c],"blocked")}}var specialPageList=Dom.get("widgetsSpecialPageList");if(specialPageList){var thumb=Dom.get(widgetName+"_widgets-list");if(thumb){Dom.removeClass(thumb,"blocked");Dom.removeClass(thumb.parentNode.parentNode,"blocked")}}}try{eval(widgetName+'OnClose({id: "'+widgetName+"_"+widgetInstance+'"});')}catch(ex){}if(!pagerefresh){YAHOO.util.Connect.asyncRequest("POST",window.location.href,null,"action=purge");pagerefresh=1}},toogleWidget:function(e){var widgetId=this.id.split("_")[0]+"_"+this.id.split("_")[1];switch(Dom.getStyle(widgetId+"_content","display")=="none"){case true:Dom.get(widgetId+"_header").className="boxHeader";Dom.setStyle(widgetId+"_editor","display","none");YAHOO.Tools.setCookie(widgetId+"_hidden",0,new Date(2030,0,1));Dom.setStyle(widgetId+"_content","display","block");var widgetHeight=parseInt(Dom.getStyle(widgetId+"_content","marginBottom"))<0?parseInt(Dom.getStyle(widgetId+"_content","marginBottom"))*-1:parseInt(Dom.get(widgetId).offsetHeight)-38;var toogleAnim=new YAHOO.util.Anim(widgetId+"_content",{marginBottom:{to:0,from:widgetHeight*-1,unit:"px"}},0.25);toogleAnim.onComplete.subscribe(function(){Dom.setStyle(widgetId+"_content","display","block");Dom.get(widgetId+"_header").className="boxHeader"});toogleAnim.animate();break;case false:YAHOO.Tools.setCookie(widgetId+"_hidden",1,new Date(2030,0,1));var widgetHeight=parseInt(Dom.get(widgetId).offsetHeight)-38;var toogleAnim=new YAHOO.util.Anim(widgetId+"_content",{marginBottom:{from:0,to:widgetHeight*-1,unit:"px"}},0.25);toogleAnim.onComplete.subscribe(function(){Dom.setStyle(widgetId+"_content","display","none");Dom.setStyle(widgetId+"_editor","display","none");Dom.get(widgetId+"_header").className="boxHeader_noBorderMargin"});toogleAnim.animate();break}},toogleEditor:function(e,a){var widgetId=this.id.split("_")[0]+"_"+this.id.split("_")[1];var editor=Dom.get(widgetId+"_editor");var content=Dom.get(widgetId+"_content");switch(Dom.getStyle(editor,"display")=="none"){case true:Dom.setStyle(editor,"display","block");Dom.setStyle(content,"display","none");Dom.get(widgetId+"_header").className="boxHeader";if(userAgent.ie){setTimeout('fixIEwidget("'+widgetId+'_inner")',10)}break;case false:Dom.setStyle(editor,"display","none");Dom.setStyle(content,"display","block");Dom.setStyle(content,"marginBottom","0px");if(userAgent.ie){setTimeout('fixIEwidget("'+widgetId+'_inner")',10)}break}},process:function(){var clickEl=this.getEl();name=YAHOO.w.DragDrop.getWidgetName(clickEl.id);var ghost=Dom.get("ghost");column=ghost.parentNode.id.split("_")[1];position=YAHOO.w.DragDrop.getIndex(ghost);var process_callback={success:function(o){var res=o.responseText;res=res.replace(/\n/g,"\\n");res=res.substr(res.indexOf("{"),res.length);res_array=eval("("+res+")");var parent=ghost.parentNode;newEl=document.createElement("li");newEl.id=res_array.id+"_wg";newEl.innerHTML=res_array.content;Dom.addClass(newEl,"widget");Dom.addClass(newEl,res_array.className);var loader=Dom.get(res_array.id.split("_")[0]+"_loading");loader.parentNode.removeChild(loader);parent.insertBefore(newEl,ghost.nextSibling);if(userAgent.ie){setTimeout('fixIEwidget("'+res_array.id+'_inner")',10)}w=new YAHOO.w.DD(newEl.id);w.setHandleElId(res_array.id+"_header");var constraints=YAHOO.w.DragDrop.settings[res_array.id.split("_")[0]];if(constraints.maxinstances>0&&constraints.maxinstances<=constraints.curinstances){var cockpit=Dom.get("widget_cockpit_list").childNodes;for(c in cockpit){if(cockpit[c].name==res_array.id.split("_")[0]+"_thumb"){Dom.addClass(cockpit[c],"blocked")}}var specialPageList=Dom.get("widgetsSpecialPageList");if(specialPageList){var thumb=Dom.get(res_array.id.split("_")[0]+"_widgets-list");if(thumb){Dom.addClass(thumb,"blocked");Dom.addClass(thumb.parentNode.parentNode,"blocked")}}}YAHOO.Tools.setCookie(res_array.id+"_hidden",(constraints.hidden==true?"1":"0"),new Date(2030,0,1));try{var params={id:res_array.id.split("_")[0]+"_"+res_array.id.split("_")[1]};eval(res_array.id.split("_")[0]+"OnAdd(params);")}catch(ex){}},failure:function(o){alert("error")}};Dom.setStyle("ghost","display","none");var constraints=YAHOO.w.DragDrop.settings[name];title=constraints.name[wgUserLanguage]?constraints.name[wgUserLanguage]:constraints.name.en;var parent=ghost.parentNode;loadingEl=document.createElement("li");loadingEl.id=name+"_loading";loadingEl.innerHTML='<h1 class="loading">'+title+"</h1>";Dom.addClass(loadingEl,"widget widgetLoading");Dom.setStyle(loadingEl,"opacity","0");ghost.parentNode.insertBefore(loadingEl,ghost.nextSibling);var loadingAnim=new YAHOO.util.Anim(loadingEl,{opacity:{from:0,to:1}},1);loadingAnim.animate();transaction=YAHOO.util.Connect.asyncRequest("GET",wgScriptPath+"/widgetstart.php?skin=ajaxslate&ajax=full&name="+name+"&column="+column+"&position="+position+"&articleid="+wgArticleId,process_callback,null);if(!pagerefresh){YAHOO.util.Connect.asyncRequest("POST",window.location.href,null,"action=purge");pagerefresh=1}},startDrag:function(x,y){var clickEl=this.getEl();var dragEl=this.getDragEl();if(this.isThumb==false){Dom.setStyle(clickEl,"visibility","hidden")}else{if(Dom.hasClass(clickEl,"blocked")){Dom.setStyle(dragEl,"visibility","hidden")}}},endDrag:function(e){if(Dom.hasClass(this.getEl(),"blocked")){return }var srcEl;if(this.isThumb==true){srcEl=Dom.get("ghost");if(Dom.getStyle(srcEl,"display")=="none"){srcEl=this.getEl()}}else{srcEl=this.getEl()}var proxy=this.getDragEl();Dom.setStyle(proxy,"visibility","");var a=new YAHOO.util.Motion(proxy,{points:{to:Dom.getXY(srcEl)}},0.2,YAHOO.util.Easing.easeOut);var proxyid=proxy.id;var thisid=this.id;a.onComplete.subscribe(function(){Dom.setStyle(proxyid,"visibility","hidden");Dom.setStyle(thisid,"visibility","")});a.animate();if(this.isThumb==true){if(Dom.getStyle("ghost","display")=="block"){this.process()}}else{this.reorder()}},onDragOver:function(e,id){var destEl=Dom.get(id);var srcEl;if(Dom.hasClass(destEl,"widget_thumb")){return }if(destEl.nodeName.toLowerCase()=="li"){if(!YAHOO.w.DragDrop.isCorrectPanel(this.widgetType,destEl.parentNode.id)){return }if(this.isThumb==true){srcEl=Dom.get("ghost");Dom.setStyle("ghost","display","block")}else{srcEl=this.getEl()}var p=destEl.parentNode;if(this.goingUp){p.insertBefore(srcEl,destEl)}else{p.insertBefore(srcEl,destEl.nextSibling)}DDM.refreshCache()}},onDragDrop:function(e,id){if(DDM.interactionInfo.drop.length===1){if(Dom.get(id).nodeName.toLowerCase()=="ul"&&!(this.isThumb==true&&Dom.getStyle("ghost","display")=="block")){if(!YAHOO.w.DragDrop.isCorrectPanel(this.widgetType,id)){return }var pt=DDM.interactionInfo.point;var region;if(this.isThumb==true){region=Dom.getRegion("ghost")}else{region=DDM.interactionInfo.sourceRegion}if(!region||!region.intersect(pt)){var destEl=Dom.get(id);var destDD=DDM.getDDById(id);if(this.isThumb==true){Dom.setStyle("ghost","display","block");destEl.appendChild(Dom.get("ghost"))}else{destEl.appendChild(this.getEl())}destDD.isEmpty=false;DDM.refreshCache()}}}},onDragOut:function(e,id){if(this.isThumb==true&&Dom.get(id).nodeName.toLowerCase()=="ul"){Dom.setStyle("ghost","display","none")}},onDrag:function(e){var y=Event.getPageY(e);if(y<this.lastY){this.goingUp=true}else{if(y>this.lastY){this.goingUp=false}}this.lastY=y;var rightEdge=parseInt(Dom.getStyle(this.getDragEl(),"left"))+parseInt(Dom.getStyle(this.getDragEl(),"width"));var viewport=Dom.getViewportWidth();if(viewport>0&&rightEdge>viewport){Dom.setStyle(this.getDragEl(),"left",viewport-parseInt(this.getDragEl().style.width)+"px")}}});Event.onDOMReady(YAHOO.w.DragDrop.init,YAHOO.w.DragDrop,true)})();function refreshWidgetSuccess(o){var res=o.responseText;res=res.replace(/\\n/g,"\n");switch(o.argument.resultType){case"internal":res=res.substr(res.indexOf("{"),res.length);var widget=eval("("+res+")");break;case"html":var widget={"content":res,"id":o.argument.widgetId}}if(widget.title){YAHOO.util.Dom.get(widget.id+"_header").innerHTML=widget.title}YAHOO.util.Dom.get(widget.id+"_content").innerHTML=widget.content;YAHOO.util.Dom.removeClass(widget.id+"_wg","widgetLoading");if(YAHOO.util.Dom.get(widget.id+"_editorSubmit")){YAHOO.util.Dom.get(widget.id+"_editorSubmit").disabled=false;YAHOO.util.Dom.removeClass(widget.id+"_editor","progress");YAHOO.util.Dom.setStyle(widget.id+"_editor","display","none");YAHOO.util.Dom.setStyle(widget.id+"_content","display","block");YAHOO.util.Dom.setStyle(widget.id+"_content","marginBottom","0px");YAHOO.util.Dom.get(widget.id+"_header").className="boxHeader";YAHOO.Tools.setCookie(widget.id+"_hidden",0,new Date(2030,0,1))}try{eval(widget.id.split("_")[0]+"OnUpdate(widget);")}catch(ex){}}function refreshWidget(params,widgetId,postData,resultType){if(!resultType){resultType="internal"}var process_callback={success:refreshWidgetSuccess,failure:function(o){alert("error when sending AJAX request")},argument:{widgetId:widgetId,resultType:resultType}};if(postData){method="POST"}else{method="GET"}YAHOO.util.Dom.addClass(widgetId+"_wg","widgetLoading");transaction=YAHOO.util.Connect.asyncRequest(method,wgScriptPath+"/widgetstart.php?ajax="+resultType+"&articleid="+wgArticleId+"&"+params,process_callback,postData);if(!pagerefresh){YAHOO.util.Connect.asyncRequest("POST",window.location.href,null,"action=purge");pagerefresh=1}return false}function getEditorData(form){var fields=form.elements;var widgetId=form.id.substr(0,form.id.length-7);var params="";for(f=0;f<form.length-1;f++){var field=fields[f];params+=encodeURIComponent(field.name)+"="+(field.type=="checkbox"?(field.checked?"1":"0"):encodeURIComponent(field.value))+"&"}var result={params:params,widgetId:widgetId};return result}function sendEditor(form){var data=getEditorData(form);YAHOO.util.Dom.get(data.widgetId+"_editorSubmit").disabled=true;YAHOO.util.Dom.addClass(data.widgetId+"_editor","progress");refreshWidget(data.params,data.widgetId,null);return false}function widgetOver(){}function widgetOut(){}var clientPC=navigator.userAgent.toLowerCase();var is_gecko=((clientPC.indexOf("gecko")!=-1)&&(clientPC.indexOf("spoofer")==-1)&&(clientPC.indexOf("khtml")==-1)&&(clientPC.indexOf("netscape/7.0")==-1));var is_safari=((clientPC.indexOf("applewebkit")!=-1)&&(clientPC.indexOf("spoofer")==-1));var is_khtml=(navigator.vendor=="KDE"||(document.childNodes&&!document.all&&!navigator.taintEnabled));var is_ff2_win=(clientPC.indexOf("firefox/2")!=-1||clientPC.indexOf("minefield/3")!=-1)&&clientPC.indexOf("windows")!=-1;var is_ff2_x11=(clientPC.indexOf("firefox/2")!=-1||clientPC.indexOf("minefield/3")!=-1)&&clientPC.indexOf("x11")!=-1;if(clientPC.indexOf("opera")!=-1){var is_opera=true;var is_opera_preseven=(window.opera&&!document.childNodes);var is_opera_seven=(window.opera&&document.childNodes);var is_opera_95=(clientPC.search(/opera\/(9.[5-9]|[1-9][0-9])/)!=-1)}var doneOnloadHook;if(!window.onloadFuncts){var onloadFuncts=[]}function addOnloadHook(hookFunct){onloadFuncts[onloadFuncts.length]=hookFunct}function hookEvent(hookName,hookFunct){if(window.addEventListener){window.addEventListener(hookName,hookFunct,false)}else{if(window.attachEvent){window.attachEvent("on"+hookName,hookFunct)}}}if(typeof stylepath!="undefined"&&typeof skin!="undefined"){if(is_opera_preseven){document.write('<link rel="stylesheet" type="text/css" href="'+stylepath+"/"+skin+'/Opera6Fixes.css">')}else{if(is_opera_seven&&!is_opera_95){document.write('<link rel="stylesheet" type="text/css" href="'+stylepath+"/"+skin+'/Opera7Fixes.css">')}else{if(is_opera_95){document.write('<link rel="stylesheet" type="text/css" href="'+stylepath+"/"+skin+'/Opera95Fixes.css">')}else{if(is_khtml){document.write('<link rel="stylesheet" type="text/css" href="'+stylepath+"/"+skin+'/KHTMLFixes.css">')}}}}}if(typeof (wgBreakFrames)!="undefined"&&wgBreakFrames){if(window.top!=window){window.top.location=window.location}}function toggleVisibility(_levelId,_otherId,_linkId){var thisLevel=document.getElementById(_levelId);var otherLevel=document.getElementById(_otherId);var linkLevel=document.getElementById(_linkId);if(thisLevel.style.display=="none"){thisLevel.style.display="block";otherLevel.style.display="none";linkLevel.style.display="inline"}else{thisLevel.style.display="none";otherLevel.style.display="inline";linkLevel.style.display="none"}}function historyRadios(parent){var inputs=parent.getElementsByTagName("input");var radios=[];for(var i=0;i<inputs.length;i++){if(inputs[i].name=="diff"||inputs[i].name=="oldid"){radios[radios.length]=inputs[i]}}return radios}function diffcheck(){var dli=false;var oli=false;var hf=document.getElementById("pagehistory");if(!hf){return true}var lis=hf.getElementsByTagName("li");for(var i=0;i<lis.length;i++){var inputs=historyRadios(lis[i]);if(inputs[1]&&inputs[0]){if(inputs[1].checked||inputs[0].checked){if(inputs[1].checked&&inputs[0].checked&&inputs[0].value==inputs[1].value){return false}if(oli){if(inputs[1].checked){oli.className="selected";return false}}else{if(inputs[0].checked){return false}}if(inputs[0].checked){dli=lis[i]}if(!oli){inputs[0].style.visibility="hidden"}if(dli){inputs[1].style.visibility="hidden"}lis[i].className="selected";oli=lis[i]}else{if(!oli){inputs[0].style.visibility="hidden"}else{inputs[0].style.visibility="visible"}if(dli){inputs[1].style.visibility="hidden"}else{inputs[1].style.visibility="visible"}lis[i].className=""}}}return true}function histrowinit(){var hf=document.getElementById("pagehistory");if(!hf){return }var lis=hf.getElementsByTagName("li");for(var i=0;i<lis.length;i++){var inputs=historyRadios(lis[i]);if(inputs[0]&&inputs[1]){inputs[0].onclick=diffcheck;inputs[1].onclick=diffcheck}}diffcheck()}function tabbedprefs(){var prefform=document.getElementById("preferences");if(!prefform||!document.createElement){return }if(prefform.nodeName.toLowerCase()=="a"){return }prefform.className=prefform.className+"jsprefs";var sections=[];var children=prefform.childNodes;var seci=0;for(var i=0;i<children.length;i++){if(children[i].nodeName.toLowerCase()=="fieldset"){children[i].id="prefsection-"+seci;children[i].className="prefsection";if(is_opera||is_khtml){children[i].className="prefsection operaprefsection"}var legends=children[i].getElementsByTagName("legend");sections[seci]={};legends[0].className="mainLegend";if(legends[0]&&legends[0].firstChild.nodeValue){sections[seci].text=legends[0].firstChild.nodeValue}else{sections[seci].text="# "+seci}sections[seci].secid=children[i].id;seci++;if(sections.length!=1){children[i].style.display="none"}else{var selectedid=children[i].id}}}var toc=document.createElement("ul");toc.id="preftoc";toc.selectedid=selectedid;for(i=0;i<sections.length;i++){var li=document.createElement("li");if(i===0){li.className="selected"}var a=document.createElement("a");a.href="#"+sections[i].secid;a.onmousedown=a.onclick=uncoversection;a.appendChild(document.createTextNode(sections[i].text));a.secid=sections[i].secid;li.appendChild(a);toc.appendChild(li)}prefform.parentNode.insertBefore(toc,prefform.parentNode.childNodes[0]);document.getElementById("prefsubmit").id="prefcontrol"}function uncoversection(){var oldsecid=this.parentNode.parentNode.selectedid;var newsec=document.getElementById(this.secid);if(oldsecid!=this.secid){var ul=document.getElementById("preftoc");document.getElementById(oldsecid).style.display="none";newsec.style.display="block";ul.selectedid=this.secid;var lis=ul.getElementsByTagName("li");for(var i=0;i<lis.length;i++){lis[i].className=""}this.parentNode.className="selected"}return false}function checkTimezone(tz,msg){var localclock=new Date();var tzRaw=localclock.getTimezoneOffset();var tzHour=Math.floor(Math.abs(tzRaw)/60);var tzMin=Math.abs(tzRaw)%60;var tzString=((tzRaw>=0)?"-":"+")+((tzHour<10)?"0":"")+tzHour+((tzMin<10)?"0":"")+tzMin;if(tz!=tzString){var junk=msg.split("$1");document.write(junk[0]+"UTC"+tzString+junk[1])}}function unhidetzbutton(){var tzb=document.getElementById("guesstimezonebutton");if(tzb){tzb.style.display="inline"}}function fetchTimezone(){var localclock=new Date();var tzRaw=localclock.getTimezoneOffset();var tzHour=Math.floor(Math.abs(tzRaw)/60);var tzMin=Math.abs(tzRaw)%60;var tzString=((tzRaw>=0)?"-":"")+((tzHour<10)?"0":"")+tzHour+":"+((tzMin<10)?"0":"")+tzMin;return tzString}function guessTimezone(box){document.getElementsByName("wpHourDiff")[0].value=fetchTimezone()}function showTocToggle(){if(document.createTextNode){var linkHolder=document.getElementById("toctitle");if(!linkHolder){return }var outerSpan=document.createElement("span");outerSpan.className="toctoggle";var toggleLink=document.createElement("a");toggleLink.id="togglelink";toggleLink.className="internal";toggleLink.href="javascript:toggleToc()";toggleLink.appendChild(document.createTextNode(tocHideText));outerSpan.appendChild(document.createTextNode("["));outerSpan.appendChild(toggleLink);outerSpan.appendChild(document.createTextNode("]"));linkHolder.appendChild(document.createTextNode(" "));linkHolder.appendChild(outerSpan);var cookiePos=document.cookie.indexOf("hidetoc=");if(cookiePos>-1&&document.cookie.charAt(cookiePos+8)==1){toggleToc()}}}function changeText(el,newText){if(el.innerText){el.innerText=newText}else{if(el.firstChild&&el.firstChild.nodeValue){el.firstChild.nodeValue=newText}}}function toggleToc(){var toc=document.getElementById("toc").getElementsByTagName("ul")[0];var toggleLink=document.getElementById("togglelink");if(toc&&toggleLink&&toc.style.display=="none"){changeText(toggleLink,tocHideText);toc.style.display="block";document.cookie="hidetoc=0"}else{changeText(toggleLink,tocShowText);toc.style.display="none";document.cookie="hidetoc=1"}}var mwEditButtons=[];var mwCustomEditButtons=[];function addButton(imageFile,speedTip,tagOpen,tagClose,sampleText,imageId){mwEditButtons[mwEditButtons.length]={"imageId":imageId,"imageFile":imageFile,"speedTip":speedTip,"tagOpen":tagOpen,"tagClose":tagClose,"sampleText":sampleText}}function mwInsertEditButton(parent,item){var image=document.createElement("img");image.width=23;image.height=22;image.className="mw-toolbar-editbutton";if(item.imageId){image.id=item.imageId}image.src=item.imageFile;image.border=0;image.alt=item.speedTip;image.title=item.speedTip;image.style.cursor="pointer";image.onclick=function(){insertTags(item.tagOpen,item.tagClose,item.sampleText);return false};parent.appendChild(image);return true}function mwSetupToolbar(){var toolbar=document.getElementById("toolbar");if(!toolbar){return false}var textbox=document.getElementById("wpTextbox1");if(!textbox){return false}if(textbox.style.display=="none"){return false}if(!(document.selection&&document.selection.createRange)&&textbox.selectionStart===null){return false}for(var i=0;i<mwEditButtons.length;i++){mwInsertEditButton(toolbar,mwEditButtons[i])}for(var i=0;i<mwCustomEditButtons.length;i++){mwInsertEditButton(toolbar,mwCustomEditButtons[i])}mwWikiaUploadButton(mwWikiaUploadNamespace,mwWikiaUploadTooltip);return true}function escapeQuotes(text){var re=new RegExp("'","g");text=text.replace(re,"\\'");re=new RegExp("\\n","g");text=text.replace(re,"\\n");return escapeQuotesHTML(text)}function escapeQuotesHTML(text){var re=new RegExp("&","g");text=text.replace(re,"&amp;");re=new RegExp('"',"g");text=text.replace(re,"&quot;");re=new RegExp("<","g");text=text.replace(re,"&lt;");re=new RegExp(">","g");text=text.replace(re,"&gt;");return text}function insertTags(tagOpen,tagClose,sampleText){var txtarea;if(document.editform){txtarea=document.editform.wpTextbox1}else{var areas=document.getElementsByTagName("textarea");txtarea=areas[0]}var selText,isSample=false;if(document.selection&&document.selection.createRange){if(document.documentElement&&document.documentElement.scrollTop){var winScroll=document.documentElement.scrollTop}else{if(document.body){var winScroll=document.body.scrollTop}}txtarea.focus();var range=document.selection.createRange();selText=range.text;checkSelectedText();range.text=tagOpen+selText+tagClose;if(isSample&&range.moveStart){if(window.opera){tagClose=tagClose.replace(/\n/g,"")}range.moveStart("character",-tagClose.length-selText.length);range.moveEnd("character",-tagClose.length)}range.select();if(document.documentElement&&document.documentElement.scrollTop){document.documentElement.scrollTop=winScroll}else{if(document.body){document.body.scrollTop=winScroll}}}else{if(txtarea.selectionStart||txtarea.selectionStart=="0"){var textScroll=txtarea.scrollTop;txtarea.focus();var startPos=txtarea.selectionStart;var endPos=txtarea.selectionEnd;selText=txtarea.value.substring(startPos,endPos);checkSelectedText();txtarea.value=txtarea.value.substring(0,startPos)+tagOpen+selText+tagClose+txtarea.value.substring(endPos,txtarea.value.length);if(isSample){txtarea.selectionStart=startPos+tagOpen.length;txtarea.selectionEnd=startPos+tagOpen.length+selText.length}else{txtarea.selectionStart=startPos+tagOpen.length+selText.length+tagClose.length;txtarea.selectionEnd=txtarea.selectionStart}txtarea.scrollTop=textScroll}}function checkSelectedText(){if(!selText){selText=sampleText;isSample=true}else{if(selText.charAt(selText.length-1)==" "){selText=selText.substring(0,selText.length-1);tagClose+=" "}}}}var tooltipAccessKeyPrefix="alt-";if(is_opera){tooltipAccessKeyPrefix="shift-esc-"}else{if(is_safari||navigator.userAgent.toLowerCase().indexOf("mac")!=-1||navigator.userAgent.toLowerCase().indexOf("konqueror")!=-1){tooltipAccessKeyPrefix="ctrl-"}else{if(is_ff2_x11||is_ff2_win){tooltipAccessKeyPrefix="alt-shift-"}}}var tooltipAccessKeyRegexp=/\[(ctrl-)?(alt-)?(shift-)?(esc-)?.\]$/;function updateTooltipAccessKeys(nodeList){if(!nodeList){var columnOne=document.getElementById("column-one");if(columnOne){updateTooltipAccessKeys(columnOne.getElementsByTagName("a"))}updateTooltipAccessKeys(document.getElementsByTagName("input"));updateTooltipAccessKeys(document.getElementsByTagName("label"));return }for(var i=0;i<nodeList.length;i++){var element=nodeList[i];var tip=element.getAttribute("title");var key=element.getAttribute("accesskey");if(key&&tooltipAccessKeyRegexp.exec(tip)){tip=tip.replace(tooltipAccessKeyRegexp,"["+tooltipAccessKeyPrefix+key+"]");element.setAttribute("title",tip)}}}function addPortletLink(portlet,href,text,id,tooltip,accesskey,nextnode){var node=document.getElementById(portlet);if(!node){return null}node=node.getElementsByTagName("ul")[0];if(!node){return null}var link=document.createElement("a");link.appendChild(document.createTextNode(text));link.href=href;var item=document.createElement("li");item.appendChild(link);if(id){item.id=id}if(accesskey){link.setAttribute("accesskey",accesskey);tooltip+=" ["+accesskey+"]"}if(tooltip){link.setAttribute("title",tooltip)}if(accesskey&&tooltip){updateTooltipAccessKeys(new Array(link))}if(nextnode&&nextnode.parentNode==node){node.insertBefore(item,nextnode)}else{node.appendChild(item)}return item}function akeytt(doId){if(!window.ta){window.ta=new Array}var ta;if(doId){ta=[doId]}else{ta=window.ta}var watchCheckboxExists=document.getElementById("wpWatchthis")?true:false;for(var id in ta){var n=document.getElementById(id);if(n){var a=null;var ak="";if(ta[id][0].length>0){if(n.nodeName.toLowerCase()=="a"){a=n}else{a=n.childNodes[0]}if(a&&((id!="ca-watch"&&id!="ca-unwatch")||!watchCheckboxExists)){a.accessKey=ta[id][0];ak=" ["+tooltipAccessKeyPrefix+ta[id][0]+"]"}}else{a=n;ak=""}if(a){a.title=ta[id][1]+ak}}}}function setupRightClickEdit(){if(document.getElementsByTagName){var spans=document.getElementsByTagName("span");for(var i=0;i<spans.length;i++){var el=spans[i];if(el.className=="editsection"){addRightClickEditHandler(el)}}}}function addRightClickEditHandler(el){for(var i=0;i<el.childNodes.length;i++){var link=el.childNodes[i];if(link.nodeType==1&&link.nodeName.toLowerCase()=="a"){var editHref=link.getAttribute("href");var prev=el.parentNode;if(prev&&prev.nodeType==1&&prev.nodeName.match(/^[Hh][1-6]$/)){prev.oncontextmenu=function(e){if(!e){e=window.event}var targ;if(e.target){targ=e.target}else{if(e.srcElement){targ=e.srcElement}}if(targ.nodeType==3){targ=targ.parentNode}if(targ.nodeName.toLowerCase()!="a"||targ.parentNode.className!="editsection"){document.location=editHref;return false}return true}}}}}var checkboxes;var lastCheckbox;function setupCheckboxShiftClick(){checkboxes=[];lastCheckbox=null;var inputs=document.getElementsByTagName("input");addCheckboxClickHandlers(inputs)}function addCheckboxClickHandlers(inputs,start){if(!start){start=0}var finish=start+250;if(finish>inputs.length){finish=inputs.length}for(var i=start;i<finish;i++){var cb=inputs[i];if(!cb.type||cb.type.toLowerCase()!="checkbox"){continue}var end=checkboxes.length;checkboxes[end]=cb;cb.index=end;cb.onclick=checkboxClickHandler}if(finish<inputs.length){setTimeout(function(){addCheckboxClickHandlers(inputs,finish)},200)}}function checkboxClickHandler(e){if(typeof e=="undefined"){e=window.event}if(!e.shiftKey||lastCheckbox===null){lastCheckbox=this.index;return true}var endState=this.checked;var start,finish;if(this.index<lastCheckbox){start=this.index+1;finish=lastCheckbox}else{start=lastCheckbox;finish=this.index-1}for(var i=start;i<=finish;++i){checkboxes[i].checked=endState}lastCheckbox=this.index;return true}function toggle_element_activation(ida,idb){if(!document.getElementById){return }document.getElementById(ida).disabled=true;document.getElementById(idb).disabled=false}function toggle_element_check(ida,idb){if(!document.getElementById){return }document.getElementById(ida).checked=true;document.getElementById(idb).checked=false}function scrollEditBox(){var editBox=document.getElementById("wpTextbox1");var scrollTop=document.getElementById("wpScrolltop");var editForm=document.getElementById("editform");if(editBox&&scrollTop){if(scrollTop.value){editBox.scrollTop=scrollTop.value}addHandler(editForm,"submit",function(){document.getElementById("wpScrolltop").value=document.getElementById("wpTextbox1").scrollTop})}}hookEvent("load",scrollEditBox);var allmessages_nodelist=false;var allmessages_modified=false;var allmessages_timeout=false;var allmessages_running=false;function allmessagesmodified(){allmessages_modified=!allmessages_modified;allmessagesfilter()}function allmessagesfilter(){if(allmessages_timeout){window.clearTimeout(allmessages_timeout)}if(!allmessages_running){allmessages_timeout=window.setTimeout("allmessagesfilter_do();",500)}}function allmessagesfilter_do(){if(!allmessages_nodelist){return }var text=document.getElementById("allmessagesinput").value;var nodef=allmessages_modified;allmessages_running=true;for(var name in allmessages_nodelist){var nodes=allmessages_nodelist[name];var display=(name.indexOf(text)==-1?"none":"");for(var i=0;i<nodes.length;i++){nodes[i].style.display=(nodes[i].className=="def"&&nodef?"none":display)}}if(text!=document.getElementById("allmessagesinput").value||nodef!=allmessages_modified){allmessagesfilter_do()}allmessages_running=false}function allmessagesfilter_init(){if(allmessages_nodelist){return }var nodelist=new Array();var templist=new Array();var table=document.getElementById("allmessagestable");if(!table){return }var rows=document.getElementsByTagName("tr");for(var i=0;i<rows.length;i++){var id=rows[i].getAttribute("id");if(id&&id.substring(0,16)!="sp-allmessages-r"){continue}templist[id]=rows[i]}var spans=table.getElementsByTagName("span");for(var i=0;i<spans.length;i++){var id=spans[i].getAttribute("id");if(id&&id.substring(0,17)!="sp-allmessages-i-"){continue}if(!spans[i].firstChild||spans[i].firstChild.nodeType!=3){continue}var nodes=new Array();var row1=templist[id.replace("i","r1")];var row2=templist[id.replace("i","r2")];if(row1){nodes[nodes.length]=row1}if(row2){nodes[nodes.length]=row2}nodelist[spans[i].firstChild.nodeValue]=nodes}var k=document.getElementById("allmessagesfilter");if(k){k.style.display=""}allmessages_nodelist=nodelist}hookEvent("load",allmessagesfilter_init);function getElementsByClassName(oElm,strTagName,oClassNames){var arrElements=(strTagName=="*"&&oElm.all)?oElm.all:oElm.getElementsByTagName(strTagName);var arrReturnElements=new Array();var arrRegExpClassNames=new Array();if(typeof oClassNames=="object"){for(var i=0;i<oClassNames.length;i++){arrRegExpClassNames[arrRegExpClassNames.length]=new RegExp("(^|\\s)"+oClassNames[i].replace(/\-/g,"\\-")+"(\\s|$)")}}else{arrRegExpClassNames[arrRegExpClassNames.length]=new RegExp("(^|\\s)"+oClassNames.replace(/\-/g,"\\-")+"(\\s|$)")}var oElement;var bMatchesAll;for(var j=0;j<arrElements.length;j++){oElement=arrElements[j];bMatchesAll=true;for(var k=0;k<arrRegExpClassNames.length;k++){if(!arrRegExpClassNames[k].test(oElement.className)){bMatchesAll=false;break}}if(bMatchesAll){arrReturnElements[arrReturnElements.length]=oElement}}return(arrReturnElements)}function redirectToFragment(fragment){var match=navigator.userAgent.match(/AppleWebKit\/(\d+)/);if(match){var webKitVersion=parseInt(match[1]);if(webKitVersion<420){return }}if(is_gecko){addOnloadHook(function(){if(window.location.hash==""){window.location.hash=fragment}})}else{if(window.location.hash==""){window.location.hash=fragment}}}var ts_image_path=stylepath+"/common/images/";var ts_image_up="sort_up.gif";var ts_image_down="sort_down.gif";var ts_image_none="sort_none.gif";var ts_europeandate=wgContentLanguage!="en";var ts_alternate_row_colors=true;var SORT_COLUMN_INDEX;function sortables_init(){var idnum=0;var tables=getElementsByClassName(document,"table","sortable");for(var ti=0;ti<tables.length;ti++){if(!tables[ti].id){tables[ti].setAttribute("id","sortable_table_id_"+idnum);++idnum}ts_makeSortable(tables[ti])}}function ts_makeSortable(table){var firstRow;if(table.rows&&table.rows.length>0){if(table.tHead&&table.tHead.rows.length>0){firstRow=table.tHead.rows[table.tHead.rows.length-1]}else{firstRow=table.rows[0]}}if(!firstRow){return }for(var i=0;i<firstRow.cells.length;i++){var cell=firstRow.cells[i];if((" "+cell.className+" ").indexOf(" unsortable ")==-1){cell.innerHTML+='&nbsp;&nbsp;<a href="#" class="sortheader" onclick="ts_resortTable(this);return false;"><span class="sortarrow"><img src="'+ts_image_path+ts_image_none+'" alt="&darr;"/></span></a>'}}if(ts_alternate_row_colors){ts_alternate(table)}}function ts_getInnerText(el){if(typeof el=="string"){return el}if(typeof el=="undefined"){return el}if(el.textContent){return el.textContent}if(el.innerText){return el.innerText}var str="";var cs=el.childNodes;var l=cs.length;for(var i=0;i<l;i++){switch(cs[i].nodeType){case 1:str+=ts_getInnerText(cs[i]);break;case 3:str+=cs[i].nodeValue;break}}return str}function ts_resortTable(lnk){var span=lnk.getElementsByTagName("span")[0];var td=lnk.parentNode;var tr=td.parentNode;var column=td.cellIndex;var table=tr.parentNode;while(table&&!(table.tagName&&table.tagName.toLowerCase()=="table")){table=table.parentNode}if(!table){return }if(table.rows.length<=1){return }var rowStart=(table.tHead&&table.tHead.rows.length>0?0:1);var itm="";for(var i=rowStart;i<table.rows.length;i++){if(table.rows[i].cells.length>column){itm=ts_getInnerText(table.rows[i].cells[column]);itm=itm.replace(/^[\s\xa0]+/,"").replace(/[\s\xa0]+$/,"");if(itm!=""){break}}}sortfn=ts_sort_caseinsensitive;if(itm.match(/^\d\d[\/. -][a-zA-Z]{3}[\/. -]\d\d\d\d$/)){sortfn=ts_sort_date}if(itm.match(/^\d\d[\/.-]\d\d[\/.-]\d\d\d\d$/)){sortfn=ts_sort_date}if(itm.match(/^\d\d[\/.-]\d\d[\/.-]\d\d$/)){sortfn=ts_sort_date}if(itm.match(/^[\u00a3$\u20ac]/)){sortfn=ts_sort_currency}if(itm.match(/^[\d.,]+\%?$/)){sortfn=ts_sort_numeric}var reverse=(span.getAttribute("sortdir")=="down");var newRows=new Array();for(var j=rowStart;j<table.rows.length;j++){var row=table.rows[j];var keyText=ts_getInnerText(row.cells[column]);var oldIndex=(reverse?-j:j);newRows[newRows.length]=new Array(row,keyText,oldIndex)}newRows.sort(sortfn);var arrowHTML;if(reverse){arrowHTML='<img src="'+ts_image_path+ts_image_down+'" alt="&darr;"/>';newRows.reverse();span.setAttribute("sortdir","up")}else{arrowHTML='<img src="'+ts_image_path+ts_image_up+'" alt="&uarr;"/>';span.setAttribute("sortdir","down")}for(var i=0;i<newRows.length;i++){if((" "+newRows[i][0].className+" ").indexOf(" sortbottom ")==-1){table.tBodies[0].appendChild(newRows[i][0])}}for(var i=0;i<newRows.length;i++){if((" "+newRows[i][0].className+" ").indexOf(" sortbottom ")!=-1){table.tBodies[0].appendChild(newRows[i][0])}}var spans=getElementsByClassName(tr,"span","sortarrow");for(var i=0;i<spans.length;i++){spans[i].innerHTML='<img src="'+ts_image_path+ts_image_none+'" alt="&darr;"/>'}span.innerHTML=arrowHTML;ts_alternate(table)}function ts_dateToSortKey(date){if(date.length==11){switch(date.substr(3,3).toLowerCase()){case"jan":var month="01";break;case"feb":var month="02";break;case"mar":var month="03";break;case"apr":var month="04";break;case"may":var month="05";break;case"jun":var month="06";break;case"jul":var month="07";break;case"aug":var month="08";break;case"sep":var month="09";break;case"oct":var month="10";break;case"nov":var month="11";break;case"dec":var month="12";break}return date.substr(7,4)+month+date.substr(0,2)}else{if(date.length==10){if(ts_europeandate==false){return date.substr(6,4)+date.substr(0,2)+date.substr(3,2)}else{return date.substr(6,4)+date.substr(3,2)+date.substr(0,2)}}else{if(date.length==8){yr=date.substr(6,2);if(parseInt(yr)<50){yr="20"+yr}else{yr="19"+yr}if(ts_europeandate==true){return yr+date.substr(3,2)+date.substr(0,2)}else{return yr+date.substr(0,2)+date.substr(3,2)}}}}return"00000000"}function ts_parseFloat(num){if(!num){return 0}num=parseFloat(num.replace(/,/,""));return(isNaN(num)?0:num)}function ts_sort_date(a,b){var aa=ts_dateToSortKey(a[1]);var bb=ts_dateToSortKey(b[1]);return(aa<bb?-1:aa>bb?1:a[2]-b[2])}function ts_sort_currency(a,b){var aa=ts_parseFloat(a[1].replace(/[^0-9.]/g,""));var bb=ts_parseFloat(b[1].replace(/[^0-9.]/g,""));return(aa!=bb?aa-bb:a[2]-b[2])}function ts_sort_numeric(a,b){var aa=ts_parseFloat(a[1]);var bb=ts_parseFloat(b[1]);return(aa!=bb?aa-bb:a[2]-b[2])}function ts_sort_caseinsensitive(a,b){var aa=a[1].toLowerCase();var bb=b[1].toLowerCase();return(aa<bb?-1:aa>bb?1:a[2]-b[2])}function ts_sort_default(a,b){return(a[1]<b[1]?-1:a[1]>b[1]?1:a[2]-b[2])}function ts_alternate(table){var tableBodies=table.getElementsByTagName("tbody");for(var i=0;i<tableBodies.length;i++){var tableRows=tableBodies[i].getElementsByTagName("tr");for(var j=0;j<tableRows.length;j++){var oldClasses=tableRows[j].className.split(" ");var newClassName="";for(var k=0;k<oldClasses.length;k++){if(oldClasses[k]!=""&&oldClasses[k]!="even"&&oldClasses[k]!="odd"){newClassName+=oldClasses[k]+" "}}tableRows[j].className=newClassName+(j%2==0?"even":"odd")}}}function jsMsg(message,className){if(!document.getElementById){return false}var messageDiv=document.getElementById("mw-js-message");if(!messageDiv){messageDiv=document.createElement("div");if(document.getElementById("column-content")&&document.getElementById("content")){document.getElementById("content").insertBefore(messageDiv,document.getElementById("content").firstChild)}else{if(document.getElementById("content")&&document.getElementById("article")){document.getElementById("article").insertBefore(messageDiv,document.getElementById("article").firstChild)}else{return false}}}messageDiv.setAttribute("id","mw-js-message");if(className){messageDiv.setAttribute("class","mw-js-message-"+className)}messageDiv.innerHTML=message;return true}function injectSpinner(element,id){var spinner=document.createElement("img");spinner.id="mw-spinner-"+id;spinner.src=stylepath+"/common/images/spinner.gif";spinner.alt=spinner.title="...";if(element.nextSibling){element.parentNode.insertBefore(spinner,element.nextSibling)}else{element.parentNode.appendChild(spinner)}}function removeSpinner(id){var spinner=document.getElementById("mw-spinner-"+id);if(spinner){spinner.parentNode.removeChild(spinner)}}function runOnloadHook(){if(doneOnloadHook||!(document.getElementById&&document.getElementsByTagName)){return }doneOnloadHook=true;histrowinit();unhidetzbutton();tabbedprefs();updateTooltipAccessKeys(null);akeytt(null);scrollEditBox();setupCheckboxShiftClick();sortables_init();for(var i=0;i<onloadFuncts.length;i++){onloadFuncts[i]()}}function addHandler(element,attach,handler){if(window.addEventListener){element.addEventListener(attach,handler,false)}else{if(window.attachEvent){element.attachEvent("on"+attach,handler)}}}function addClickHandler(element,handler){addHandler(element,"click",handler)}hookEvent("load",runOnloadHook);hookEvent("load",mwSetupToolbar);function getLabelFor(obj_id){var labels=document.getElementsByTagName("label");if(labels&&(labels.length>0)){for(var i=0;i<labels.length;i++){if(labels[i].htmlFor==obj_id){return labels[i]}}}return false}function mwWikiaUploadButton(namespace,tooltip){var toolbar=document.getElementById("toolbar");if(!toolbar){return false}var upload_image=document.createElement("img");upload_image.width=23;upload_image.height=22;upload_image.src=stylepath+"/common/images/button_upload.gif";upload_image.border=0;upload_image.alt=tooltip;upload_image.title=tooltip;upload_image.style.cursor="pointer";upload_image.onclick=function(){specialImageUpload("[["+namespace+":","]]");return false};toolbar.appendChild(upload_image);return true}var imageUploadDialog=null;function specialImageUpload(tagOpen,tagClose,sampleText){if(!wgUserName){alert(mu_login)}else{if(imageUploadDialog&&imageUploadDialog.open&&!imageUploadDialog.closed){imageUploadDialog.close()}imageUploadDialog=window.open(wgServer+wgArticlePath.replace(/\$1/,"Special:MiniUpload"),"upload_file","height=520,width=500,toolbar=no,location=no,resizable=no,menubar=0,scrollbars=yes")}}var initTracker=function(){var Tracker=YAHOO.Wikia.Tracker;var Dom=YAHOO.util.Dom;var Event=YAHOO.util.Event;var lang=YAHOO.lang;if(wgIsArticle){this.trackByStr(null,"view")}Event.addListener(["wpMinoredit","wpWatchthis","wpSave","wpPreview","wpDiff","wpCancel","wpEdithelp"],"click",function(e){var str="editpage/"+this.id.substring(2).toLowerCase();Tracker.trackByStr(e,str)});var WysyWigDone=false;var editSections=Dom.getElementsByClassName("editsection","span",Dom.get("bodyContent"));Event.addListener(editSections,"click",function(e){var el=Event.getTarget(e);if(el.nodeName=="A"){Tracker.trackByStr(e,"articleAction/editSection");if(!WysyWigDone){WysyWigDone=true;Event.addListener(Dom.getElementsByClassName("wikiwyg_control_link"),"click",function(e){var el=Event.getTarget(e);if(el.nodeName=="A"){var clickedLink="";if(el.id.indexOf("wikiwyg_ctrl_lnk_preview_")==0){clickedLink="preview"}else{if(el.id.indexOf("wikiwyg_ctrl_lnk_saveChanges_")==0){clickedLink="save"}else{if(el.id.indexOf("wikiwyg_ctrl_lnk_cancelEdit_")==0){clickedLink="cancel"}}}if(clickedLink!=""){str="editpageVisual/"+clickedLink+"/section";Tracker.trackByStr(e,str)}}})}}});if(lang.isNull(wgUserName)){Event.addListener("login","click",this.trackById);Event.addListener("register","click",this.trackById)}else{Event.addListener("userMenuToggle","click",function(e){var elId=Event.getTarget(e).id;if(elId=="um-cockpit_show"){elId="widgets/cockpitShow"}else{if(elId!="userMenuToggle"){elId="userMenu/"+elId.substring(3)}}Tracker.trackByStr(e,elId)});Event.addListener("logout","click",this.trackById);Event.addListener("cockpit_hide","click",this.trackByStr,"widgets/cockpitHide")}Event.addListener("wikiLogoLink","click",this.trackByStr,"wikiLogo");Event.addListener("wikiaFooterLogo","click",this.trackByStr,"wikiaFooterLogo");if(Dom.get("navLinks1")){var navLinks1Items=Dom.get("navLinks1").getElementsByTagName("a");for(var i=0;i<navLinks1Items.length;i++){Event.addListener(navLinks1Items[i],"click",this.trackByStr,"navLinks1/"+(i+1)+"_"+escape(navLinks1Items[i].innerHTML.replace(/ /g,"_")))}}if(Dom.get("navLinks2")){var navLinks2Items=Dom.get("navLinks2").getElementsByTagName("a");for(var i=0;i<navLinks2Items.length;i++){Event.addListener(navLinks2Items[i],"click",this.trackByStr,"navLinks2/"+(i+1)+"_"+escape(navLinks2Items[i].innerHTML.replace(/ /g,"_")))}}Event.addListener(Dom.get("articleWrapper").childNodes[1].getElementsByTagName("a"),"click",function(e){var str="articleAction/"+this.id.substring(3).replace(/nstab-/,"view/");Tracker.trackByStr(e,str)});Event.addListener("wikiafooter","click",function(e){var el=Event.getTarget(e);if(el.nodeName=="A"&&el.id!="wikiaFooterLogo"){if(lang.isObject(el.parentNode)){if(el.parentNode.parentNode.nodeName=="TD"){Tracker.trackByStr(e,el.parentNode.parentNode.id+"/"+escape(el.innerHTML.replace(/ /g,"_")))}else{if(el.parentNode.nodeName=="TD"){Tracker.trackByStr(e,el.parentNode.id+"/"+escape(el.innerHTML.replace(/ /g,"_")))}}}}});Event.addListener(["wpLoginattempt","wpMailmypassword","wpCreateaccount","wpAjaxRegister"],"click",function(e){var str="loginActions/"+this.id.substring(2).toLowerCase();group=YAHOO.Tools.getCookie("wikicitiesg");if(group!=null){str+="/"+group}Tracker.trackByStr(e,str)});var widgets=Dom.getElementsByClassName("widget","li",Dom.get("widgets_2"));Event.addListener(widgets,"click",function(e){var el=Event.getTarget(e);if(el.nodeName=="A"&&el.id.substring(0,3)=="tb_"){Tracker.trackByStr(e,"toolbox/"+el.id.substring(3))}else{if(el.nodeName=="A"&&Dom.hasClass(el.parentNode.parentNode.parentNode,"widgetTopContent")){contentType=el.parentNode.parentNode.id.substring(0,el.parentNode.parentNode.id.lastIndexOf("_"));if(el.href.indexOf(contentType)>0){elementType="see_more"}else{var needed=el.parentNode;var neededIndex=0;var tempIndex=0;Dom.getElementsBy(function(o){tempIndex++;if(needed==o){neededIndex=tempIndex}},"li",el.parentNode.parentNode);elementType=neededIndex}if(elementType){Tracker.trackByStr(e,"topcontent/"+contentType+"/"+elementType)}}else{if(el.nodeName=="OPTION"&&Dom.hasClass(el.parentNode.parentNode.parentNode,"widgetTopContent")){Tracker.trackByStr(e,"topcontentToggle/"+el.value)}else{if(el.nodeName=="A"&&Dom.hasClass(el.parentNode.parentNode.parentNode,"widgetSidebar")){Tracker.trackByStr(e,"sidebarLink/"+el.innerHTML)}}}}});Event.addListener("searchform","submit",function(e){Tracker.trackByStr(e,"search/submit/enter/"+escape(Dom.get("searchfield").value.replace(/ /g,"_")))});Event.addListener("searchSubmit","click",function(e){Tracker.trackByStr(e,"search/submit/click/"+escape(Dom.get("searchfield").value.replace(/ /g,"_")))});Event.addListener("breadCrumb","click",function(e){var el=Event.getTarget(e);if(el.nodeName=="A"&&!lang.isNull(el.innerHTML)){Tracker.trackByStr(e,"breadCrumbs/"+escape(el.innerHTML.replace(/ /g,"_")))}});Event.addListener(["languageMenuToggle"],"click",function(e){var el=Event.getTarget(e);if(el==this||el.parentNode==this){Tracker.trackByStr(e,"languageMenu")}else{if(el.nodeName=="A"){Tracker.trackByStr(e,"languageMenuItem/"+escape(el.innerHTML.replace(/ /g,"_")))}}});Event.addListener("articleFooter","click",function(e){var el=Event.getTarget(e);if(el.id=="star1"||el.id=="star2"||el.id=="star3"||el.id=="star4"||el.id=="star5"){Tracker.trackByStr(e,"articleRating/rate")}else{if(el.id=="unrate"){Tracker.trackByStr(e,"articleRating/unrate")}else{if(el.id=="shareDelicious_img"){Tracker.trackByStr(e,"share/delicious/img")}else{if(el.id=="shareDelicious_a"){Tracker.trackByStr(e,"share/delicious/a")}else{if(el.id=="shareStumble_img"){Tracker.trackByStr(e,"share/stumble/img")}else{if(el.id=="shareStumble_a"){Tracker.trackByStr(e,"share/stumble/a")}else{if(el.id=="shareDigg_img"){Tracker.trackByStr(e,"share/digg/img")}else{if(el.id=="shareDigg_a"){Tracker.trackByStr(e,"share/digg/a")}else{if(el.id=="shareEmail_img"){Tracker.trackByStr(e,"share/shareemail/img")}else{if(el.id=="shareEmail_a"){Tracker.trackByStr(e,"share/shareemail/a")}else{id=el.id;if(el.id==""){id=el.parentNode.id}id_parts=id.split("_");if(id_parts[0]=="fe"&&id_parts.length==3){Tracker.trackByStr(e,"articleFooter/"+id_parts[1]+"/"+id_parts[2])}}}}}}}}}}}})};YAHOO.namespace("Wikia");(function(){var Dom=YAHOO.util.Dom;var Event=YAHOO.util.Event;YAHOO.Wikia.Tracker={init:initTracker,trackByStr:function(e,str){YAHOO.Wikia.Tracker.track(str,e)},trackById:function(e){if(skin=="quartz"){group=YAHOO.Tools.getCookie("wikicitiesg");if(group!=null){if(this.id=="login"||this.id=="register"){this.id+="/"+group}}}YAHOO.Wikia.Tracker.track(this.id,e)},track:function(fakeurl,e){fakeurlArray=fakeurl.split("/");for(i=0;i<fakeurlArray.length;i++){if(!YAHOO.lang.isString(fakeurlArray[i])||fakeurlArray[i].length<1){return }}if(skin=="monobook"){skinname="monobook"}else{if(skin=="quartz"){skinname="vs2"}}if(window.skinname&&YAHOO.lang.isFunction(urchinTracker)){_uacct="UA-2871474-1";username=wgUserName==null?"anon":"user";fake="/1_"+skinname+"/"+username+"/"+fakeurl;urchinTracker(fake);YAHOO.log(fake,"info","tracker");if(wgPrivateTracker){fake="/1_"+skinname+"/"+wgDB+"/"+username+"/"+fakeurl;urchinTracker(fake);YAHOO.log(fake,"info","tracker")}if(wgServer.indexOf("-gamespot")>0){fake="/1_"+skinname+"/gamespot-"+wgDB+"/"+username+"/"+fakeurl;urchinTracker(fake);YAHOO.log(fake,"info","tracker")}}}};YAHOO.widget.Logger.enableBrowserConsole();Event.onDOMReady(YAHOO.Wikia.Tracker.init,YAHOO.Wikia.Tracker,true)})();if(typeof wgEnableAjaxLogin!="undefined"&&wgEnableAjaxLogin){YAHOO.namespace("wikia.AjaxLogin");(function(){var Dom=YAHOO.util.Dom;var Event=YAHOO.util.Event;var DDM=YAHOO.util.DragDropMgr;YAHOO.wikia.AjaxLogin={init:function(){if(Dom.get("userloginRound")){Event.addListener("login","click",YAHOO.wikia.AjaxLogin.showLoginPanel)}},showLoginPanel:function(e){if(e){YAHOO.util.Event.preventDefault(e)}if(YAHOO.lang.isUndefined(YAHOO.wikia.AjaxLogin.loginPanel)){var keylistenerHandler=function(type,args,obj){YAHOO.wikia.AjaxLogin.loginPanel.hide()};YAHOO.wikia.AjaxLogin.keylistener=new YAHOO.util.KeyListener(document,{keys:[27]},{fn:keylistenerHandler});YAHOO.log("Initiate and display loginPanel","info","AjaxLogin.js");YAHOO.wikia.AjaxLogin.loginPanel=new YAHOO.widget.Panel("userloginRound",{width:"auto",modal:true,constraintoviewport:true,draggable:false,fixedcenter:true,underlay:"none",visible:true,keylisteners:YAHOO.wikia.AjaxLogin.keylistener});Dom.setStyle("userloginRound","display","");YAHOO.wikia.AjaxLogin.loginPanel.render(document.body);Event.addListener("userajaxloginform","submit",YAHOO.wikia.AjaxLogin.formSubmitHandler);Event.addListener("wpAjaxRegister","click",YAHOO.wikia.AjaxLogin.ajaxRegisterConfirm)}else{YAHOO.log("Display initiated loginPanel","info","AjaxLogin.js");YAHOO.wikia.AjaxLogin.loginPanel.show()}if(Dom.get("wpName1")){Dom.get("wpName1").focus()}},formSubmitHandler:function(e){if(e){YAHOO.util.Event.preventDefault(e)}var ajaxLoginCallback={success:YAHOO.wikia.AjaxLogin.handleSuccess,failure:YAHOO.wikia.AjaxLogin.handleFailure,scope:YAHOO.wikia.AjaxLogin};YAHOO.util.Connect.setForm("userajaxloginform");YAHOO.wikia.AjaxLogin.blockLoginForm(true);var actionURL=wgServer+wgScriptPath+"/api.php?action=ajaxlogin&format=json";var cObj=YAHOO.util.Connect.asyncRequest("POST",actionURL,ajaxLoginCallback)},handleSuccess:function(o){var response=YAHOO.Tools.JSONParse(o.responseText);var responseResult=response.ajaxlogin.result;switch(responseResult){case"Reset":if(Dom.get("wpPreview")&&Dom.get("wpLogin")){if(typeof (ajaxLogin1)!="undefined"&&!confirm(ajaxLogin1)){break}}Dom.get("userajaxloginform").action=wgServer+wgScriptPath+"/index.php?title=Special:Userlogin&action=submitlogin&type=login";Event.removeListener("userajaxloginform","submit",YAHOO.wikia.AjaxLogin.formSubmitHandler);YAHOO.wikia.AjaxLogin.blockLoginForm(false);Dom.get("userajaxloginform").submit();YAHOO.wikia.AjaxLogin.blockLoginForm(true);break;case"Success":if(wgCanonicalNamespace=="Special"&&wgCanonicalSpecialPageName=="RequestWiki"){Event.removeListener("pSubmit","click",YAHOO.wikia.AjaxLogin.showLoginPanel);Dom.get("pSubmit").click()}else{if(Dom.get("wpPreview")&&Dom.get("wpLogin")){if(Dom.get("wikiDiff")&&(Dom.get("wikiDiff").childNodes.length>0)){Dom.get("wpDiff").click()}else{if(Dom.get("wikiPreview")&&Dom.get("wikiPreview").childNodes.length==0){Dom.get("wpLogin").value=1}Dom.get("wpPreview").click()}}else{if(wgCanonicalSpecialPageName=="Userlogout"){window.location.href=wgServer+wgScriptPath}else{window.location.reload(true)}}}break;case"NotExists":this.blockLoginForm(false);Dom.get("wpName1").value="";Dom.get("wpPassword1").value="";Dom.get("wpName1").focus();case"WrongPass":this.blockLoginForm(false);Dom.get("wpPassword1").value="";Dom.get("wpPassword1").focus();default:this.blockLoginForm(false);this.displayReason(response.ajaxlogin.text);break}},handleFailure:function(){YAHOO.log("YAHOO.wikia.AjaxLogin.handleFailure was called","error","AjaxLogin.js")},displayReason:function(reason){Dom.setStyle("wpError","display","");Dom.get("wpError").innerHTML=reason+"<br/><br/>"},blockLoginForm:function(block){if(!YAHOO.lang.isBoolean(block)){YAHOO.log("YAHOO.wikia.AjaxLogin.blockLoginForm was called with parameter which is not boolean","error","AjaxLogin.js");return }if(Dom.get("wpName1")){Dom.get("wpName1").disabled=block}if(Dom.get("wpPassword1")){Dom.get("wpPassword1").disabled=block}if(Dom.get("wpLoginattempt")){Dom.get("wpLoginattempt").disabled=block}if(Dom.get("wpRemember")){Dom.get("wpRemember").disabled=block}if(Dom.get("wpMailmypassword")){Dom.get("wpMailmypassword").disabled=block}},ajaxRegisterConfirm:function(e){if(Dom.get("wpPreview")&&Dom.get("wpLogin")){if(typeof (ajaxLogin2)!="undefined"&&!confirm(ajaxLogin2)){YAHOO.util.Event.preventDefault(e)}}}};Event.onDOMReady(YAHOO.wikia.AjaxLogin.init,YAHOO.wikia.AjaxLogin,true)})()}var reportProblemPanel;YAHOO.util.Event.onDOMReady(function(){YAHOO.util.Event.addListener(["fe_report_link","ca-report-problem"],"click",reportProblemShow,{ns:wgNamespaceNumber,title:wgTitle})});function reportProblemCheckTextarea(elem){var len=elem.textLength;if(len>512){elem.value=elem.value.substr(0,511)}}function reportProblemShow(type,args){reportProblemDiv=YAHOO.util.Dom.get("reportProblemForm");if(!reportProblemDiv){document.body.style.cursor="wait";form=document.createElement("div");form.id="reportProblemForm";form.className="roundedDiv";form.style.cssText="left: 150px; top: 100px; margin-top: 0; margin-left: 0";document.body.appendChild(form);var callback={success:function(o){document.body.style.cursor="default";YAHOO.util.Dom.get("reportProblemForm").innerHTML=o.responseText;reportProblemShowDialog()},failure:function(o){document.body.style.cursor="default";alert("error")}};reqReportProblemGetDialog=YAHOO.util.Connect.asyncRequest("POST","/index.php",callback,"action=ajax&rs=wfProblemReportsAjaxGetDialog&rsargs[]="+args.ns+"&rsargs[]="+args.title)}else{reportProblemShowDialog()}}function reportProblemShowDialog(){reportProblemPanel=new YAHOO.widget.Panel("reportProblemForm",{fixedcenter:false,modal:true,draggable:false,width:"565px",zIndex:1500});reportProblemPanel.render(document.body);var left=parseInt(YAHOO.util.Dom.getViewportWidth()/2-580/2);YAHOO.util.Dom.setStyle("reportProblemForm","left",left+"px");YAHOO.util.Event.addListener("pr_cancel","click",function(type,o){o.hide();if(YAHOO.Wikia.Tracker){YAHOO.Wikia.Tracker.trackByStr(null,"report-problem/cancel")}},reportProblemPanel);reportProblemPanel.show();return false}function reportProblemSubmit(){var callback={success:function(o){reportProblemCallback(YAHOO.Tools.JSONParse(o.responseText))},failure:function(o){reportProblemCallback(YAHOO.Tools.JSONParse(o.responseText))}};var form=YAHOO.util.Dom.get("reportProblem");var fields=form.elements;var postData="";for(f=0;f<6;f++){postData+=fields[f].name+"="+encodeURIComponent(fields[f].value)+"&"}YAHOO.util.Dom.get("pr_submit").disabled=true;YAHOO.util.Dom.get("pr_cancel").disabled=true;YAHOO.util.Dom.setStyle("reportProblemForm","cursor","progress");reqReportProblem=YAHOO.util.Connect.asyncRequest("POST",form.action,callback,postData+"ajax=1");return false}function reportProblemCallback(data){YAHOO.util.Dom.get("pr_submit").disabled=false;YAHOO.util.Dom.get("pr_cancel").disabled=false;YAHOO.util.Dom.setStyle("reportProblemForm","cursor","default");YAHOO.util.Dom.removeClass("pr_email","errorField");YAHOO.util.Dom.removeClass("pr_summary","errorField");YAHOO.util.Dom.removeClass("pr_cat","errorField");if(data.valid==0){if(data.email_empty){YAHOO.util.Dom.addClass("pr_email","errorField")}if(data.summary_empty||data.spam){YAHOO.util.Dom.addClass("pr_summary","errorField")}if(data.cat_empty){YAHOO.util.Dom.addClass("pr_cat","errorField")}YAHOO.util.Dom.get("pr_submit").disabled=false;YAHOO.util.Dom.get("pr_cancel").disabled=false;YAHOO.util.Dom.setStyle("reportProblemForm","cursor","default");if(YAHOO.Wikia.Tracker){YAHOO.Wikia.Tracker.trackByStr(null,"report-problem/invalid")}ShowDialogInfo(data.caption,data.msg,"OK",function(){this.hide()});return }reportProblemPanel.hide();if(YAHOO.Wikia.Tracker){YAHOO.Wikia.Tracker.trackByStr(null,"report-problem/reported")}ShowDialogInfo(data.caption,data.msg,"OK",function(){this.hide()})}function ShowDialogInfo(header,body,txtOK,handleOK){Dialog=new YAHOO.widget.SimpleDialog("wikiaDialogInfo",{width:"250px",zIndex:999,effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:0.25},fixedcenter:true,modal:true,draggable:true,close:false});var buttons=[{text:txtOK,handler:handleOK,isDefault:true}];Dialog.setHeader(header);Dialog.setBody(body);Dialog.cfg.setProperty("icon",YAHOO.widget.SimpleDialog.ICON_INFO);Dialog.cfg.queueProperty("buttons",buttons);Dialog.render(document.body);Dialog.show()}function reportProblemAction(elem,id,statusID,msgWait,askMsg){if(statusID==10&&!confirm(askMsg)){return }if(YAHOO.util.Dom.hasClass(elem,"problemReportsActionGreyedOut")){return }var parentElem=elem.parentNode;var oldHTML=parentElem.innerHTML;function reportProblemActionCallback(data){var problemStatusMsg=YAHOO.util.Dom.get("problemReportsList-problem-"+data.reportID+"-status");problemStatusMsg.innerHTML='<em class="reportProblemStatus'+data.status+'">'+data.text+"</em>";parentElem.innerHTML=oldHTML;if(data.status==10){parentElem.parentNode.parentNode.removeChild(parentElem.parentNode);var problemDescTr=YAHOO.util.Dom.get("problemReportsList-problem-"+data.reportID+"-summary");if(problemDescTr){problemDescTr.parentNode.removeChild(problemDescTr)}}else{action_icons=YAHOO.util.Dom.get("problemReportsActions-"+data.reportID).getElementsByTagName("a");YAHOO.util.Dom.removeClass(action_icons,"problemReportsActionGreyedOut");YAHOO.util.Dom.addClass("problemReportsActions-"+data.reportID+"-"+data.status,"problemReportsActionGreyedOut")}}parentElem.innerHTML=msgWait;var callback={success:function(o){reportProblemActionCallback(YAHOO.Tools.JSONParse(o.responseText))},failure:function(o){reportProblemActionCallback(YAHOO.Tools.JSONParse(o.responseText))}};req=YAHOO.util.Connect.asyncRequest("POST",document.location,callback,"id="+id+"&status="+statusID+"&ajax=1")}function reportProblemToogleSummary(id){var elem=YAHOO.util.Dom.get("problemReportsList-problem-"+id+"-summary");switch(elem.style.display){case"none":elem.style.display="";break;default:elem.style.display="none";break}}function reportProblemTemplatesSetup(list,textarea){if(!list||!textarea||list.childNodes.length==0){return }for(i=0;i<list.childNodes.length;i++){anchor=list.childNodes[i].getElementsByTagName("a")[0];anchor.href="#mailer";YAHOO.util.Event.addListener(anchor,"click",function(type,textarea){var callback={success:function(o){o.argument.textarea.style.cursor="text";o.argument.textarea.disabled=false;o.argument.textarea.value=o.responseText},failure:function(o){o.argument.textarea.style.cursor="text";o.argument.textarea.disabled=false;o.argument.textarea.value=""},argument:{textarea:textarea}};req=YAHOO.util.Connect.asyncRequest("POST",wgScriptPath+wgScript,callback,"action=raw&title="+encodeURI(this.title));textarea.style.cursor="wait";textarea.disabled=true},textarea)}}YAHOO.util.Event.onDOMReady(function(){YAHOO.util.Event.addListener("sidebar_button_helper","click",toggleSidebarVisible,"helper");YAHOO.util.Event.addListener("sidebar_button_widgets","click",toggleSidebarVisible,"widgets")});function toggleSidebarVisible(e,o){YAHOO.util.Event.preventDefault(e);switch(o){case"helper":YAHOO.util.Dom.setStyle("sidebar_helper","display","block");YAHOO.util.Dom.setStyle("sidebar_widgets","display","none");YAHOO.util.Dom.addClass("sidebar_button_helper","selected");YAHOO.util.Dom.removeClass("sidebar_button_widgets","selected");break;case"widgets":YAHOO.util.Dom.setStyle("sidebar_helper","display","none");YAHOO.util.Dom.setStyle("sidebar_widgets","display","block");YAHOO.util.Dom.addClass("sidebar_button_widgets","selected");YAHOO.util.Dom.removeClass("sidebar_button_helper","selected");break}if(wgUserName!==null){setHelperPanelState(o)}}var scriptUrl=wgServer+wgScriptPath;function setHelperPanelState(o){ajaxUrl=scriptUrl+"?action=ajax&rs=setHelperPanelState&rsargs="+o;var request=YAHOO.util.Connect.asyncRequest("GET",ajaxUrl)}